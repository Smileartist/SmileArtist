function Ux(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(o,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function _g(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wu={exports:{}},sa={},xu={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function zx(){if(Xp)return Me;Xp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function C(O,M,te){this.props=O,this.context=M,this.refs=b,this.updater=te||k}C.prototype.isReactComponent={},C.prototype.setState=function(O,M){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,M,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function E(){}E.prototype=C.prototype;function N(O,M,te){this.props=O,this.context=M,this.refs=b,this.updater=te||k}var j=N.prototype=new E;j.constructor=N,_(j,C.prototype),j.isPureReactComponent=!0;var P=Array.isArray,z=Object.prototype.hasOwnProperty,F={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function L(O,M,te){var ae,se={},ve=null,H=null;if(M!=null)for(ae in M.ref!==void 0&&(H=M.ref),M.key!==void 0&&(ve=""+M.key),M)z.call(M,ae)&&!D.hasOwnProperty(ae)&&(se[ae]=M[ae]);var le=arguments.length-2;if(le===1)se.children=te;else if(1<le){for(var ye=Array(le),be=0;be<le;be++)ye[be]=arguments[be+2];se.children=ye}if(O&&O.defaultProps)for(ae in le=O.defaultProps,le)se[ae]===void 0&&(se[ae]=le[ae]);return{$$typeof:t,type:O,key:ve,ref:H,props:se,_owner:F.current}}function q(O,M){return{$$typeof:t,type:O.type,key:M,ref:O.ref,props:O.props,_owner:O._owner}}function W(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function Z(O){var M={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(te){return M[te]})}var ne=/\/+/g;function K(O,M){return typeof O=="object"&&O!==null&&O.key!=null?Z(""+O.key):M.toString(36)}function ie(O,M,te,ae,se){var ve=typeof O;(ve==="undefined"||ve==="boolean")&&(O=null);var H=!1;if(O===null)H=!0;else switch(ve){case"string":case"number":H=!0;break;case"object":switch(O.$$typeof){case t:case e:H=!0}}if(H)return H=O,se=se(H),O=ae===""?"."+K(H,0):ae,P(se)?(te="",O!=null&&(te=O.replace(ne,"$&/")+"/"),ie(se,M,te,"",function(be){return be})):se!=null&&(W(se)&&(se=q(se,te+(!se.key||H&&H.key===se.key?"":(""+se.key).replace(ne,"$&/")+"/")+O)),M.push(se)),1;if(H=0,ae=ae===""?".":ae+":",P(O))for(var le=0;le<O.length;le++){ve=O[le];var ye=ae+K(ve,le);H+=ie(ve,M,te,ye,se)}else if(ye=w(O),typeof ye=="function")for(O=ye.call(O),le=0;!(ve=O.next()).done;)ve=ve.value,ye=ae+K(ve,le++),H+=ie(ve,M,te,ye,se);else if(ve==="object")throw M=String(O),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return H}function ce(O,M,te){if(O==null)return O;var ae=[],se=0;return ie(O,ae,"","",function(ve){return M.call(te,ve,se++)}),ae}function Q(O){if(O._status===-1){var M=O._result;M=M(),M.then(function(te){(O._status===0||O._status===-1)&&(O._status=1,O._result=te)},function(te){(O._status===0||O._status===-1)&&(O._status=2,O._result=te)}),O._status===-1&&(O._status=0,O._result=M)}if(O._status===1)return O._result.default;throw O._result}var ee={current:null},R={transition:null},V={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:R,ReactCurrentOwner:F};function G(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:ce,forEach:function(O,M,te){ce(O,function(){M.apply(this,arguments)},te)},count:function(O){var M=0;return ce(O,function(){M++}),M},toArray:function(O){return ce(O,function(M){return M})||[]},only:function(O){if(!W(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Me.Component=C,Me.Fragment=n,Me.Profiler=a,Me.PureComponent=N,Me.StrictMode=o,Me.Suspense=h,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Me.act=G,Me.cloneElement=function(O,M,te){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ae=_({},O.props),se=O.key,ve=O.ref,H=O._owner;if(M!=null){if(M.ref!==void 0&&(ve=M.ref,H=F.current),M.key!==void 0&&(se=""+M.key),O.type&&O.type.defaultProps)var le=O.type.defaultProps;for(ye in M)z.call(M,ye)&&!D.hasOwnProperty(ye)&&(ae[ye]=M[ye]===void 0&&le!==void 0?le[ye]:M[ye])}var ye=arguments.length-2;if(ye===1)ae.children=te;else if(1<ye){le=Array(ye);for(var be=0;be<ye;be++)le[be]=arguments[be+2];ae.children=le}return{$$typeof:t,type:O.type,key:se,ref:ve,props:ae,_owner:H}},Me.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},Me.createElement=L,Me.createFactory=function(O){var M=L.bind(null,O);return M.type=O,M},Me.createRef=function(){return{current:null}},Me.forwardRef=function(O){return{$$typeof:f,render:O}},Me.isValidElement=W,Me.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:Q}},Me.memo=function(O,M){return{$$typeof:m,type:O,compare:M===void 0?null:M}},Me.startTransition=function(O){var M=R.transition;R.transition={};try{O()}finally{R.transition=M}},Me.unstable_act=G,Me.useCallback=function(O,M){return ee.current.useCallback(O,M)},Me.useContext=function(O){return ee.current.useContext(O)},Me.useDebugValue=function(){},Me.useDeferredValue=function(O){return ee.current.useDeferredValue(O)},Me.useEffect=function(O,M){return ee.current.useEffect(O,M)},Me.useId=function(){return ee.current.useId()},Me.useImperativeHandle=function(O,M,te){return ee.current.useImperativeHandle(O,M,te)},Me.useInsertionEffect=function(O,M){return ee.current.useInsertionEffect(O,M)},Me.useLayoutEffect=function(O,M){return ee.current.useLayoutEffect(O,M)},Me.useMemo=function(O,M){return ee.current.useMemo(O,M)},Me.useReducer=function(O,M,te){return ee.current.useReducer(O,M,te)},Me.useRef=function(O){return ee.current.useRef(O)},Me.useState=function(O){return ee.current.useState(O)},Me.useSyncExternalStore=function(O,M,te){return ee.current.useSyncExternalStore(O,M,te)},Me.useTransition=function(){return ee.current.useTransition()},Me.version="18.3.1",Me}var Zp;function xl(){return Zp||(Zp=1,xu.exports=zx()),xu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function Fx(){if(em)return sa;em=1;var t=xl(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,h,m){var y,v={},w=null,k=null;m!==void 0&&(w=""+m),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(k=h.ref);for(y in h)o.call(h,y)&&!l.hasOwnProperty(y)&&(v[y]=h[y]);if(f&&f.defaultProps)for(y in h=f.defaultProps,h)v[y]===void 0&&(v[y]=h[y]);return{$$typeof:e,type:f,key:w,ref:k,props:v,_owner:a.current}}return sa.Fragment=n,sa.jsx=c,sa.jsxs=c,sa}var tm;function Bx(){return tm||(tm=1,wu.exports=Fx()),wu.exports}var u=Bx(),Ui={},bu={exports:{}},zt={},_u={exports:{}},Su={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function Vx(){return rm||(rm=1,(function(t){function e(R,V){var G=R.length;R.push(V);e:for(;0<G;){var O=G-1>>>1,M=R[O];if(0<a(M,V))R[O]=V,R[G]=M,G=O;else break e}}function n(R){return R.length===0?null:R[0]}function o(R){if(R.length===0)return null;var V=R[0],G=R.pop();if(G!==V){R[0]=G;e:for(var O=0,M=R.length,te=M>>>1;O<te;){var ae=2*(O+1)-1,se=R[ae],ve=ae+1,H=R[ve];if(0>a(se,G))ve<M&&0>a(H,se)?(R[O]=H,R[ve]=G,O=ve):(R[O]=se,R[ae]=G,O=ae);else if(ve<M&&0>a(H,G))R[O]=H,R[ve]=G,O=ve;else break e}}return V}function a(R,V){var G=R.sortIndex-V.sortIndex;return G!==0?G:R.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var h=[],m=[],y=1,v=null,w=3,k=!1,_=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(R){for(var V=n(m);V!==null;){if(V.callback===null)o(m);else if(V.startTime<=R)o(m),V.sortIndex=V.expirationTime,e(h,V);else break;V=n(m)}}function P(R){if(b=!1,j(R),!_)if(n(h)!==null)_=!0,Q(z);else{var V=n(m);V!==null&&ee(P,V.startTime-R)}}function z(R,V){_=!1,b&&(b=!1,E(L),L=-1),k=!0;var G=w;try{for(j(V),v=n(h);v!==null&&(!(v.expirationTime>V)||R&&!Z());){var O=v.callback;if(typeof O=="function"){v.callback=null,w=v.priorityLevel;var M=O(v.expirationTime<=V);V=t.unstable_now(),typeof M=="function"?v.callback=M:v===n(h)&&o(h),j(V)}else o(h);v=n(h)}if(v!==null)var te=!0;else{var ae=n(m);ae!==null&&ee(P,ae.startTime-V),te=!1}return te}finally{v=null,w=G,k=!1}}var F=!1,D=null,L=-1,q=5,W=-1;function Z(){return!(t.unstable_now()-W<q)}function ne(){if(D!==null){var R=t.unstable_now();W=R;var V=!0;try{V=D(!0,R)}finally{V?K():(F=!1,D=null)}}else F=!1}var K;if(typeof N=="function")K=function(){N(ne)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ce=ie.port2;ie.port1.onmessage=ne,K=function(){ce.postMessage(null)}}else K=function(){C(ne,0)};function Q(R){D=R,F||(F=!0,K())}function ee(R,V){L=C(function(){R(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){_||k||(_=!0,Q(z))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(R){switch(w){case 1:case 2:case 3:var V=3;break;default:V=w}var G=w;w=V;try{return R()}finally{w=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,V){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var G=w;w=R;try{return V()}finally{w=G}},t.unstable_scheduleCallback=function(R,V,G){var O=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?O+G:O):G=O,R){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=G+M,R={id:y++,callback:V,priorityLevel:R,startTime:G,expirationTime:M,sortIndex:-1},G>O?(R.sortIndex=G,e(m,R),n(h)===null&&R===n(m)&&(b?(E(L),L=-1):b=!0,ee(P,G-O))):(R.sortIndex=M,e(h,R),_||k||(_=!0,Q(z))),R},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(R){var V=w;return function(){var G=w;w=V;try{return R.apply(this,arguments)}finally{w=G}}}})(Su)),Su}var nm;function Wx(){return nm||(nm=1,_u.exports=Vx()),_u.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function Hx(){if(sm)return zt;sm=1;var t=xl(),e=Wx();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(a[r]=s,r=0;r<s.length;r++)o.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function w(r){return h.call(v,r)?!0:h.call(y,r)?!1:m.test(r)?v[r]=!0:(y[r]=!0,!1)}function k(r,s,i,d){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:i!==null?!i.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function _(r,s,i,d){if(s===null||typeof s>"u"||k(r,s,i,d))return!0;if(d)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(r,s,i,d,p,g,S){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=i,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=S}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];C[s]=new b(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function N(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(E,N);C[s]=new b(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(E,N);C[s]=new b(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(E,N);C[s]=new b(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function j(r,s,i,d){var p=C.hasOwnProperty(s)?C[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(_(s,i,p,d)&&(i=null),d||p===null?w(s)&&(i===null?r.removeAttribute(s):r.setAttribute(s,""+i)):p.mustUseProperty?r[p.propertyName]=i===null?p.type===3?!1:"":i:(s=p.attributeName,d=p.attributeNamespace,i===null?r.removeAttribute(s):(p=p.type,i=p===3||p===4&&i===!0?"":""+i,d?r.setAttributeNS(d,s,i):r.setAttribute(s,i))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),F=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),Z=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),R=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=R&&r[R]||r["@@iterator"],typeof r=="function"?r:null)}var G=Object.assign,O;function M(r){if(O===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+r}var te=!1;function ae(r,s){if(!r||te)return"";te=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(B){var d=B}Reflect.construct(r,[],s)}else{try{s.call()}catch(B){d=B}r.call(s.prototype)}else{try{throw Error()}catch(B){d=B}r()}}catch(B){if(B&&d&&typeof B.stack=="string"){for(var p=B.stack.split(`
`),g=d.stack.split(`
`),S=p.length-1,T=g.length-1;1<=S&&0<=T&&p[S]!==g[T];)T--;for(;1<=S&&0<=T;S--,T--)if(p[S]!==g[T]){if(S!==1||T!==1)do if(S--,T--,0>T||p[S]!==g[T]){var A=`
`+p[S].replace(" at new "," at ");return r.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",r.displayName)),A}while(1<=S&&0<=T);break}}}finally{te=!1,Error.prepareStackTrace=i}return(r=r?r.displayName||r.name:"")?M(r):""}function se(r){switch(r.tag){case 5:return M(r.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return r=ae(r.type,!1),r;case 11:return r=ae(r.type.render,!1),r;case 1:return r=ae(r.type,!0),r;default:return""}}function ve(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case F:return"Portal";case q:return"Profiler";case L:return"StrictMode";case K:return"Suspense";case ie:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Z:return(r.displayName||"Context")+".Consumer";case W:return(r._context.displayName||"Context")+".Provider";case ne:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ce:return s=r.displayName||null,s!==null?s:ve(r.type)||"Memo";case Q:s=r._payload,r=r._init;try{return ve(r(s))}catch{}}return null}function H(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(s);case 8:return s===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function le(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ye(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function be(r){var s=ye(r)?"checked":"value",i=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var p=i.get,g=i.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(S){d=""+S,g.call(this,S)}}),Object.defineProperty(r,s,{enumerable:i.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Re(r){r._valueTracker||(r._valueTracker=be(r))}function Fe(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var i=s.getValue(),d="";return r&&(d=ye(r)?r.checked?"true":"false":r.value),r=d,r!==i?(s.setValue(r),!0):!1}function at(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function _e(r,s){var i=s.checked;return G({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??r._wrapperState.initialChecked})}function Mr(r,s){var i=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;i=le(s.value!=null?s.value:i),r._wrapperState={initialChecked:d,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Lr(r,s){s=s.checked,s!=null&&j(r,"checked",s,!1)}function or(r,s){Lr(r,s);var i=le(s.value),d=s.type;if(i!=null)d==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+i):r.value!==""+i&&(r.value=""+i);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?go(r,s.type,i):s.hasOwnProperty("defaultValue")&&go(r,s.type,le(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function ja(r,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,i||s===r.value||(r.value=s),r.defaultValue=s}i=r.name,i!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,i!==""&&(r.name=i)}function go(r,s,i){(s!=="number"||at(r.ownerDocument)!==r)&&(i==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+i&&(r.defaultValue=""+i))}var Jt=Array.isArray;function $r(r,s,i,d){if(r=r.options,s){s={};for(var p=0;p<i.length;p++)s["$"+i[p]]=!0;for(i=0;i<r.length;i++)p=s.hasOwnProperty("$"+r[i].value),r[i].selected!==p&&(r[i].selected=p),p&&d&&(r[i].defaultSelected=!0)}else{for(i=""+le(i),s=null,p=0;p<r.length;p++){if(r[p].value===i){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function vo(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function tn(r,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(n(92));if(Jt(i)){if(1<i.length)throw Error(n(93));i=i[0]}s=i}s==null&&(s=""),i=s}r._wrapperState={initialValue:le(i)}}function Na(r,s){var i=le(s.value),d=le(s.defaultValue);i!=null&&(i=""+i,i!==r.value&&(r.value=i),s.defaultValue==null&&r.defaultValue!==i&&(r.defaultValue=i)),d!=null&&(r.defaultValue=""+d)}function yo(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Ta(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wo(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Ta(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ur,Ra=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,i,d,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Ur=Ur||document.createElement("div"),Ur.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ur.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function rn(r,s){if(s){var i=r.firstChild;if(i&&i===r.lastChild&&i.nodeType===3){i.nodeValue=s;return}}r.textContent=s}var Ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$n=["Webkit","ms","Moz","O"];Object.keys(Ln).forEach(function(r){$n.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ln[s]=Ln[r]})});function xo(r,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||Ln.hasOwnProperty(r)&&Ln[r]?(""+s).trim():s+"px"}function Pa(r,s){r=r.style;for(var i in s)if(s.hasOwnProperty(i)){var d=i.indexOf("--")===0,p=xo(i,s[i],d);i==="float"&&(i="cssFloat"),d?r.setProperty(i,p):r[i]=p}}var Ll=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bo(r,s){if(s){if(Ll[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function _o(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var So=null;function Ce(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Le=null,$e=null,Ie=null;function Je(r){if(r=Vo(r)){if(typeof Le!="function")throw Error(n(280));var s=r.stateNode;s&&(s=ei(s),Le(r.stateNode,r.type,s))}}function xt(r){$e?Ie?Ie.push(r):Ie=[r]:$e=r}function gt(){if($e){var r=$e,s=Ie;if(Ie=$e=null,Je(r),s)for(r=0;r<s.length;r++)Je(s[r])}}function ar(r,s){return r(s)}function It(){}var ir=!1;function lr(r,s,i){if(ir)return r(s,i);ir=!0;try{return ar(r,s,i)}finally{ir=!1,($e!==null||Ie!==null)&&(It(),gt())}}function Ct(r,s){var i=r.stateNode;if(i===null)return null;var d=ei(i);if(d===null)return null;i=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(i&&typeof i!="function")throw Error(n(231,s,typeof i));return i}var nn=!1;if(f)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){nn=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{nn=!1}function Hw(r,s,i,d,p,g,S,T,A){var B=Array.prototype.slice.call(arguments,3);try{s.apply(i,B)}catch(J){this.onError(J)}}var ko=!1,Aa=null,Oa=!1,$l=null,qw={onError:function(r){ko=!0,Aa=r}};function Kw(r,s,i,d,p,g,S,T,A){ko=!1,Aa=null,Hw.apply(qw,arguments)}function Gw(r,s,i,d,p,g,S,T,A){if(Kw.apply(this,arguments),ko){if(ko){var B=Aa;ko=!1,Aa=null}else throw Error(n(198));Oa||(Oa=!0,$l=B)}}function Un(r){var s=r,i=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(i=s.return),r=s.return;while(r)}return s.tag===3?i:null}function bf(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function _f(r){if(Un(r)!==r)throw Error(n(188))}function Yw(r){var s=r.alternate;if(!s){if(s=Un(r),s===null)throw Error(n(188));return s!==r?null:r}for(var i=r,d=s;;){var p=i.return;if(p===null)break;var g=p.alternate;if(g===null){if(d=p.return,d!==null){i=d;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===i)return _f(p),r;if(g===d)return _f(p),s;g=g.sibling}throw Error(n(188))}if(i.return!==d.return)i=p,d=g;else{for(var S=!1,T=p.child;T;){if(T===i){S=!0,i=p,d=g;break}if(T===d){S=!0,d=p,i=g;break}T=T.sibling}if(!S){for(T=g.child;T;){if(T===i){S=!0,i=g,d=p;break}if(T===d){S=!0,d=g,i=p;break}T=T.sibling}if(!S)throw Error(n(189))}}if(i.alternate!==d)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?r:s}function Sf(r){return r=Yw(r),r!==null?kf(r):null}function kf(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=kf(r);if(s!==null)return s;r=r.sibling}return null}var Cf=e.unstable_scheduleCallback,Ef=e.unstable_cancelCallback,Jw=e.unstable_shouldYield,Qw=e.unstable_requestPaint,st=e.unstable_now,Xw=e.unstable_getCurrentPriorityLevel,Ul=e.unstable_ImmediatePriority,jf=e.unstable_UserBlockingPriority,Ia=e.unstable_NormalPriority,Zw=e.unstable_LowPriority,Nf=e.unstable_IdlePriority,Da=null,kr=null;function e0(r){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(Da,r,void 0,(r.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:n0,t0=Math.log,r0=Math.LN2;function n0(r){return r>>>=0,r===0?32:31-(t0(r)/r0|0)|0}var Ma=64,La=4194304;function Co(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function $a(r,s){var i=r.pendingLanes;if(i===0)return 0;var d=0,p=r.suspendedLanes,g=r.pingedLanes,S=i&268435455;if(S!==0){var T=S&~p;T!==0?d=Co(T):(g&=S,g!==0&&(d=Co(g)))}else S=i&~p,S!==0?d=Co(S):g!==0&&(d=Co(g));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,g=s&-s,p>=g||p===16&&(g&4194240)!==0))return s;if((d&4)!==0&&(d|=i&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)i=31-cr(s),p=1<<i,d|=r[i],s&=~p;return d}function s0(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o0(r,s){for(var i=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes;0<g;){var S=31-cr(g),T=1<<S,A=p[S];A===-1?((T&i)===0||(T&d)!==0)&&(p[S]=s0(T,s)):A<=s&&(r.expiredLanes|=T),g&=~T}}function zl(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Tf(){var r=Ma;return Ma<<=1,(Ma&4194240)===0&&(Ma=64),r}function Fl(r){for(var s=[],i=0;31>i;i++)s.push(r);return s}function Eo(r,s,i){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-cr(s),r[s]=i}function a0(r,s){var i=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<i;){var p=31-cr(i),g=1<<p;s[p]=0,d[p]=-1,r[p]=-1,i&=~g}}function Bl(r,s){var i=r.entangledLanes|=s;for(r=r.entanglements;i;){var d=31-cr(i),p=1<<d;p&s|r[d]&s&&(r[d]|=s),i&=~p}}var We=0;function Rf(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Pf,Vl,Af,Of,If,Wl=!1,Ua=[],on=null,an=null,ln=null,jo=new Map,No=new Map,cn=[],i0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Df(r,s){switch(r){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":jo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(s.pointerId)}}function To(r,s,i,d,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:i,eventSystemFlags:d,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Vo(s),s!==null&&Vl(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function l0(r,s,i,d,p){switch(s){case"focusin":return on=To(on,r,s,i,d,p),!0;case"dragenter":return an=To(an,r,s,i,d,p),!0;case"mouseover":return ln=To(ln,r,s,i,d,p),!0;case"pointerover":var g=p.pointerId;return jo.set(g,To(jo.get(g)||null,r,s,i,d,p)),!0;case"gotpointercapture":return g=p.pointerId,No.set(g,To(No.get(g)||null,r,s,i,d,p)),!0}return!1}function Mf(r){var s=zn(r.target);if(s!==null){var i=Un(s);if(i!==null){if(s=i.tag,s===13){if(s=bf(i),s!==null){r.blockedOn=s,If(r.priority,function(){Af(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){r.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}r.blockedOn=null}function za(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var i=ql(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(i===null){i=r.nativeEvent;var d=new i.constructor(i.type,i);So=d,i.target.dispatchEvent(d),So=null}else return s=Vo(i),s!==null&&Vl(s),r.blockedOn=i,!1;s.shift()}return!0}function Lf(r,s,i){za(r)&&i.delete(s)}function c0(){Wl=!1,on!==null&&za(on)&&(on=null),an!==null&&za(an)&&(an=null),ln!==null&&za(ln)&&(ln=null),jo.forEach(Lf),No.forEach(Lf)}function Ro(r,s){r.blockedOn===s&&(r.blockedOn=null,Wl||(Wl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,c0)))}function Po(r){function s(p){return Ro(p,r)}if(0<Ua.length){Ro(Ua[0],r);for(var i=1;i<Ua.length;i++){var d=Ua[i];d.blockedOn===r&&(d.blockedOn=null)}}for(on!==null&&Ro(on,r),an!==null&&Ro(an,r),ln!==null&&Ro(ln,r),jo.forEach(s),No.forEach(s),i=0;i<cn.length;i++)d=cn[i],d.blockedOn===r&&(d.blockedOn=null);for(;0<cn.length&&(i=cn[0],i.blockedOn===null);)Mf(i),i.blockedOn===null&&cn.shift()}var gs=P.ReactCurrentBatchConfig,Fa=!0;function u0(r,s,i,d){var p=We,g=gs.transition;gs.transition=null;try{We=1,Hl(r,s,i,d)}finally{We=p,gs.transition=g}}function d0(r,s,i,d){var p=We,g=gs.transition;gs.transition=null;try{We=4,Hl(r,s,i,d)}finally{We=p,gs.transition=g}}function Hl(r,s,i,d){if(Fa){var p=ql(r,s,i,d);if(p===null)cc(r,s,d,Ba,i),Df(r,d);else if(l0(p,r,s,i,d))d.stopPropagation();else if(Df(r,d),s&4&&-1<i0.indexOf(r)){for(;p!==null;){var g=Vo(p);if(g!==null&&Pf(g),g=ql(r,s,i,d),g===null&&cc(r,s,d,Ba,i),g===p)break;p=g}p!==null&&d.stopPropagation()}else cc(r,s,d,null,i)}}var Ba=null;function ql(r,s,i,d){if(Ba=null,r=Ce(d),r=zn(r),r!==null)if(s=Un(r),s===null)r=null;else if(i=s.tag,i===13){if(r=bf(s),r!==null)return r;r=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ba=r,null}function $f(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xw()){case Ul:return 1;case jf:return 4;case Ia:case Zw:return 16;case Nf:return 536870912;default:return 16}default:return 16}}var un=null,Kl=null,Va=null;function Uf(){if(Va)return Va;var r,s=Kl,i=s.length,d,p="value"in un?un.value:un.textContent,g=p.length;for(r=0;r<i&&s[r]===p[r];r++);var S=i-r;for(d=1;d<=S&&s[i-d]===p[g-d];d++);return Va=p.slice(r,1<d?1-d:void 0)}function Wa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ha(){return!0}function zf(){return!1}function Ft(r){function s(i,d,p,g,S){this._reactName=i,this._targetInst=p,this.type=d,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(i=r[T],this[T]=i?i(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ha:zf,this.isPropagationStopped=zf,this}return G(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ha)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ha)},persist:function(){},isPersistent:Ha}),s}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=Ft(vs),Ao=G({},vs,{view:0,detail:0}),f0=Ft(Ao),Yl,Jl,Oo,qa=G({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Oo&&(Oo&&r.type==="mousemove"?(Yl=r.screenX-Oo.screenX,Jl=r.screenY-Oo.screenY):Jl=Yl=0,Oo=r),Yl)},movementY:function(r){return"movementY"in r?r.movementY:Jl}}),Ff=Ft(qa),h0=G({},qa,{dataTransfer:0}),p0=Ft(h0),m0=G({},Ao,{relatedTarget:0}),Ql=Ft(m0),g0=G({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),v0=Ft(g0),y0=G({},vs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),w0=Ft(y0),x0=G({},vs,{data:0}),Bf=Ft(x0),b0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k0(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=S0[r])?!!s[r]:!1}function Xl(){return k0}var C0=G({},Ao,{key:function(r){if(r.key){var s=b0[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Wa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?_0[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(r){return r.type==="keypress"?Wa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Wa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),E0=Ft(C0),j0=G({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vf=Ft(j0),N0=G({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),T0=Ft(N0),R0=G({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),P0=Ft(R0),A0=G({},qa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),O0=Ft(A0),I0=[9,13,27,32],Zl=f&&"CompositionEvent"in window,Io=null;f&&"documentMode"in document&&(Io=document.documentMode);var D0=f&&"TextEvent"in window&&!Io,Wf=f&&(!Zl||Io&&8<Io&&11>=Io),Hf=" ",qf=!1;function Kf(r,s){switch(r){case"keyup":return I0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gf(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ys=!1;function M0(r,s){switch(r){case"compositionend":return Gf(s);case"keypress":return s.which!==32?null:(qf=!0,Hf);case"textInput":return r=s.data,r===Hf&&qf?null:r;default:return null}}function L0(r,s){if(ys)return r==="compositionend"||!Zl&&Kf(r,s)?(r=Uf(),Va=Kl=un=null,ys=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wf&&s.locale!=="ko"?null:s.data;default:return null}}var $0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!$0[r.type]:s==="textarea"}function Jf(r,s,i,d){xt(d),s=Qa(s,"onChange"),0<s.length&&(i=new Gl("onChange","change",null,i,d),r.push({event:i,listeners:s}))}var Do=null,Mo=null;function U0(r){ph(r,0)}function Ka(r){var s=Ss(r);if(Fe(s))return r}function z0(r,s){if(r==="change")return s}var Qf=!1;if(f){var ec;if(f){var tc="oninput"in document;if(!tc){var Xf=document.createElement("div");Xf.setAttribute("oninput","return;"),tc=typeof Xf.oninput=="function"}ec=tc}else ec=!1;Qf=ec&&(!document.documentMode||9<document.documentMode)}function Zf(){Do&&(Do.detachEvent("onpropertychange",eh),Mo=Do=null)}function eh(r){if(r.propertyName==="value"&&Ka(Mo)){var s=[];Jf(s,Mo,r,Ce(r)),lr(U0,s)}}function F0(r,s,i){r==="focusin"?(Zf(),Do=s,Mo=i,Do.attachEvent("onpropertychange",eh)):r==="focusout"&&Zf()}function B0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ka(Mo)}function V0(r,s){if(r==="click")return Ka(s)}function W0(r,s){if(r==="input"||r==="change")return Ka(s)}function H0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var ur=typeof Object.is=="function"?Object.is:H0;function Lo(r,s){if(ur(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var i=Object.keys(r),d=Object.keys(s);if(i.length!==d.length)return!1;for(d=0;d<i.length;d++){var p=i[d];if(!h.call(s,p)||!ur(r[p],s[p]))return!1}return!0}function th(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function rh(r,s){var i=th(r);r=0;for(var d;i;){if(i.nodeType===3){if(d=r+i.textContent.length,r<=s&&d>=s)return{node:i,offset:s-r};r=d}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=th(i)}}function nh(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?nh(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function sh(){for(var r=window,s=at();s instanceof r.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)r=s.contentWindow;else break;s=at(r.document)}return s}function rc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function q0(r){var s=sh(),i=r.focusedElem,d=r.selectionRange;if(s!==i&&i&&i.ownerDocument&&nh(i.ownerDocument.documentElement,i)){if(d!==null&&rc(i)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(r,i.value.length);else if(r=(s=i.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=i.textContent.length,g=Math.min(d.start,p);d=d.end===void 0?g:Math.min(d.end,p),!r.extend&&g>d&&(p=d,d=g,g=p),p=rh(i,g);var S=rh(i,d);p&&S&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==S.node||r.focusOffset!==S.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),g>d?(r.addRange(s),r.extend(S.node,S.offset)):(s.setEnd(S.node,S.offset),r.addRange(s)))}}for(s=[],r=i;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)r=s[i],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var K0=f&&"documentMode"in document&&11>=document.documentMode,ws=null,nc=null,$o=null,sc=!1;function oh(r,s,i){var d=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;sc||ws==null||ws!==at(d)||(d=ws,"selectionStart"in d&&rc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),$o&&Lo($o,d)||($o=d,d=Qa(nc,"onSelect"),0<d.length&&(s=new Gl("onSelect","select",null,s,i),r.push({event:s,listeners:d}),s.target=ws)))}function Ga(r,s){var i={};return i[r.toLowerCase()]=s.toLowerCase(),i["Webkit"+r]="webkit"+s,i["Moz"+r]="moz"+s,i}var xs={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},oc={},ah={};f&&(ah=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Ya(r){if(oc[r])return oc[r];if(!xs[r])return r;var s=xs[r],i;for(i in s)if(s.hasOwnProperty(i)&&i in ah)return oc[r]=s[i];return r}var ih=Ya("animationend"),lh=Ya("animationiteration"),ch=Ya("animationstart"),uh=Ya("transitionend"),dh=new Map,fh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(r,s){dh.set(r,s),l(s,[r])}for(var ac=0;ac<fh.length;ac++){var ic=fh[ac],G0=ic.toLowerCase(),Y0=ic[0].toUpperCase()+ic.slice(1);dn(G0,"on"+Y0)}dn(ih,"onAnimationEnd"),dn(lh,"onAnimationIteration"),dn(ch,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(uh,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function hh(r,s,i){var d=r.type||"unknown-event";r.currentTarget=i,Gw(d,s,void 0,r),r.currentTarget=null}function ph(r,s){s=(s&4)!==0;for(var i=0;i<r.length;i++){var d=r[i],p=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var S=d.length-1;0<=S;S--){var T=d[S],A=T.instance,B=T.currentTarget;if(T=T.listener,A!==g&&p.isPropagationStopped())break e;hh(p,T,B),g=A}else for(S=0;S<d.length;S++){if(T=d[S],A=T.instance,B=T.currentTarget,T=T.listener,A!==g&&p.isPropagationStopped())break e;hh(p,T,B),g=A}}}if(Oa)throw r=$l,Oa=!1,$l=null,r}function Ge(r,s){var i=s[mc];i===void 0&&(i=s[mc]=new Set);var d=r+"__bubble";i.has(d)||(mh(s,r,2,!1),i.add(d))}function lc(r,s,i){var d=0;s&&(d|=4),mh(i,r,d,s)}var Ja="_reactListening"+Math.random().toString(36).slice(2);function zo(r){if(!r[Ja]){r[Ja]=!0,o.forEach(function(i){i!=="selectionchange"&&(J0.has(i)||lc(i,!1,r),lc(i,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ja]||(s[Ja]=!0,lc("selectionchange",!1,s))}}function mh(r,s,i,d){switch($f(s)){case 1:var p=u0;break;case 4:p=d0;break;default:p=Hl}i=p.bind(null,s,i,r),p=void 0,!nn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,i,{capture:!0,passive:p}):r.addEventListener(s,i,!0):p!==void 0?r.addEventListener(s,i,{passive:p}):r.addEventListener(s,i,!1)}function cc(r,s,i,d,p){var g=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var T=d.stateNode.containerInfo;if(T===p||T.nodeType===8&&T.parentNode===p)break;if(S===4)for(S=d.return;S!==null;){var A=S.tag;if((A===3||A===4)&&(A=S.stateNode.containerInfo,A===p||A.nodeType===8&&A.parentNode===p))return;S=S.return}for(;T!==null;){if(S=zn(T),S===null)return;if(A=S.tag,A===5||A===6){d=g=S;continue e}T=T.parentNode}}d=d.return}lr(function(){var B=g,J=Ce(i),X=[];e:{var Y=dh.get(r);if(Y!==void 0){var ue=Gl,he=r;switch(r){case"keypress":if(Wa(i)===0)break e;case"keydown":case"keyup":ue=E0;break;case"focusin":he="focus",ue=Ql;break;case"focusout":he="blur",ue=Ql;break;case"beforeblur":case"afterblur":ue=Ql;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Ff;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=p0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=T0;break;case ih:case lh:case ch:ue=v0;break;case uh:ue=P0;break;case"scroll":ue=f0;break;case"wheel":ue=O0;break;case"copy":case"cut":case"paste":ue=w0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Vf}var ge=(s&4)!==0,ot=!ge&&r==="scroll",$=ge?Y!==null?Y+"Capture":null:Y;ge=[];for(var I=B,U;I!==null;){U=I;var re=U.stateNode;if(U.tag===5&&re!==null&&(U=re,$!==null&&(re=Ct(I,$),re!=null&&ge.push(Fo(I,re,U)))),ot)break;I=I.return}0<ge.length&&(Y=new ue(Y,he,null,i,J),X.push({event:Y,listeners:ge}))}}if((s&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",Y&&i!==So&&(he=i.relatedTarget||i.fromElement)&&(zn(he)||he[zr]))break e;if((ue||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,ue?(he=i.relatedTarget||i.toElement,ue=B,he=he?zn(he):null,he!==null&&(ot=Un(he),he!==ot||he.tag!==5&&he.tag!==6)&&(he=null)):(ue=null,he=B),ue!==he)){if(ge=Ff,re="onMouseLeave",$="onMouseEnter",I="mouse",(r==="pointerout"||r==="pointerover")&&(ge=Vf,re="onPointerLeave",$="onPointerEnter",I="pointer"),ot=ue==null?Y:Ss(ue),U=he==null?Y:Ss(he),Y=new ge(re,I+"leave",ue,i,J),Y.target=ot,Y.relatedTarget=U,re=null,zn(J)===B&&(ge=new ge($,I+"enter",he,i,J),ge.target=U,ge.relatedTarget=ot,re=ge),ot=re,ue&&he)t:{for(ge=ue,$=he,I=0,U=ge;U;U=bs(U))I++;for(U=0,re=$;re;re=bs(re))U++;for(;0<I-U;)ge=bs(ge),I--;for(;0<U-I;)$=bs($),U--;for(;I--;){if(ge===$||$!==null&&ge===$.alternate)break t;ge=bs(ge),$=bs($)}ge=null}else ge=null;ue!==null&&gh(X,Y,ue,ge,!1),he!==null&&ot!==null&&gh(X,ot,he,ge,!0)}}e:{if(Y=B?Ss(B):window,ue=Y.nodeName&&Y.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Y.type==="file")var we=z0;else if(Yf(Y))if(Qf)we=W0;else{we=B0;var Se=F0}else(ue=Y.nodeName)&&ue.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(we=V0);if(we&&(we=we(r,B))){Jf(X,we,i,J);break e}Se&&Se(r,Y,B),r==="focusout"&&(Se=Y._wrapperState)&&Se.controlled&&Y.type==="number"&&go(Y,"number",Y.value)}switch(Se=B?Ss(B):window,r){case"focusin":(Yf(Se)||Se.contentEditable==="true")&&(ws=Se,nc=B,$o=null);break;case"focusout":$o=nc=ws=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,oh(X,i,J);break;case"selectionchange":if(K0)break;case"keydown":case"keyup":oh(X,i,J)}var ke;if(Zl)e:{switch(r){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else ys?Kf(r,i)&&(Ne="onCompositionEnd"):r==="keydown"&&i.keyCode===229&&(Ne="onCompositionStart");Ne&&(Wf&&i.locale!=="ko"&&(ys||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&ys&&(ke=Uf()):(un=J,Kl="value"in un?un.value:un.textContent,ys=!0)),Se=Qa(B,Ne),0<Se.length&&(Ne=new Bf(Ne,r,null,i,J),X.push({event:Ne,listeners:Se}),ke?Ne.data=ke:(ke=Gf(i),ke!==null&&(Ne.data=ke)))),(ke=D0?M0(r,i):L0(r,i))&&(B=Qa(B,"onBeforeInput"),0<B.length&&(J=new Bf("onBeforeInput","beforeinput",null,i,J),X.push({event:J,listeners:B}),J.data=ke))}ph(X,s)})}function Fo(r,s,i){return{instance:r,listener:s,currentTarget:i}}function Qa(r,s){for(var i=s+"Capture",d=[];r!==null;){var p=r,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=Ct(r,i),g!=null&&d.unshift(Fo(r,g,p)),g=Ct(r,s),g!=null&&d.push(Fo(r,g,p))),r=r.return}return d}function bs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function gh(r,s,i,d,p){for(var g=s._reactName,S=[];i!==null&&i!==d;){var T=i,A=T.alternate,B=T.stateNode;if(A!==null&&A===d)break;T.tag===5&&B!==null&&(T=B,p?(A=Ct(i,g),A!=null&&S.unshift(Fo(i,A,T))):p||(A=Ct(i,g),A!=null&&S.push(Fo(i,A,T)))),i=i.return}S.length!==0&&r.push({event:s,listeners:S})}var Q0=/\r\n?/g,X0=/\u0000|\uFFFD/g;function vh(r){return(typeof r=="string"?r:""+r).replace(Q0,`
`).replace(X0,"")}function Xa(r,s,i){if(s=vh(s),vh(r)!==s&&i)throw Error(n(425))}function Za(){}var uc=null,dc=null;function fc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hc=typeof setTimeout=="function"?setTimeout:void 0,Z0=typeof clearTimeout=="function"?clearTimeout:void 0,yh=typeof Promise=="function"?Promise:void 0,ex=typeof queueMicrotask=="function"?queueMicrotask:typeof yh<"u"?function(r){return yh.resolve(null).then(r).catch(tx)}:hc;function tx(r){setTimeout(function(){throw r})}function pc(r,s){var i=s,d=0;do{var p=i.nextSibling;if(r.removeChild(i),p&&p.nodeType===8)if(i=p.data,i==="/$"){if(d===0){r.removeChild(p),Po(s);return}d--}else i!=="$"&&i!=="$?"&&i!=="$!"||d++;i=p}while(i);Po(s)}function fn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function wh(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var i=r.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return r;s--}else i==="/$"&&s++}r=r.previousSibling}return null}var _s=Math.random().toString(36).slice(2),Cr="__reactFiber$"+_s,Bo="__reactProps$"+_s,zr="__reactContainer$"+_s,mc="__reactEvents$"+_s,rx="__reactListeners$"+_s,nx="__reactHandles$"+_s;function zn(r){var s=r[Cr];if(s)return s;for(var i=r.parentNode;i;){if(s=i[zr]||i[Cr]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(r=wh(r);r!==null;){if(i=r[Cr])return i;r=wh(r)}return s}r=i,i=r.parentNode}return null}function Vo(r){return r=r[Cr]||r[zr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ss(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function ei(r){return r[Bo]||null}var gc=[],ks=-1;function hn(r){return{current:r}}function Ye(r){0>ks||(r.current=gc[ks],gc[ks]=null,ks--)}function He(r,s){ks++,gc[ks]=r.current,r.current=s}var pn={},Et=hn(pn),Dt=hn(!1),Fn=pn;function Cs(r,s){var i=r.type.contextTypes;if(!i)return pn;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in i)p[g]=s[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function Mt(r){return r=r.childContextTypes,r!=null}function ti(){Ye(Dt),Ye(Et)}function xh(r,s,i){if(Et.current!==pn)throw Error(n(168));He(Et,s),He(Dt,i)}function bh(r,s,i){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return i;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(n(108,H(r)||"Unknown",p));return G({},i,d)}function ri(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||pn,Fn=Et.current,He(Et,r),He(Dt,Dt.current),!0}function _h(r,s,i){var d=r.stateNode;if(!d)throw Error(n(169));i?(r=bh(r,s,Fn),d.__reactInternalMemoizedMergedChildContext=r,Ye(Dt),Ye(Et),He(Et,r)):Ye(Dt),He(Dt,i)}var Fr=null,ni=!1,vc=!1;function Sh(r){Fr===null?Fr=[r]:Fr.push(r)}function sx(r){ni=!0,Sh(r)}function mn(){if(!vc&&Fr!==null){vc=!0;var r=0,s=We;try{var i=Fr;for(We=1;r<i.length;r++){var d=i[r];do d=d(!0);while(d!==null)}Fr=null,ni=!1}catch(p){throw Fr!==null&&(Fr=Fr.slice(r+1)),Cf(Ul,mn),p}finally{We=s,vc=!1}}return null}var Es=[],js=0,si=null,oi=0,Qt=[],Xt=0,Bn=null,Br=1,Vr="";function Vn(r,s){Es[js++]=oi,Es[js++]=si,si=r,oi=s}function kh(r,s,i){Qt[Xt++]=Br,Qt[Xt++]=Vr,Qt[Xt++]=Bn,Bn=r;var d=Br;r=Vr;var p=32-cr(d)-1;d&=~(1<<p),i+=1;var g=32-cr(s)+p;if(30<g){var S=p-p%5;g=(d&(1<<S)-1).toString(32),d>>=S,p-=S,Br=1<<32-cr(s)+p|i<<p|d,Vr=g+r}else Br=1<<g|i<<p|d,Vr=r}function yc(r){r.return!==null&&(Vn(r,1),kh(r,1,0))}function wc(r){for(;r===si;)si=Es[--js],Es[js]=null,oi=Es[--js],Es[js]=null;for(;r===Bn;)Bn=Qt[--Xt],Qt[Xt]=null,Vr=Qt[--Xt],Qt[Xt]=null,Br=Qt[--Xt],Qt[Xt]=null}var Bt=null,Vt=null,Qe=!1,dr=null;function Ch(r,s){var i=rr(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=r,s=r.deletions,s===null?(r.deletions=[i],r.flags|=16):s.push(i)}function Eh(r,s){switch(r.tag){case 5:var i=r.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Bt=r,Vt=fn(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Bt=r,Vt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=Bn!==null?{id:Br,overflow:Vr}:null,r.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=rr(18,null,null,0),i.stateNode=s,i.return=r,r.child=i,Bt=r,Vt=null,!0):!1;default:return!1}}function xc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function bc(r){if(Qe){var s=Vt;if(s){var i=s;if(!Eh(r,s)){if(xc(r))throw Error(n(418));s=fn(i.nextSibling);var d=Bt;s&&Eh(r,s)?Ch(d,i):(r.flags=r.flags&-4097|2,Qe=!1,Bt=r)}}else{if(xc(r))throw Error(n(418));r.flags=r.flags&-4097|2,Qe=!1,Bt=r}}}function jh(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Bt=r}function ai(r){if(r!==Bt)return!1;if(!Qe)return jh(r),Qe=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!fc(r.type,r.memoizedProps)),s&&(s=Vt)){if(xc(r))throw Nh(),Error(n(418));for(;s;)Ch(r,s),s=fn(s.nextSibling)}if(jh(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var i=r.data;if(i==="/$"){if(s===0){Vt=fn(r.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}r=r.nextSibling}Vt=null}}else Vt=Bt?fn(r.stateNode.nextSibling):null;return!0}function Nh(){for(var r=Vt;r;)r=fn(r.nextSibling)}function Ns(){Vt=Bt=null,Qe=!1}function _c(r){dr===null?dr=[r]:dr.push(r)}var ox=P.ReactCurrentBatchConfig;function Wo(r,s,i){if(r=i.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var d=i.stateNode}if(!d)throw Error(n(147,r));var p=d,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(S){var T=p.refs;S===null?delete T[g]:T[g]=S},s._stringRef=g,s)}if(typeof r!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,r))}return r}function ii(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Th(r){var s=r._init;return s(r._payload)}function Rh(r){function s($,I){if(r){var U=$.deletions;U===null?($.deletions=[I],$.flags|=16):U.push(I)}}function i($,I){if(!r)return null;for(;I!==null;)s($,I),I=I.sibling;return null}function d($,I){for($=new Map;I!==null;)I.key!==null?$.set(I.key,I):$.set(I.index,I),I=I.sibling;return $}function p($,I){return $=Sn($,I),$.index=0,$.sibling=null,$}function g($,I,U){return $.index=U,r?(U=$.alternate,U!==null?(U=U.index,U<I?($.flags|=2,I):U):($.flags|=2,I)):($.flags|=1048576,I)}function S($){return r&&$.alternate===null&&($.flags|=2),$}function T($,I,U,re){return I===null||I.tag!==6?(I=hu(U,$.mode,re),I.return=$,I):(I=p(I,U),I.return=$,I)}function A($,I,U,re){var we=U.type;return we===D?J($,I,U.props.children,re,U.key):I!==null&&(I.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Q&&Th(we)===I.type)?(re=p(I,U.props),re.ref=Wo($,I,U),re.return=$,re):(re=Pi(U.type,U.key,U.props,null,$.mode,re),re.ref=Wo($,I,U),re.return=$,re)}function B($,I,U,re){return I===null||I.tag!==4||I.stateNode.containerInfo!==U.containerInfo||I.stateNode.implementation!==U.implementation?(I=pu(U,$.mode,re),I.return=$,I):(I=p(I,U.children||[]),I.return=$,I)}function J($,I,U,re,we){return I===null||I.tag!==7?(I=Qn(U,$.mode,re,we),I.return=$,I):(I=p(I,U),I.return=$,I)}function X($,I,U){if(typeof I=="string"&&I!==""||typeof I=="number")return I=hu(""+I,$.mode,U),I.return=$,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case z:return U=Pi(I.type,I.key,I.props,null,$.mode,U),U.ref=Wo($,null,I),U.return=$,U;case F:return I=pu(I,$.mode,U),I.return=$,I;case Q:var re=I._init;return X($,re(I._payload),U)}if(Jt(I)||V(I))return I=Qn(I,$.mode,U,null),I.return=$,I;ii($,I)}return null}function Y($,I,U,re){var we=I!==null?I.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return we!==null?null:T($,I,""+U,re);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case z:return U.key===we?A($,I,U,re):null;case F:return U.key===we?B($,I,U,re):null;case Q:return we=U._init,Y($,I,we(U._payload),re)}if(Jt(U)||V(U))return we!==null?null:J($,I,U,re,null);ii($,U)}return null}function ue($,I,U,re,we){if(typeof re=="string"&&re!==""||typeof re=="number")return $=$.get(U)||null,T(I,$,""+re,we);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case z:return $=$.get(re.key===null?U:re.key)||null,A(I,$,re,we);case F:return $=$.get(re.key===null?U:re.key)||null,B(I,$,re,we);case Q:var Se=re._init;return ue($,I,U,Se(re._payload),we)}if(Jt(re)||V(re))return $=$.get(U)||null,J(I,$,re,we,null);ii(I,re)}return null}function he($,I,U,re){for(var we=null,Se=null,ke=I,Ne=I=0,wt=null;ke!==null&&Ne<U.length;Ne++){ke.index>Ne?(wt=ke,ke=null):wt=ke.sibling;var ze=Y($,ke,U[Ne],re);if(ze===null){ke===null&&(ke=wt);break}r&&ke&&ze.alternate===null&&s($,ke),I=g(ze,I,Ne),Se===null?we=ze:Se.sibling=ze,Se=ze,ke=wt}if(Ne===U.length)return i($,ke),Qe&&Vn($,Ne),we;if(ke===null){for(;Ne<U.length;Ne++)ke=X($,U[Ne],re),ke!==null&&(I=g(ke,I,Ne),Se===null?we=ke:Se.sibling=ke,Se=ke);return Qe&&Vn($,Ne),we}for(ke=d($,ke);Ne<U.length;Ne++)wt=ue(ke,$,Ne,U[Ne],re),wt!==null&&(r&&wt.alternate!==null&&ke.delete(wt.key===null?Ne:wt.key),I=g(wt,I,Ne),Se===null?we=wt:Se.sibling=wt,Se=wt);return r&&ke.forEach(function(kn){return s($,kn)}),Qe&&Vn($,Ne),we}function ge($,I,U,re){var we=V(U);if(typeof we!="function")throw Error(n(150));if(U=we.call(U),U==null)throw Error(n(151));for(var Se=we=null,ke=I,Ne=I=0,wt=null,ze=U.next();ke!==null&&!ze.done;Ne++,ze=U.next()){ke.index>Ne?(wt=ke,ke=null):wt=ke.sibling;var kn=Y($,ke,ze.value,re);if(kn===null){ke===null&&(ke=wt);break}r&&ke&&kn.alternate===null&&s($,ke),I=g(kn,I,Ne),Se===null?we=kn:Se.sibling=kn,Se=kn,ke=wt}if(ze.done)return i($,ke),Qe&&Vn($,Ne),we;if(ke===null){for(;!ze.done;Ne++,ze=U.next())ze=X($,ze.value,re),ze!==null&&(I=g(ze,I,Ne),Se===null?we=ze:Se.sibling=ze,Se=ze);return Qe&&Vn($,Ne),we}for(ke=d($,ke);!ze.done;Ne++,ze=U.next())ze=ue(ke,$,Ne,ze.value,re),ze!==null&&(r&&ze.alternate!==null&&ke.delete(ze.key===null?Ne:ze.key),I=g(ze,I,Ne),Se===null?we=ze:Se.sibling=ze,Se=ze);return r&&ke.forEach(function($x){return s($,$x)}),Qe&&Vn($,Ne),we}function ot($,I,U,re){if(typeof U=="object"&&U!==null&&U.type===D&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case z:e:{for(var we=U.key,Se=I;Se!==null;){if(Se.key===we){if(we=U.type,we===D){if(Se.tag===7){i($,Se.sibling),I=p(Se,U.props.children),I.return=$,$=I;break e}}else if(Se.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Q&&Th(we)===Se.type){i($,Se.sibling),I=p(Se,U.props),I.ref=Wo($,Se,U),I.return=$,$=I;break e}i($,Se);break}else s($,Se);Se=Se.sibling}U.type===D?(I=Qn(U.props.children,$.mode,re,U.key),I.return=$,$=I):(re=Pi(U.type,U.key,U.props,null,$.mode,re),re.ref=Wo($,I,U),re.return=$,$=re)}return S($);case F:e:{for(Se=U.key;I!==null;){if(I.key===Se)if(I.tag===4&&I.stateNode.containerInfo===U.containerInfo&&I.stateNode.implementation===U.implementation){i($,I.sibling),I=p(I,U.children||[]),I.return=$,$=I;break e}else{i($,I);break}else s($,I);I=I.sibling}I=pu(U,$.mode,re),I.return=$,$=I}return S($);case Q:return Se=U._init,ot($,I,Se(U._payload),re)}if(Jt(U))return he($,I,U,re);if(V(U))return ge($,I,U,re);ii($,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,I!==null&&I.tag===6?(i($,I.sibling),I=p(I,U),I.return=$,$=I):(i($,I),I=hu(U,$.mode,re),I.return=$,$=I),S($)):i($,I)}return ot}var Ts=Rh(!0),Ph=Rh(!1),li=hn(null),ci=null,Rs=null,Sc=null;function kc(){Sc=Rs=ci=null}function Cc(r){var s=li.current;Ye(li),r._currentValue=s}function Ec(r,s,i){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===i)break;r=r.return}}function Ps(r,s){ci=r,Sc=Rs=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Lt=!0),r.firstContext=null)}function Zt(r){var s=r._currentValue;if(Sc!==r)if(r={context:r,memoizedValue:s,next:null},Rs===null){if(ci===null)throw Error(n(308));Rs=r,ci.dependencies={lanes:0,firstContext:r}}else Rs=Rs.next=r;return s}var Wn=null;function jc(r){Wn===null?Wn=[r]:Wn.push(r)}function Ah(r,s,i,d){var p=s.interleaved;return p===null?(i.next=i,jc(s)):(i.next=p.next,p.next=i),s.interleaved=i,Wr(r,d)}function Wr(r,s){r.lanes|=s;var i=r.alternate;for(i!==null&&(i.lanes|=s),i=r,r=r.return;r!==null;)r.childLanes|=s,i=r.alternate,i!==null&&(i.childLanes|=s),i=r,r=r.return;return i.tag===3?i.stateNode:null}var gn=!1;function Nc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oh(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Hr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function vn(r,s,i){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Ue&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,Wr(r,i)}return p=d.interleaved,p===null?(s.next=s,jc(d)):(s.next=p.next,p.next=s),d.interleaved=s,Wr(r,i)}function ui(r,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,i|=d,s.lanes=i,Bl(r,i)}}function Ih(r,s){var i=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,i===d)){var p=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var S={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};g===null?p=g=S:g=g.next=S,i=i.next}while(i!==null);g===null?p=g=s:g=g.next=s}else p=g=s;i={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=i;return}r=i.lastBaseUpdate,r===null?i.firstBaseUpdate=s:r.next=s,i.lastBaseUpdate=s}function di(r,s,i,d){var p=r.updateQueue;gn=!1;var g=p.firstBaseUpdate,S=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var A=T,B=A.next;A.next=null,S===null?g=B:S.next=B,S=A;var J=r.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==S&&(T===null?J.firstBaseUpdate=B:T.next=B,J.lastBaseUpdate=A))}if(g!==null){var X=p.baseState;S=0,J=B=A=null,T=g;do{var Y=T.lane,ue=T.eventTime;if((d&Y)===Y){J!==null&&(J=J.next={eventTime:ue,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var he=r,ge=T;switch(Y=s,ue=i,ge.tag){case 1:if(he=ge.payload,typeof he=="function"){X=he.call(ue,X,Y);break e}X=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ge.payload,Y=typeof he=="function"?he.call(ue,X,Y):he,Y==null)break e;X=G({},X,Y);break e;case 2:gn=!0}}T.callback!==null&&T.lane!==0&&(r.flags|=64,Y=p.effects,Y===null?p.effects=[T]:Y.push(T))}else ue={eventTime:ue,lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(B=J=ue,A=X):J=J.next=ue,S|=Y;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,p.lastBaseUpdate=Y,p.shared.pending=null}}while(!0);if(J===null&&(A=X),p.baseState=A,p.firstBaseUpdate=B,p.lastBaseUpdate=J,s=p.shared.interleaved,s!==null){p=s;do S|=p.lane,p=p.next;while(p!==s)}else g===null&&(p.shared.lanes=0);Kn|=S,r.lanes=S,r.memoizedState=X}}function Dh(r,s,i){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=i,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var Ho={},Er=hn(Ho),qo=hn(Ho),Ko=hn(Ho);function Hn(r){if(r===Ho)throw Error(n(174));return r}function Tc(r,s){switch(He(Ko,s),He(qo,r),He(Er,Ho),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:wo(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=wo(s,r)}Ye(Er),He(Er,s)}function As(){Ye(Er),Ye(qo),Ye(Ko)}function Mh(r){Hn(Ko.current);var s=Hn(Er.current),i=wo(s,r.type);s!==i&&(He(qo,r),He(Er,i))}function Rc(r){qo.current===r&&(Ye(Er),Ye(qo))}var Xe=hn(0);function fi(r){for(var s=r;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Pc=[];function Ac(){for(var r=0;r<Pc.length;r++)Pc[r]._workInProgressVersionPrimary=null;Pc.length=0}var hi=P.ReactCurrentDispatcher,Oc=P.ReactCurrentBatchConfig,qn=0,Ze=null,ut=null,vt=null,pi=!1,Go=!1,Yo=0,ax=0;function jt(){throw Error(n(321))}function Ic(r,s){if(s===null)return!1;for(var i=0;i<s.length&&i<r.length;i++)if(!ur(r[i],s[i]))return!1;return!0}function Dc(r,s,i,d,p,g){if(qn=g,Ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,hi.current=r===null||r.memoizedState===null?ux:dx,r=i(d,p),Go){g=0;do{if(Go=!1,Yo=0,25<=g)throw Error(n(301));g+=1,vt=ut=null,s.updateQueue=null,hi.current=fx,r=i(d,p)}while(Go)}if(hi.current=vi,s=ut!==null&&ut.next!==null,qn=0,vt=ut=Ze=null,pi=!1,s)throw Error(n(300));return r}function Mc(){var r=Yo!==0;return Yo=0,r}function jr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ze.memoizedState=vt=r:vt=vt.next=r,vt}function er(){if(ut===null){var r=Ze.alternate;r=r!==null?r.memoizedState:null}else r=ut.next;var s=vt===null?Ze.memoizedState:vt.next;if(s!==null)vt=s,ut=r;else{if(r===null)throw Error(n(310));ut=r,r={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},vt===null?Ze.memoizedState=vt=r:vt=vt.next=r}return vt}function Jo(r,s){return typeof s=="function"?s(r):s}function Lc(r){var s=er(),i=s.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=r;var d=ut,p=d.baseQueue,g=i.pending;if(g!==null){if(p!==null){var S=p.next;p.next=g.next,g.next=S}d.baseQueue=p=g,i.pending=null}if(p!==null){g=p.next,d=d.baseState;var T=S=null,A=null,B=g;do{var J=B.lane;if((qn&J)===J)A!==null&&(A=A.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),d=B.hasEagerState?B.eagerState:r(d,B.action);else{var X={lane:J,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};A===null?(T=A=X,S=d):A=A.next=X,Ze.lanes|=J,Kn|=J}B=B.next}while(B!==null&&B!==g);A===null?S=d:A.next=T,ur(d,s.memoizedState)||(Lt=!0),s.memoizedState=d,s.baseState=S,s.baseQueue=A,i.lastRenderedState=d}if(r=i.interleaved,r!==null){p=r;do g=p.lane,Ze.lanes|=g,Kn|=g,p=p.next;while(p!==r)}else p===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function $c(r){var s=er(),i=s.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=r;var d=i.dispatch,p=i.pending,g=s.memoizedState;if(p!==null){i.pending=null;var S=p=p.next;do g=r(g,S.action),S=S.next;while(S!==p);ur(g,s.memoizedState)||(Lt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),i.lastRenderedState=g}return[g,d]}function Lh(){}function $h(r,s){var i=Ze,d=er(),p=s(),g=!ur(d.memoizedState,p);if(g&&(d.memoizedState=p,Lt=!0),d=d.queue,Uc(Fh.bind(null,i,d,r),[r]),d.getSnapshot!==s||g||vt!==null&&vt.memoizedState.tag&1){if(i.flags|=2048,Qo(9,zh.bind(null,i,d,p,s),void 0,null),yt===null)throw Error(n(349));(qn&30)!==0||Uh(i,s,p)}return p}function Uh(r,s,i){r.flags|=16384,r={getSnapshot:s,value:i},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.stores=[r]):(i=s.stores,i===null?s.stores=[r]:i.push(r))}function zh(r,s,i,d){s.value=i,s.getSnapshot=d,Bh(s)&&Vh(r)}function Fh(r,s,i){return i(function(){Bh(s)&&Vh(r)})}function Bh(r){var s=r.getSnapshot;r=r.value;try{var i=s();return!ur(r,i)}catch{return!0}}function Vh(r){var s=Wr(r,1);s!==null&&mr(s,r,1,-1)}function Wh(r){var s=jr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:r},s.queue=r,r=r.dispatch=cx.bind(null,Ze,r),[s.memoizedState,r]}function Qo(r,s,i,d){return r={tag:r,create:s,destroy:i,deps:d,next:null},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.lastEffect=r.next=r):(i=s.lastEffect,i===null?s.lastEffect=r.next=r:(d=i.next,i.next=r,r.next=d,s.lastEffect=r)),r}function Hh(){return er().memoizedState}function mi(r,s,i,d){var p=jr();Ze.flags|=r,p.memoizedState=Qo(1|s,i,void 0,d===void 0?null:d)}function gi(r,s,i,d){var p=er();d=d===void 0?null:d;var g=void 0;if(ut!==null){var S=ut.memoizedState;if(g=S.destroy,d!==null&&Ic(d,S.deps)){p.memoizedState=Qo(s,i,g,d);return}}Ze.flags|=r,p.memoizedState=Qo(1|s,i,g,d)}function qh(r,s){return mi(8390656,8,r,s)}function Uc(r,s){return gi(2048,8,r,s)}function Kh(r,s){return gi(4,2,r,s)}function Gh(r,s){return gi(4,4,r,s)}function Yh(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Jh(r,s,i){return i=i!=null?i.concat([r]):null,gi(4,4,Yh.bind(null,s,r),i)}function zc(){}function Qh(r,s){var i=er();s=s===void 0?null:s;var d=i.memoizedState;return d!==null&&s!==null&&Ic(s,d[1])?d[0]:(i.memoizedState=[r,s],r)}function Xh(r,s){var i=er();s=s===void 0?null:s;var d=i.memoizedState;return d!==null&&s!==null&&Ic(s,d[1])?d[0]:(r=r(),i.memoizedState=[r,s],r)}function Zh(r,s,i){return(qn&21)===0?(r.baseState&&(r.baseState=!1,Lt=!0),r.memoizedState=i):(ur(i,s)||(i=Tf(),Ze.lanes|=i,Kn|=i,r.baseState=!0),s)}function ix(r,s){var i=We;We=i!==0&&4>i?i:4,r(!0);var d=Oc.transition;Oc.transition={};try{r(!1),s()}finally{We=i,Oc.transition=d}}function ep(){return er().memoizedState}function lx(r,s,i){var d=bn(r);if(i={lane:d,action:i,hasEagerState:!1,eagerState:null,next:null},tp(r))rp(s,i);else if(i=Ah(r,s,i,d),i!==null){var p=Ot();mr(i,r,d,p),np(i,s,d)}}function cx(r,s,i){var d=bn(r),p={lane:d,action:i,hasEagerState:!1,eagerState:null,next:null};if(tp(r))rp(s,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var S=s.lastRenderedState,T=g(S,i);if(p.hasEagerState=!0,p.eagerState=T,ur(T,S)){var A=s.interleaved;A===null?(p.next=p,jc(s)):(p.next=A.next,A.next=p),s.interleaved=p;return}}catch{}finally{}i=Ah(r,s,p,d),i!==null&&(p=Ot(),mr(i,r,d,p),np(i,s,d))}}function tp(r){var s=r.alternate;return r===Ze||s!==null&&s===Ze}function rp(r,s){Go=pi=!0;var i=r.pending;i===null?s.next=s:(s.next=i.next,i.next=s),r.pending=s}function np(r,s,i){if((i&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,i|=d,s.lanes=i,Bl(r,i)}}var vi={readContext:Zt,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},ux={readContext:Zt,useCallback:function(r,s){return jr().memoizedState=[r,s===void 0?null:s],r},useContext:Zt,useEffect:qh,useImperativeHandle:function(r,s,i){return i=i!=null?i.concat([r]):null,mi(4194308,4,Yh.bind(null,s,r),i)},useLayoutEffect:function(r,s){return mi(4194308,4,r,s)},useInsertionEffect:function(r,s){return mi(4,2,r,s)},useMemo:function(r,s){var i=jr();return s=s===void 0?null:s,r=r(),i.memoizedState=[r,s],r},useReducer:function(r,s,i){var d=jr();return s=i!==void 0?i(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=lx.bind(null,Ze,r),[d.memoizedState,r]},useRef:function(r){var s=jr();return r={current:r},s.memoizedState=r},useState:Wh,useDebugValue:zc,useDeferredValue:function(r){return jr().memoizedState=r},useTransition:function(){var r=Wh(!1),s=r[0];return r=ix.bind(null,r[1]),jr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,i){var d=Ze,p=jr();if(Qe){if(i===void 0)throw Error(n(407));i=i()}else{if(i=s(),yt===null)throw Error(n(349));(qn&30)!==0||Uh(d,s,i)}p.memoizedState=i;var g={value:i,getSnapshot:s};return p.queue=g,qh(Fh.bind(null,d,g,r),[r]),d.flags|=2048,Qo(9,zh.bind(null,d,g,i,s),void 0,null),i},useId:function(){var r=jr(),s=yt.identifierPrefix;if(Qe){var i=Vr,d=Br;i=(d&~(1<<32-cr(d)-1)).toString(32)+i,s=":"+s+"R"+i,i=Yo++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=ax++,s=":"+s+"r"+i.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},dx={readContext:Zt,useCallback:Qh,useContext:Zt,useEffect:Uc,useImperativeHandle:Jh,useInsertionEffect:Kh,useLayoutEffect:Gh,useMemo:Xh,useReducer:Lc,useRef:Hh,useState:function(){return Lc(Jo)},useDebugValue:zc,useDeferredValue:function(r){var s=er();return Zh(s,ut.memoizedState,r)},useTransition:function(){var r=Lc(Jo)[0],s=er().memoizedState;return[r,s]},useMutableSource:Lh,useSyncExternalStore:$h,useId:ep,unstable_isNewReconciler:!1},fx={readContext:Zt,useCallback:Qh,useContext:Zt,useEffect:Uc,useImperativeHandle:Jh,useInsertionEffect:Kh,useLayoutEffect:Gh,useMemo:Xh,useReducer:$c,useRef:Hh,useState:function(){return $c(Jo)},useDebugValue:zc,useDeferredValue:function(r){var s=er();return ut===null?s.memoizedState=r:Zh(s,ut.memoizedState,r)},useTransition:function(){var r=$c(Jo)[0],s=er().memoizedState;return[r,s]},useMutableSource:Lh,useSyncExternalStore:$h,useId:ep,unstable_isNewReconciler:!1};function fr(r,s){if(r&&r.defaultProps){s=G({},s),r=r.defaultProps;for(var i in r)s[i]===void 0&&(s[i]=r[i]);return s}return s}function Fc(r,s,i,d){s=r.memoizedState,i=i(d,s),i=i==null?s:G({},s,i),r.memoizedState=i,r.lanes===0&&(r.updateQueue.baseState=i)}var yi={isMounted:function(r){return(r=r._reactInternals)?Un(r)===r:!1},enqueueSetState:function(r,s,i){r=r._reactInternals;var d=Ot(),p=bn(r),g=Hr(d,p);g.payload=s,i!=null&&(g.callback=i),s=vn(r,g,p),s!==null&&(mr(s,r,p,d),ui(s,r,p))},enqueueReplaceState:function(r,s,i){r=r._reactInternals;var d=Ot(),p=bn(r),g=Hr(d,p);g.tag=1,g.payload=s,i!=null&&(g.callback=i),s=vn(r,g,p),s!==null&&(mr(s,r,p,d),ui(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var i=Ot(),d=bn(r),p=Hr(i,d);p.tag=2,s!=null&&(p.callback=s),s=vn(r,p,d),s!==null&&(mr(s,r,d,i),ui(s,r,d))}};function sp(r,s,i,d,p,g,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,S):s.prototype&&s.prototype.isPureReactComponent?!Lo(i,d)||!Lo(p,g):!0}function op(r,s,i){var d=!1,p=pn,g=s.contextType;return typeof g=="object"&&g!==null?g=Zt(g):(p=Mt(s)?Fn:Et.current,d=s.contextTypes,g=(d=d!=null)?Cs(r,p):pn),s=new s(i,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=yi,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=g),s}function ap(r,s,i,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,d),s.state!==r&&yi.enqueueReplaceState(s,s.state,null)}function Bc(r,s,i,d){var p=r.stateNode;p.props=i,p.state=r.memoizedState,p.refs={},Nc(r);var g=s.contextType;typeof g=="object"&&g!==null?p.context=Zt(g):(g=Mt(s)?Fn:Et.current,p.context=Cs(r,g)),p.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Fc(r,s,g,i),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&yi.enqueueReplaceState(p,p.state,null),di(r,i,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Os(r,s){try{var i="",d=s;do i+=se(d),d=d.return;while(d);var p=i}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:p,digest:null}}function Vc(r,s,i){return{value:r,source:null,stack:i??null,digest:s??null}}function Wc(r,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var hx=typeof WeakMap=="function"?WeakMap:Map;function ip(r,s,i){i=Hr(-1,i),i.tag=3,i.payload={element:null};var d=s.value;return i.callback=function(){Ci||(Ci=!0,ou=d),Wc(r,s)},i}function lp(r,s,i){i=Hr(-1,i),i.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;i.payload=function(){return d(p)},i.callback=function(){Wc(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(i.callback=function(){Wc(r,s),typeof d!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var S=s.stack;this.componentDidCatch(s.value,{componentStack:S!==null?S:""})}),i}function cp(r,s,i){var d=r.pingCache;if(d===null){d=r.pingCache=new hx;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(i)||(p.add(i),r=jx.bind(null,r,s,i),s.then(r,r))}function up(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function dp(r,s,i,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=Hr(-1,1),s.tag=2,vn(i,s,1))),i.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var px=P.ReactCurrentOwner,Lt=!1;function At(r,s,i,d){s.child=r===null?Ph(s,null,i,d):Ts(s,r.child,i,d)}function fp(r,s,i,d,p){i=i.render;var g=s.ref;return Ps(s,p),d=Dc(r,s,i,d,g,p),i=Mc(),r!==null&&!Lt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,qr(r,s,p)):(Qe&&i&&yc(s),s.flags|=1,At(r,s,d,p),s.child)}function hp(r,s,i,d,p){if(r===null){var g=i.type;return typeof g=="function"&&!fu(g)&&g.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=g,pp(r,s,g,d,p)):(r=Pi(i.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&p)===0){var S=g.memoizedProps;if(i=i.compare,i=i!==null?i:Lo,i(S,d)&&r.ref===s.ref)return qr(r,s,p)}return s.flags|=1,r=Sn(g,d),r.ref=s.ref,r.return=s,s.child=r}function pp(r,s,i,d,p){if(r!==null){var g=r.memoizedProps;if(Lo(g,d)&&r.ref===s.ref)if(Lt=!1,s.pendingProps=d=g,(r.lanes&p)!==0)(r.flags&131072)!==0&&(Lt=!0);else return s.lanes=r.lanes,qr(r,s,p)}return Hc(r,s,i,d,p)}function mp(r,s,i){var d=s.pendingProps,p=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Ds,Wt),Wt|=i;else{if((i&1073741824)===0)return r=g!==null?g.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,He(Ds,Wt),Wt|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:i,He(Ds,Wt),Wt|=d}else g!==null?(d=g.baseLanes|i,s.memoizedState=null):d=i,He(Ds,Wt),Wt|=d;return At(r,s,p,i),s.child}function gp(r,s){var i=s.ref;(r===null&&i!==null||r!==null&&r.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function Hc(r,s,i,d,p){var g=Mt(i)?Fn:Et.current;return g=Cs(s,g),Ps(s,p),i=Dc(r,s,i,d,g,p),d=Mc(),r!==null&&!Lt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,qr(r,s,p)):(Qe&&d&&yc(s),s.flags|=1,At(r,s,i,p),s.child)}function vp(r,s,i,d,p){if(Mt(i)){var g=!0;ri(s)}else g=!1;if(Ps(s,p),s.stateNode===null)xi(r,s),op(s,i,d),Bc(s,i,d,p),d=!0;else if(r===null){var S=s.stateNode,T=s.memoizedProps;S.props=T;var A=S.context,B=i.contextType;typeof B=="object"&&B!==null?B=Zt(B):(B=Mt(i)?Fn:Et.current,B=Cs(s,B));var J=i.getDerivedStateFromProps,X=typeof J=="function"||typeof S.getSnapshotBeforeUpdate=="function";X||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==d||A!==B)&&ap(s,S,d,B),gn=!1;var Y=s.memoizedState;S.state=Y,di(s,d,S,p),A=s.memoizedState,T!==d||Y!==A||Dt.current||gn?(typeof J=="function"&&(Fc(s,i,J,d),A=s.memoizedState),(T=gn||sp(s,i,T,d,Y,A,B))?(X||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=A),S.props=d,S.state=A,S.context=B,d=T):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{S=s.stateNode,Oh(r,s),T=s.memoizedProps,B=s.type===s.elementType?T:fr(s.type,T),S.props=B,X=s.pendingProps,Y=S.context,A=i.contextType,typeof A=="object"&&A!==null?A=Zt(A):(A=Mt(i)?Fn:Et.current,A=Cs(s,A));var ue=i.getDerivedStateFromProps;(J=typeof ue=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==X||Y!==A)&&ap(s,S,d,A),gn=!1,Y=s.memoizedState,S.state=Y,di(s,d,S,p);var he=s.memoizedState;T!==X||Y!==he||Dt.current||gn?(typeof ue=="function"&&(Fc(s,i,ue,d),he=s.memoizedState),(B=gn||sp(s,i,B,d,Y,he,A)||!1)?(J||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,he,A),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,he,A)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||T===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=he),S.props=d,S.state=he,S.context=A,d=B):(typeof S.componentDidUpdate!="function"||T===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),d=!1)}return qc(r,s,i,d,g,p)}function qc(r,s,i,d,p,g){gp(r,s);var S=(s.flags&128)!==0;if(!d&&!S)return p&&_h(s,i,!1),qr(r,s,g);d=s.stateNode,px.current=s;var T=S&&typeof i.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&S?(s.child=Ts(s,r.child,null,g),s.child=Ts(s,null,T,g)):At(r,s,T,g),s.memoizedState=d.state,p&&_h(s,i,!0),s.child}function yp(r){var s=r.stateNode;s.pendingContext?xh(r,s.pendingContext,s.pendingContext!==s.context):s.context&&xh(r,s.context,!1),Tc(r,s.containerInfo)}function wp(r,s,i,d,p){return Ns(),_c(p),s.flags|=256,At(r,s,i,d),s.child}var Kc={dehydrated:null,treeContext:null,retryLane:0};function Gc(r){return{baseLanes:r,cachePool:null,transitions:null}}function xp(r,s,i){var d=s.pendingProps,p=Xe.current,g=!1,S=(s.flags&128)!==0,T;if((T=S)||(T=r!==null&&r.memoizedState===null?!1:(p&2)!==0),T?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),He(Xe,p&1),r===null)return bc(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(S=d.children,r=d.fallback,g?(d=s.mode,g=s.child,S={mode:"hidden",children:S},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=S):g=Ai(S,d,0,null),r=Qn(r,d,i,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Gc(i),s.memoizedState=Kc,r):Yc(s,S));if(p=r.memoizedState,p!==null&&(T=p.dehydrated,T!==null))return mx(r,s,S,d,T,p,i);if(g){g=d.fallback,S=s.mode,p=r.child,T=p.sibling;var A={mode:"hidden",children:d.children};return(S&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=A,s.deletions=null):(d=Sn(p,A),d.subtreeFlags=p.subtreeFlags&14680064),T!==null?g=Sn(T,g):(g=Qn(g,S,i,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,S=r.child.memoizedState,S=S===null?Gc(i):{baseLanes:S.baseLanes|i,cachePool:null,transitions:S.transitions},g.memoizedState=S,g.childLanes=r.childLanes&~i,s.memoizedState=Kc,d}return g=r.child,r=g.sibling,d=Sn(g,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=i),d.return=s,d.sibling=null,r!==null&&(i=s.deletions,i===null?(s.deletions=[r],s.flags|=16):i.push(r)),s.child=d,s.memoizedState=null,d}function Yc(r,s){return s=Ai({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function wi(r,s,i,d){return d!==null&&_c(d),Ts(s,r.child,null,i),r=Yc(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function mx(r,s,i,d,p,g,S){if(i)return s.flags&256?(s.flags&=-257,d=Vc(Error(n(422))),wi(r,s,S,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=d.fallback,p=s.mode,d=Ai({mode:"visible",children:d.children},p,0,null),g=Qn(g,p,S,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,(s.mode&1)!==0&&Ts(s,r.child,null,S),s.child.memoizedState=Gc(S),s.memoizedState=Kc,g);if((s.mode&1)===0)return wi(r,s,S,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var T=d.dgst;return d=T,g=Error(n(419)),d=Vc(g,d,void 0),wi(r,s,S,d)}if(T=(S&r.childLanes)!==0,Lt||T){if(d=yt,d!==null){switch(S&-S){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|S))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,Wr(r,p),mr(d,r,p,-1))}return du(),d=Vc(Error(n(421))),wi(r,s,S,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=Nx.bind(null,r),p._reactRetry=s,null):(r=g.treeContext,Vt=fn(p.nextSibling),Bt=s,Qe=!0,dr=null,r!==null&&(Qt[Xt++]=Br,Qt[Xt++]=Vr,Qt[Xt++]=Bn,Br=r.id,Vr=r.overflow,Bn=s),s=Yc(s,d.children),s.flags|=4096,s)}function bp(r,s,i){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Ec(r.return,s,i)}function Jc(r,s,i,d,p){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:i,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=i,g.tailMode=p)}function _p(r,s,i){var d=s.pendingProps,p=d.revealOrder,g=d.tail;if(At(r,s,d.children,i),d=Xe.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&bp(r,i,s);else if(r.tag===19)bp(r,i,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(He(Xe,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(i=s.child,p=null;i!==null;)r=i.alternate,r!==null&&fi(r)===null&&(p=i),i=i.sibling;i=p,i===null?(p=s.child,s.child=null):(p=i.sibling,i.sibling=null),Jc(s,!1,p,i,g);break;case"backwards":for(i=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&fi(r)===null){s.child=p;break}r=p.sibling,p.sibling=i,i=p,p=r}Jc(s,!0,i,null,g);break;case"together":Jc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function xi(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function qr(r,s,i){if(r!==null&&(s.dependencies=r.dependencies),Kn|=s.lanes,(i&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,i=Sn(r,r.pendingProps),s.child=i,i.return=s;r.sibling!==null;)r=r.sibling,i=i.sibling=Sn(r,r.pendingProps),i.return=s;i.sibling=null}return s.child}function gx(r,s,i){switch(s.tag){case 3:yp(s),Ns();break;case 5:Mh(s);break;case 1:Mt(s.type)&&ri(s);break;case 4:Tc(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;He(li,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(He(Xe,Xe.current&1),s.flags|=128,null):(i&s.child.childLanes)!==0?xp(r,s,i):(He(Xe,Xe.current&1),r=qr(r,s,i),r!==null?r.sibling:null);He(Xe,Xe.current&1);break;case 19:if(d=(i&s.childLanes)!==0,(r.flags&128)!==0){if(d)return _p(r,s,i);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),He(Xe,Xe.current),d)break;return null;case 22:case 23:return s.lanes=0,mp(r,s,i)}return qr(r,s,i)}var Sp,Qc,kp,Cp;Sp=function(r,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)r.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Qc=function(){},kp=function(r,s,i,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,Hn(Er.current);var g=null;switch(i){case"input":p=_e(r,p),d=_e(r,d),g=[];break;case"select":p=G({},p,{value:void 0}),d=G({},d,{value:void 0}),g=[];break;case"textarea":p=vo(r,p),d=vo(r,d),g=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Za)}bo(i,d);var S;i=null;for(B in p)if(!d.hasOwnProperty(B)&&p.hasOwnProperty(B)&&p[B]!=null)if(B==="style"){var T=p[B];for(S in T)T.hasOwnProperty(S)&&(i||(i={}),i[S]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(a.hasOwnProperty(B)?g||(g=[]):(g=g||[]).push(B,null));for(B in d){var A=d[B];if(T=p?.[B],d.hasOwnProperty(B)&&A!==T&&(A!=null||T!=null))if(B==="style")if(T){for(S in T)!T.hasOwnProperty(S)||A&&A.hasOwnProperty(S)||(i||(i={}),i[S]="");for(S in A)A.hasOwnProperty(S)&&T[S]!==A[S]&&(i||(i={}),i[S]=A[S])}else i||(g||(g=[]),g.push(B,i)),i=A;else B==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,T=T?T.__html:void 0,A!=null&&T!==A&&(g=g||[]).push(B,A)):B==="children"?typeof A!="string"&&typeof A!="number"||(g=g||[]).push(B,""+A):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(a.hasOwnProperty(B)?(A!=null&&B==="onScroll"&&Ge("scroll",r),g||T===A||(g=[])):(g=g||[]).push(B,A))}i&&(g=g||[]).push("style",i);var B=g;(s.updateQueue=B)&&(s.flags|=4)}},Cp=function(r,s,i,d){i!==d&&(s.flags|=4)};function Xo(r,s){if(!Qe)switch(r.tailMode){case"hidden":s=r.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?r.tail=null:i.sibling=null;break;case"collapsed":i=r.tail;for(var d=null;i!==null;)i.alternate!==null&&(d=i),i=i.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Nt(r){var s=r.alternate!==null&&r.alternate.child===r.child,i=0,d=0;if(s)for(var p=r.child;p!==null;)i|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)i|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=i,s}function vx(r,s,i){var d=s.pendingProps;switch(wc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(s),null;case 1:return Mt(s.type)&&ti(),Nt(s),null;case 3:return d=s.stateNode,As(),Ye(Dt),Ye(Et),Ac(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(ai(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,dr!==null&&(lu(dr),dr=null))),Qc(r,s),Nt(s),null;case 5:Rc(s);var p=Hn(Ko.current);if(i=s.type,r!==null&&s.stateNode!=null)kp(r,s,i,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return Nt(s),null}if(r=Hn(Er.current),ai(s)){d=s.stateNode,i=s.type;var g=s.memoizedProps;switch(d[Cr]=s,d[Bo]=g,r=(s.mode&1)!==0,i){case"dialog":Ge("cancel",d),Ge("close",d);break;case"iframe":case"object":case"embed":Ge("load",d);break;case"video":case"audio":for(p=0;p<Uo.length;p++)Ge(Uo[p],d);break;case"source":Ge("error",d);break;case"img":case"image":case"link":Ge("error",d),Ge("load",d);break;case"details":Ge("toggle",d);break;case"input":Mr(d,g),Ge("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},Ge("invalid",d);break;case"textarea":tn(d,g),Ge("invalid",d)}bo(i,g),p=null;for(var S in g)if(g.hasOwnProperty(S)){var T=g[S];S==="children"?typeof T=="string"?d.textContent!==T&&(g.suppressHydrationWarning!==!0&&Xa(d.textContent,T,r),p=["children",T]):typeof T=="number"&&d.textContent!==""+T&&(g.suppressHydrationWarning!==!0&&Xa(d.textContent,T,r),p=["children",""+T]):a.hasOwnProperty(S)&&T!=null&&S==="onScroll"&&Ge("scroll",d)}switch(i){case"input":Re(d),ja(d,g,!0);break;case"textarea":Re(d),yo(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=Za)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{S=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ta(i)),r==="http://www.w3.org/1999/xhtml"?i==="script"?(r=S.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=S.createElement(i,{is:d.is}):(r=S.createElement(i),i==="select"&&(S=r,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):r=S.createElementNS(r,i),r[Cr]=s,r[Bo]=d,Sp(r,s,!1,!1),s.stateNode=r;e:{switch(S=_o(i,d),i){case"dialog":Ge("cancel",r),Ge("close",r),p=d;break;case"iframe":case"object":case"embed":Ge("load",r),p=d;break;case"video":case"audio":for(p=0;p<Uo.length;p++)Ge(Uo[p],r);p=d;break;case"source":Ge("error",r),p=d;break;case"img":case"image":case"link":Ge("error",r),Ge("load",r),p=d;break;case"details":Ge("toggle",r),p=d;break;case"input":Mr(r,d),p=_e(r,d),Ge("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=G({},d,{value:void 0}),Ge("invalid",r);break;case"textarea":tn(r,d),p=vo(r,d),Ge("invalid",r);break;default:p=d}bo(i,p),T=p;for(g in T)if(T.hasOwnProperty(g)){var A=T[g];g==="style"?Pa(r,A):g==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&Ra(r,A)):g==="children"?typeof A=="string"?(i!=="textarea"||A!=="")&&rn(r,A):typeof A=="number"&&rn(r,""+A):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(a.hasOwnProperty(g)?A!=null&&g==="onScroll"&&Ge("scroll",r):A!=null&&j(r,g,A,S))}switch(i){case"input":Re(r),ja(r,d,!1);break;case"textarea":Re(r),yo(r);break;case"option":d.value!=null&&r.setAttribute("value",""+le(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?$r(r,!!d.multiple,g,!1):d.defaultValue!=null&&$r(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Za)}switch(i){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Nt(s),null;case 6:if(r&&s.stateNode!=null)Cp(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(i=Hn(Ko.current),Hn(Er.current),ai(s)){if(d=s.stateNode,i=s.memoizedProps,d[Cr]=s,(g=d.nodeValue!==i)&&(r=Bt,r!==null))switch(r.tag){case 3:Xa(d.nodeValue,i,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Xa(d.nodeValue,i,(r.mode&1)!==0)}g&&(s.flags|=4)}else d=(i.nodeType===9?i:i.ownerDocument).createTextNode(d),d[Cr]=s,s.stateNode=d}return Nt(s),null;case 13:if(Ye(Xe),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Qe&&Vt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Nh(),Ns(),s.flags|=98560,g=!1;else if(g=ai(s),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Cr]=s}else Ns(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),g=!1}else dr!==null&&(lu(dr),dr=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=i,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Xe.current&1)!==0?dt===0&&(dt=3):du())),s.updateQueue!==null&&(s.flags|=4),Nt(s),null);case 4:return As(),Qc(r,s),r===null&&zo(s.stateNode.containerInfo),Nt(s),null;case 10:return Cc(s.type._context),Nt(s),null;case 17:return Mt(s.type)&&ti(),Nt(s),null;case 19:if(Ye(Xe),g=s.memoizedState,g===null)return Nt(s),null;if(d=(s.flags&128)!==0,S=g.rendering,S===null)if(d)Xo(g,!1);else{if(dt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(S=fi(r),S!==null){for(s.flags|=128,Xo(g,!1),d=S.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=i,i=s.child;i!==null;)g=i,r=d,g.flags&=14680066,S=g.alternate,S===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=S.childLanes,g.lanes=S.lanes,g.child=S.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=S.memoizedProps,g.memoizedState=S.memoizedState,g.updateQueue=S.updateQueue,g.type=S.type,r=S.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i=i.sibling;return He(Xe,Xe.current&1|2),s.child}r=r.sibling}g.tail!==null&&st()>Ms&&(s.flags|=128,d=!0,Xo(g,!1),s.lanes=4194304)}else{if(!d)if(r=fi(S),r!==null){if(s.flags|=128,d=!0,i=r.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),Xo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!S.alternate&&!Qe)return Nt(s),null}else 2*st()-g.renderingStartTime>Ms&&i!==1073741824&&(s.flags|=128,d=!0,Xo(g,!1),s.lanes=4194304);g.isBackwards?(S.sibling=s.child,s.child=S):(i=g.last,i!==null?i.sibling=S:s.child=S,g.last=S)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=st(),s.sibling=null,i=Xe.current,He(Xe,d?i&1|2:i&1),s):(Nt(s),null);case 22:case 23:return uu(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Wt&1073741824)!==0&&(Nt(s),s.subtreeFlags&6&&(s.flags|=8192)):Nt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function yx(r,s){switch(wc(s),s.tag){case 1:return Mt(s.type)&&ti(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return As(),Ye(Dt),Ye(Et),Ac(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Rc(s),null;case 13:if(Ye(Xe),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Ns()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ye(Xe),null;case 4:return As(),null;case 10:return Cc(s.type._context),null;case 22:case 23:return uu(),null;case 24:return null;default:return null}}var bi=!1,Tt=!1,wx=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Is(r,s){var i=r.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(d){rt(r,s,d)}else i.current=null}function Xc(r,s,i){try{i()}catch(d){rt(r,s,d)}}var Ep=!1;function xx(r,s){if(uc=Fa,r=sh(),rc(r)){if("selectionStart"in r)var i={start:r.selectionStart,end:r.selectionEnd};else e:{i=(i=r.ownerDocument)&&i.defaultView||window;var d=i.getSelection&&i.getSelection();if(d&&d.rangeCount!==0){i=d.anchorNode;var p=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var S=0,T=-1,A=-1,B=0,J=0,X=r,Y=null;t:for(;;){for(var ue;X!==i||p!==0&&X.nodeType!==3||(T=S+p),X!==g||d!==0&&X.nodeType!==3||(A=S+d),X.nodeType===3&&(S+=X.nodeValue.length),(ue=X.firstChild)!==null;)Y=X,X=ue;for(;;){if(X===r)break t;if(Y===i&&++B===p&&(T=S),Y===g&&++J===d&&(A=S),(ue=X.nextSibling)!==null)break;X=Y,Y=X.parentNode}X=ue}i=T===-1||A===-1?null:{start:T,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(dc={focusedElem:r,selectionRange:i},Fa=!1,fe=s;fe!==null;)if(s=fe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fe=r;else for(;fe!==null;){s=fe;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var ge=he.memoizedProps,ot=he.memoizedState,$=s.stateNode,I=$.getSnapshotBeforeUpdate(s.elementType===s.type?ge:fr(s.type,ge),ot);$.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var U=s.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(re){rt(s,s.return,re)}if(r=s.sibling,r!==null){r.return=s.return,fe=r;break}fe=s.return}return he=Ep,Ep=!1,he}function Zo(r,s,i){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var g=p.destroy;p.destroy=void 0,g!==void 0&&Xc(s,i,g)}p=p.next}while(p!==d)}}function _i(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&r)===r){var d=i.create;i.destroy=d()}i=i.next}while(i!==s)}}function Zc(r){var s=r.ref;if(s!==null){var i=r.stateNode;switch(r.tag){case 5:r=i;break;default:r=i}typeof s=="function"?s(r):s.current=r}}function jp(r){var s=r.alternate;s!==null&&(r.alternate=null,jp(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Cr],delete s[Bo],delete s[mc],delete s[rx],delete s[nx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Np(r){return r.tag===5||r.tag===3||r.tag===4}function Tp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Np(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function eu(r,s,i){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(r,s):i.insertBefore(r,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(r,i)):(s=i,s.appendChild(r)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Za));else if(d!==4&&(r=r.child,r!==null))for(eu(r,s,i),r=r.sibling;r!==null;)eu(r,s,i),r=r.sibling}function tu(r,s,i){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?i.insertBefore(r,s):i.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(tu(r,s,i),r=r.sibling;r!==null;)tu(r,s,i),r=r.sibling}var bt=null,hr=!1;function yn(r,s,i){for(i=i.child;i!==null;)Rp(r,s,i),i=i.sibling}function Rp(r,s,i){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(Da,i)}catch{}switch(i.tag){case 5:Tt||Is(i,s);case 6:var d=bt,p=hr;bt=null,yn(r,s,i),bt=d,hr=p,bt!==null&&(hr?(r=bt,i=i.stateNode,r.nodeType===8?r.parentNode.removeChild(i):r.removeChild(i)):bt.removeChild(i.stateNode));break;case 18:bt!==null&&(hr?(r=bt,i=i.stateNode,r.nodeType===8?pc(r.parentNode,i):r.nodeType===1&&pc(r,i),Po(r)):pc(bt,i.stateNode));break;case 4:d=bt,p=hr,bt=i.stateNode.containerInfo,hr=!0,yn(r,s,i),bt=d,hr=p;break;case 0:case 11:case 14:case 15:if(!Tt&&(d=i.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var g=p,S=g.destroy;g=g.tag,S!==void 0&&((g&2)!==0||(g&4)!==0)&&Xc(i,s,S),p=p.next}while(p!==d)}yn(r,s,i);break;case 1:if(!Tt&&(Is(i,s),d=i.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=i.memoizedProps,d.state=i.memoizedState,d.componentWillUnmount()}catch(T){rt(i,s,T)}yn(r,s,i);break;case 21:yn(r,s,i);break;case 22:i.mode&1?(Tt=(d=Tt)||i.memoizedState!==null,yn(r,s,i),Tt=d):yn(r,s,i);break;default:yn(r,s,i)}}function Pp(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var i=r.stateNode;i===null&&(i=r.stateNode=new wx),s.forEach(function(d){var p=Tx.bind(null,r,d);i.has(d)||(i.add(d),d.then(p,p))})}}function pr(r,s){var i=s.deletions;if(i!==null)for(var d=0;d<i.length;d++){var p=i[d];try{var g=r,S=s,T=S;e:for(;T!==null;){switch(T.tag){case 5:bt=T.stateNode,hr=!1;break e;case 3:bt=T.stateNode.containerInfo,hr=!0;break e;case 4:bt=T.stateNode.containerInfo,hr=!0;break e}T=T.return}if(bt===null)throw Error(n(160));Rp(g,S,p),bt=null,hr=!1;var A=p.alternate;A!==null&&(A.return=null),p.return=null}catch(B){rt(p,s,B)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ap(s,r),s=s.sibling}function Ap(r,s){var i=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(pr(s,r),Nr(r),d&4){try{Zo(3,r,r.return),_i(3,r)}catch(ge){rt(r,r.return,ge)}try{Zo(5,r,r.return)}catch(ge){rt(r,r.return,ge)}}break;case 1:pr(s,r),Nr(r),d&512&&i!==null&&Is(i,i.return);break;case 5:if(pr(s,r),Nr(r),d&512&&i!==null&&Is(i,i.return),r.flags&32){var p=r.stateNode;try{rn(p,"")}catch(ge){rt(r,r.return,ge)}}if(d&4&&(p=r.stateNode,p!=null)){var g=r.memoizedProps,S=i!==null?i.memoizedProps:g,T=r.type,A=r.updateQueue;if(r.updateQueue=null,A!==null)try{T==="input"&&g.type==="radio"&&g.name!=null&&Lr(p,g),_o(T,S);var B=_o(T,g);for(S=0;S<A.length;S+=2){var J=A[S],X=A[S+1];J==="style"?Pa(p,X):J==="dangerouslySetInnerHTML"?Ra(p,X):J==="children"?rn(p,X):j(p,J,X,B)}switch(T){case"input":or(p,g);break;case"textarea":Na(p,g);break;case"select":var Y=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var ue=g.value;ue!=null?$r(p,!!g.multiple,ue,!1):Y!==!!g.multiple&&(g.defaultValue!=null?$r(p,!!g.multiple,g.defaultValue,!0):$r(p,!!g.multiple,g.multiple?[]:"",!1))}p[Bo]=g}catch(ge){rt(r,r.return,ge)}}break;case 6:if(pr(s,r),Nr(r),d&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,g=r.memoizedProps;try{p.nodeValue=g}catch(ge){rt(r,r.return,ge)}}break;case 3:if(pr(s,r),Nr(r),d&4&&i!==null&&i.memoizedState.isDehydrated)try{Po(s.containerInfo)}catch(ge){rt(r,r.return,ge)}break;case 4:pr(s,r),Nr(r);break;case 13:pr(s,r),Nr(r),p=r.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(su=st())),d&4&&Pp(r);break;case 22:if(J=i!==null&&i.memoizedState!==null,r.mode&1?(Tt=(B=Tt)||J,pr(s,r),Tt=B):pr(s,r),Nr(r),d&8192){if(B=r.memoizedState!==null,(r.stateNode.isHidden=B)&&!J&&(r.mode&1)!==0)for(fe=r,J=r.child;J!==null;){for(X=fe=J;fe!==null;){switch(Y=fe,ue=Y.child,Y.tag){case 0:case 11:case 14:case 15:Zo(4,Y,Y.return);break;case 1:Is(Y,Y.return);var he=Y.stateNode;if(typeof he.componentWillUnmount=="function"){d=Y,i=Y.return;try{s=d,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(ge){rt(d,i,ge)}}break;case 5:Is(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Dp(X);continue}}ue!==null?(ue.return=Y,fe=ue):Dp(X)}J=J.sibling}e:for(J=null,X=r;;){if(X.tag===5){if(J===null){J=X;try{p=X.stateNode,B?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(T=X.stateNode,A=X.memoizedProps.style,S=A!=null&&A.hasOwnProperty("display")?A.display:null,T.style.display=xo("display",S))}catch(ge){rt(r,r.return,ge)}}}else if(X.tag===6){if(J===null)try{X.stateNode.nodeValue=B?"":X.memoizedProps}catch(ge){rt(r,r.return,ge)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===r)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===r)break e;for(;X.sibling===null;){if(X.return===null||X.return===r)break e;J===X&&(J=null),X=X.return}J===X&&(J=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:pr(s,r),Nr(r),d&4&&Pp(r);break;case 21:break;default:pr(s,r),Nr(r)}}function Nr(r){var s=r.flags;if(s&2){try{e:{for(var i=r.return;i!==null;){if(Np(i)){var d=i;break e}i=i.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(rn(p,""),d.flags&=-33);var g=Tp(r);tu(r,g,p);break;case 3:case 4:var S=d.stateNode.containerInfo,T=Tp(r);eu(r,T,S);break;default:throw Error(n(161))}}catch(A){rt(r,r.return,A)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function bx(r,s,i){fe=r,Op(r)}function Op(r,s,i){for(var d=(r.mode&1)!==0;fe!==null;){var p=fe,g=p.child;if(p.tag===22&&d){var S=p.memoizedState!==null||bi;if(!S){var T=p.alternate,A=T!==null&&T.memoizedState!==null||Tt;T=bi;var B=Tt;if(bi=S,(Tt=A)&&!B)for(fe=p;fe!==null;)S=fe,A=S.child,S.tag===22&&S.memoizedState!==null?Mp(p):A!==null?(A.return=S,fe=A):Mp(p);for(;g!==null;)fe=g,Op(g),g=g.sibling;fe=p,bi=T,Tt=B}Ip(r)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,fe=g):Ip(r)}}function Ip(r){for(;fe!==null;){var s=fe;if((s.flags&8772)!==0){var i=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Tt||_i(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Tt)if(i===null)d.componentDidMount();else{var p=s.elementType===s.type?i.memoizedProps:fr(s.type,i.memoizedProps);d.componentDidUpdate(p,i.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Dh(s,g,d);break;case 3:var S=s.updateQueue;if(S!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}Dh(s,S,i)}break;case 5:var T=s.stateNode;if(i===null&&s.flags&4){i=T;var A=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&i.focus();break;case"img":A.src&&(i.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var B=s.alternate;if(B!==null){var J=B.memoizedState;if(J!==null){var X=J.dehydrated;X!==null&&Po(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Tt||s.flags&512&&Zc(s)}catch(Y){rt(s,s.return,Y)}}if(s===r){fe=null;break}if(i=s.sibling,i!==null){i.return=s.return,fe=i;break}fe=s.return}}function Dp(r){for(;fe!==null;){var s=fe;if(s===r){fe=null;break}var i=s.sibling;if(i!==null){i.return=s.return,fe=i;break}fe=s.return}}function Mp(r){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{_i(4,s)}catch(A){rt(s,i,A)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(A){rt(s,p,A)}}var g=s.return;try{Zc(s)}catch(A){rt(s,g,A)}break;case 5:var S=s.return;try{Zc(s)}catch(A){rt(s,S,A)}}}catch(A){rt(s,s.return,A)}if(s===r){fe=null;break}var T=s.sibling;if(T!==null){T.return=s.return,fe=T;break}fe=s.return}}var _x=Math.ceil,Si=P.ReactCurrentDispatcher,ru=P.ReactCurrentOwner,tr=P.ReactCurrentBatchConfig,Ue=0,yt=null,it=null,_t=0,Wt=0,Ds=hn(0),dt=0,ea=null,Kn=0,ki=0,nu=0,ta=null,$t=null,su=0,Ms=1/0,Kr=null,Ci=!1,ou=null,wn=null,Ei=!1,xn=null,ji=0,ra=0,au=null,Ni=-1,Ti=0;function Ot(){return(Ue&6)!==0?st():Ni!==-1?Ni:Ni=st()}function bn(r){return(r.mode&1)===0?1:(Ue&2)!==0&&_t!==0?_t&-_t:ox.transition!==null?(Ti===0&&(Ti=Tf()),Ti):(r=We,r!==0||(r=window.event,r=r===void 0?16:$f(r.type)),r)}function mr(r,s,i,d){if(50<ra)throw ra=0,au=null,Error(n(185));Eo(r,i,d),((Ue&2)===0||r!==yt)&&(r===yt&&((Ue&2)===0&&(ki|=i),dt===4&&_n(r,_t)),Ut(r,d),i===1&&Ue===0&&(s.mode&1)===0&&(Ms=st()+500,ni&&mn()))}function Ut(r,s){var i=r.callbackNode;o0(r,s);var d=$a(r,r===yt?_t:0);if(d===0)i!==null&&Ef(i),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(i!=null&&Ef(i),s===1)r.tag===0?sx($p.bind(null,r)):Sh($p.bind(null,r)),ex(function(){(Ue&6)===0&&mn()}),i=null;else{switch(Rf(d)){case 1:i=Ul;break;case 4:i=jf;break;case 16:i=Ia;break;case 536870912:i=Nf;break;default:i=Ia}i=qp(i,Lp.bind(null,r))}r.callbackPriority=s,r.callbackNode=i}}function Lp(r,s){if(Ni=-1,Ti=0,(Ue&6)!==0)throw Error(n(327));var i=r.callbackNode;if(Ls()&&r.callbackNode!==i)return null;var d=$a(r,r===yt?_t:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=Ri(r,d);else{s=d;var p=Ue;Ue|=2;var g=zp();(yt!==r||_t!==s)&&(Kr=null,Ms=st()+500,Yn(r,s));do try{Cx();break}catch(T){Up(r,T)}while(!0);kc(),Si.current=g,Ue=p,it!==null?s=0:(yt=null,_t=0,s=dt)}if(s!==0){if(s===2&&(p=zl(r),p!==0&&(d=p,s=iu(r,p))),s===1)throw i=ea,Yn(r,0),_n(r,d),Ut(r,st()),i;if(s===6)_n(r,d);else{if(p=r.current.alternate,(d&30)===0&&!Sx(p)&&(s=Ri(r,d),s===2&&(g=zl(r),g!==0&&(d=g,s=iu(r,g))),s===1))throw i=ea,Yn(r,0),_n(r,d),Ut(r,st()),i;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:Jn(r,$t,Kr);break;case 3:if(_n(r,d),(d&130023424)===d&&(s=su+500-st(),10<s)){if($a(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){Ot(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=hc(Jn.bind(null,r,$t,Kr),s);break}Jn(r,$t,Kr);break;case 4:if(_n(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var S=31-cr(d);g=1<<S,S=s[S],S>p&&(p=S),d&=~g}if(d=p,d=st()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*_x(d/1960))-d,10<d){r.timeoutHandle=hc(Jn.bind(null,r,$t,Kr),d);break}Jn(r,$t,Kr);break;case 5:Jn(r,$t,Kr);break;default:throw Error(n(329))}}}return Ut(r,st()),r.callbackNode===i?Lp.bind(null,r):null}function iu(r,s){var i=ta;return r.current.memoizedState.isDehydrated&&(Yn(r,s).flags|=256),r=Ri(r,s),r!==2&&(s=$t,$t=i,s!==null&&lu(s)),r}function lu(r){$t===null?$t=r:$t.push.apply($t,r)}function Sx(r){for(var s=r;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var d=0;d<i.length;d++){var p=i[d],g=p.getSnapshot;p=p.value;try{if(!ur(g(),p))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _n(r,s){for(s&=~nu,s&=~ki,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var i=31-cr(s),d=1<<i;r[i]=-1,s&=~d}}function $p(r){if((Ue&6)!==0)throw Error(n(327));Ls();var s=$a(r,0);if((s&1)===0)return Ut(r,st()),null;var i=Ri(r,s);if(r.tag!==0&&i===2){var d=zl(r);d!==0&&(s=d,i=iu(r,d))}if(i===1)throw i=ea,Yn(r,0),_n(r,s),Ut(r,st()),i;if(i===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Jn(r,$t,Kr),Ut(r,st()),null}function cu(r,s){var i=Ue;Ue|=1;try{return r(s)}finally{Ue=i,Ue===0&&(Ms=st()+500,ni&&mn())}}function Gn(r){xn!==null&&xn.tag===0&&(Ue&6)===0&&Ls();var s=Ue;Ue|=1;var i=tr.transition,d=We;try{if(tr.transition=null,We=1,r)return r()}finally{We=d,tr.transition=i,Ue=s,(Ue&6)===0&&mn()}}function uu(){Wt=Ds.current,Ye(Ds)}function Yn(r,s){r.finishedWork=null,r.finishedLanes=0;var i=r.timeoutHandle;if(i!==-1&&(r.timeoutHandle=-1,Z0(i)),it!==null)for(i=it.return;i!==null;){var d=i;switch(wc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ti();break;case 3:As(),Ye(Dt),Ye(Et),Ac();break;case 5:Rc(d);break;case 4:As();break;case 13:Ye(Xe);break;case 19:Ye(Xe);break;case 10:Cc(d.type._context);break;case 22:case 23:uu()}i=i.return}if(yt=r,it=r=Sn(r.current,null),_t=Wt=s,dt=0,ea=null,nu=ki=Kn=0,$t=ta=null,Wn!==null){for(s=0;s<Wn.length;s++)if(i=Wn[s],d=i.interleaved,d!==null){i.interleaved=null;var p=d.next,g=i.pending;if(g!==null){var S=g.next;g.next=p,d.next=S}i.pending=d}Wn=null}return r}function Up(r,s){do{var i=it;try{if(kc(),hi.current=vi,pi){for(var d=Ze.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}pi=!1}if(qn=0,vt=ut=Ze=null,Go=!1,Yo=0,ru.current=null,i===null||i.return===null){dt=1,ea=s,it=null;break}e:{var g=r,S=i.return,T=i,A=s;if(s=_t,T.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var B=A,J=T,X=J.tag;if((J.mode&1)===0&&(X===0||X===11||X===15)){var Y=J.alternate;Y?(J.updateQueue=Y.updateQueue,J.memoizedState=Y.memoizedState,J.lanes=Y.lanes):(J.updateQueue=null,J.memoizedState=null)}var ue=up(S);if(ue!==null){ue.flags&=-257,dp(ue,S,T,g,s),ue.mode&1&&cp(g,B,s),s=ue,A=B;var he=s.updateQueue;if(he===null){var ge=new Set;ge.add(A),s.updateQueue=ge}else he.add(A);break e}else{if((s&1)===0){cp(g,B,s),du();break e}A=Error(n(426))}}else if(Qe&&T.mode&1){var ot=up(S);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),dp(ot,S,T,g,s),_c(Os(A,T));break e}}g=A=Os(A,T),dt!==4&&(dt=2),ta===null?ta=[g]:ta.push(g),g=S;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var $=ip(g,A,s);Ih(g,$);break e;case 1:T=A;var I=g.type,U=g.stateNode;if((g.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(wn===null||!wn.has(U)))){g.flags|=65536,s&=-s,g.lanes|=s;var re=lp(g,T,s);Ih(g,re);break e}}g=g.return}while(g!==null)}Bp(i)}catch(we){s=we,it===i&&i!==null&&(it=i=i.return);continue}break}while(!0)}function zp(){var r=Si.current;return Si.current=vi,r===null?vi:r}function du(){(dt===0||dt===3||dt===2)&&(dt=4),yt===null||(Kn&268435455)===0&&(ki&268435455)===0||_n(yt,_t)}function Ri(r,s){var i=Ue;Ue|=2;var d=zp();(yt!==r||_t!==s)&&(Kr=null,Yn(r,s));do try{kx();break}catch(p){Up(r,p)}while(!0);if(kc(),Ue=i,Si.current=d,it!==null)throw Error(n(261));return yt=null,_t=0,dt}function kx(){for(;it!==null;)Fp(it)}function Cx(){for(;it!==null&&!Jw();)Fp(it)}function Fp(r){var s=Hp(r.alternate,r,Wt);r.memoizedProps=r.pendingProps,s===null?Bp(r):it=s,ru.current=null}function Bp(r){var s=r;do{var i=s.alternate;if(r=s.return,(s.flags&32768)===0){if(i=vx(i,s,Wt),i!==null){it=i;return}}else{if(i=yx(i,s),i!==null){i.flags&=32767,it=i;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{dt=6,it=null;return}}if(s=s.sibling,s!==null){it=s;return}it=s=r}while(s!==null);dt===0&&(dt=5)}function Jn(r,s,i){var d=We,p=tr.transition;try{tr.transition=null,We=1,Ex(r,s,i,d)}finally{tr.transition=p,We=d}return null}function Ex(r,s,i,d){do Ls();while(xn!==null);if((Ue&6)!==0)throw Error(n(327));i=r.finishedWork;var p=r.finishedLanes;if(i===null)return null;if(r.finishedWork=null,r.finishedLanes=0,i===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var g=i.lanes|i.childLanes;if(a0(r,g),r===yt&&(it=yt=null,_t=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Ei||(Ei=!0,qp(Ia,function(){return Ls(),null})),g=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||g){g=tr.transition,tr.transition=null;var S=We;We=1;var T=Ue;Ue|=4,ru.current=null,xx(r,i),Ap(i,r),q0(dc),Fa=!!uc,dc=uc=null,r.current=i,bx(i),Qw(),Ue=T,We=S,tr.transition=g}else r.current=i;if(Ei&&(Ei=!1,xn=r,ji=p),g=r.pendingLanes,g===0&&(wn=null),e0(i.stateNode),Ut(r,st()),s!==null)for(d=r.onRecoverableError,i=0;i<s.length;i++)p=s[i],d(p.value,{componentStack:p.stack,digest:p.digest});if(Ci)throw Ci=!1,r=ou,ou=null,r;return(ji&1)!==0&&r.tag!==0&&Ls(),g=r.pendingLanes,(g&1)!==0?r===au?ra++:(ra=0,au=r):ra=0,mn(),null}function Ls(){if(xn!==null){var r=Rf(ji),s=tr.transition,i=We;try{if(tr.transition=null,We=16>r?16:r,xn===null)var d=!1;else{if(r=xn,xn=null,ji=0,(Ue&6)!==0)throw Error(n(331));var p=Ue;for(Ue|=4,fe=r.current;fe!==null;){var g=fe,S=g.child;if((fe.flags&16)!==0){var T=g.deletions;if(T!==null){for(var A=0;A<T.length;A++){var B=T[A];for(fe=B;fe!==null;){var J=fe;switch(J.tag){case 0:case 11:case 15:Zo(8,J,g)}var X=J.child;if(X!==null)X.return=J,fe=X;else for(;fe!==null;){J=fe;var Y=J.sibling,ue=J.return;if(jp(J),J===B){fe=null;break}if(Y!==null){Y.return=ue,fe=Y;break}fe=ue}}}var he=g.alternate;if(he!==null){var ge=he.child;if(ge!==null){he.child=null;do{var ot=ge.sibling;ge.sibling=null,ge=ot}while(ge!==null)}}fe=g}}if((g.subtreeFlags&2064)!==0&&S!==null)S.return=g,fe=S;else e:for(;fe!==null;){if(g=fe,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Zo(9,g,g.return)}var $=g.sibling;if($!==null){$.return=g.return,fe=$;break e}fe=g.return}}var I=r.current;for(fe=I;fe!==null;){S=fe;var U=S.child;if((S.subtreeFlags&2064)!==0&&U!==null)U.return=S,fe=U;else e:for(S=I;fe!==null;){if(T=fe,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:_i(9,T)}}catch(we){rt(T,T.return,we)}if(T===S){fe=null;break e}var re=T.sibling;if(re!==null){re.return=T.return,fe=re;break e}fe=T.return}}if(Ue=p,mn(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(Da,r)}catch{}d=!0}return d}finally{We=i,tr.transition=s}}return!1}function Vp(r,s,i){s=Os(i,s),s=ip(r,s,1),r=vn(r,s,1),s=Ot(),r!==null&&(Eo(r,1,s),Ut(r,s))}function rt(r,s,i){if(r.tag===3)Vp(r,r,i);else for(;s!==null;){if(s.tag===3){Vp(s,r,i);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(wn===null||!wn.has(d))){r=Os(i,r),r=lp(s,r,1),s=vn(s,r,1),r=Ot(),s!==null&&(Eo(s,1,r),Ut(s,r));break}}s=s.return}}function jx(r,s,i){var d=r.pingCache;d!==null&&d.delete(s),s=Ot(),r.pingedLanes|=r.suspendedLanes&i,yt===r&&(_t&i)===i&&(dt===4||dt===3&&(_t&130023424)===_t&&500>st()-su?Yn(r,0):nu|=i),Ut(r,s)}function Wp(r,s){s===0&&((r.mode&1)===0?s=1:(s=La,La<<=1,(La&130023424)===0&&(La=4194304)));var i=Ot();r=Wr(r,s),r!==null&&(Eo(r,s,i),Ut(r,i))}function Nx(r){var s=r.memoizedState,i=0;s!==null&&(i=s.retryLane),Wp(r,i)}function Tx(r,s){var i=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(i=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),Wp(r,i)}var Hp;Hp=function(r,s,i){if(r!==null)if(r.memoizedProps!==s.pendingProps||Dt.current)Lt=!0;else{if((r.lanes&i)===0&&(s.flags&128)===0)return Lt=!1,gx(r,s,i);Lt=(r.flags&131072)!==0}else Lt=!1,Qe&&(s.flags&1048576)!==0&&kh(s,oi,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;xi(r,s),r=s.pendingProps;var p=Cs(s,Et.current);Ps(s,i),p=Dc(null,s,d,r,p,i);var g=Mc();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Mt(d)?(g=!0,ri(s)):g=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Nc(s),p.updater=yi,s.stateNode=p,p._reactInternals=s,Bc(s,d,r,i),s=qc(null,s,d,!0,g,i)):(s.tag=0,Qe&&g&&yc(s),At(null,s,p,i),s=s.child),s;case 16:d=s.elementType;e:{switch(xi(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=Px(d),r=fr(d,r),p){case 0:s=Hc(null,s,d,r,i);break e;case 1:s=vp(null,s,d,r,i);break e;case 11:s=fp(null,s,d,r,i);break e;case 14:s=hp(null,s,d,fr(d.type,r),i);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:fr(d,p),Hc(r,s,d,p,i);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:fr(d,p),vp(r,s,d,p,i);case 3:e:{if(yp(s),r===null)throw Error(n(387));d=s.pendingProps,g=s.memoizedState,p=g.element,Oh(r,s),di(s,d,null,i);var S=s.memoizedState;if(d=S.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){p=Os(Error(n(423)),s),s=wp(r,s,d,i,p);break e}else if(d!==p){p=Os(Error(n(424)),s),s=wp(r,s,d,i,p);break e}else for(Vt=fn(s.stateNode.containerInfo.firstChild),Bt=s,Qe=!0,dr=null,i=Ph(s,null,d,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ns(),d===p){s=qr(r,s,i);break e}At(r,s,d,i)}s=s.child}return s;case 5:return Mh(s),r===null&&bc(s),d=s.type,p=s.pendingProps,g=r!==null?r.memoizedProps:null,S=p.children,fc(d,p)?S=null:g!==null&&fc(d,g)&&(s.flags|=32),gp(r,s),At(r,s,S,i),s.child;case 6:return r===null&&bc(s),null;case 13:return xp(r,s,i);case 4:return Tc(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Ts(s,null,d,i):At(r,s,d,i),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:fr(d,p),fp(r,s,d,p,i);case 7:return At(r,s,s.pendingProps,i),s.child;case 8:return At(r,s,s.pendingProps.children,i),s.child;case 12:return At(r,s,s.pendingProps.children,i),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,g=s.memoizedProps,S=p.value,He(li,d._currentValue),d._currentValue=S,g!==null)if(ur(g.value,S)){if(g.children===p.children&&!Dt.current){s=qr(r,s,i);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var T=g.dependencies;if(T!==null){S=g.child;for(var A=T.firstContext;A!==null;){if(A.context===d){if(g.tag===1){A=Hr(-1,i&-i),A.tag=2;var B=g.updateQueue;if(B!==null){B=B.shared;var J=B.pending;J===null?A.next=A:(A.next=J.next,J.next=A),B.pending=A}}g.lanes|=i,A=g.alternate,A!==null&&(A.lanes|=i),Ec(g.return,i,s),T.lanes|=i;break}A=A.next}}else if(g.tag===10)S=g.type===s.type?null:g.child;else if(g.tag===18){if(S=g.return,S===null)throw Error(n(341));S.lanes|=i,T=S.alternate,T!==null&&(T.lanes|=i),Ec(S,i,s),S=g.sibling}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===s){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}At(r,s,p.children,i),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,Ps(s,i),p=Zt(p),d=d(p),s.flags|=1,At(r,s,d,i),s.child;case 14:return d=s.type,p=fr(d,s.pendingProps),p=fr(d.type,p),hp(r,s,d,p,i);case 15:return pp(r,s,s.type,s.pendingProps,i);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:fr(d,p),xi(r,s),s.tag=1,Mt(d)?(r=!0,ri(s)):r=!1,Ps(s,i),op(s,d,p),Bc(s,d,p,i),qc(null,s,d,!0,r,i);case 19:return _p(r,s,i);case 22:return mp(r,s,i)}throw Error(n(156,s.tag))};function qp(r,s){return Cf(r,s)}function Rx(r,s,i,d){this.tag=r,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(r,s,i,d){return new Rx(r,s,i,d)}function fu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Px(r){if(typeof r=="function")return fu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ne)return 11;if(r===ce)return 14}return 2}function Sn(r,s){var i=r.alternate;return i===null?(i=rr(r.tag,s,r.key,r.mode),i.elementType=r.elementType,i.type=r.type,i.stateNode=r.stateNode,i.alternate=r,r.alternate=i):(i.pendingProps=s,i.type=r.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=r.flags&14680064,i.childLanes=r.childLanes,i.lanes=r.lanes,i.child=r.child,i.memoizedProps=r.memoizedProps,i.memoizedState=r.memoizedState,i.updateQueue=r.updateQueue,s=r.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=r.sibling,i.index=r.index,i.ref=r.ref,i}function Pi(r,s,i,d,p,g){var S=2;if(d=r,typeof r=="function")fu(r)&&(S=1);else if(typeof r=="string")S=5;else e:switch(r){case D:return Qn(i.children,p,g,s);case L:S=8,p|=8;break;case q:return r=rr(12,i,s,p|2),r.elementType=q,r.lanes=g,r;case K:return r=rr(13,i,s,p),r.elementType=K,r.lanes=g,r;case ie:return r=rr(19,i,s,p),r.elementType=ie,r.lanes=g,r;case ee:return Ai(i,p,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case W:S=10;break e;case Z:S=9;break e;case ne:S=11;break e;case ce:S=14;break e;case Q:S=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=rr(S,i,s,p),s.elementType=r,s.type=d,s.lanes=g,s}function Qn(r,s,i,d){return r=rr(7,r,d,s),r.lanes=i,r}function Ai(r,s,i,d){return r=rr(22,r,d,s),r.elementType=ee,r.lanes=i,r.stateNode={isHidden:!1},r}function hu(r,s,i){return r=rr(6,r,null,s),r.lanes=i,r}function pu(r,s,i){return s=rr(4,r.children!==null?r.children:[],r.key,s),s.lanes=i,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Ax(r,s,i,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function mu(r,s,i,d,p,g,S,T,A){return r=new Ax(r,s,i,T,A),s===1?(s=1,g===!0&&(s|=8)):s=0,g=rr(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nc(g),r}function Ox(r,s,i){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:d==null?null:""+d,children:r,containerInfo:s,implementation:i}}function Kp(r){if(!r)return pn;r=r._reactInternals;e:{if(Un(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Mt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var i=r.type;if(Mt(i))return bh(r,i,s)}return s}function Gp(r,s,i,d,p,g,S,T,A){return r=mu(i,d,!0,r,p,g,S,T,A),r.context=Kp(null),i=r.current,d=Ot(),p=bn(i),g=Hr(d,p),g.callback=s??null,vn(i,g,p),r.current.lanes=p,Eo(r,p,d),Ut(r,d),r}function Oi(r,s,i,d){var p=s.current,g=Ot(),S=bn(p);return i=Kp(i),s.context===null?s.context=i:s.pendingContext=i,s=Hr(g,S),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=vn(p,s,S),r!==null&&(mr(r,p,S,g),ui(r,p,S)),S}function Ii(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Yp(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var i=r.retryLane;r.retryLane=i!==0&&i<s?i:s}}function gu(r,s){Yp(r,s),(r=r.alternate)&&Yp(r,s)}function Ix(){return null}var Jp=typeof reportError=="function"?reportError:function(r){console.error(r)};function vu(r){this._internalRoot=r}Di.prototype.render=vu.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Oi(r,s,null,null)},Di.prototype.unmount=vu.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Gn(function(){Oi(null,r,null,null)}),s[zr]=null}};function Di(r){this._internalRoot=r}Di.prototype.unstable_scheduleHydration=function(r){if(r){var s=Of();r={blockedOn:null,target:r,priority:s};for(var i=0;i<cn.length&&s!==0&&s<cn[i].priority;i++);cn.splice(i,0,r),i===0&&Mf(r)}};function yu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Mi(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Qp(){}function Dx(r,s,i,d,p){if(p){if(typeof d=="function"){var g=d;d=function(){var B=Ii(S);g.call(B)}}var S=Gp(s,d,r,0,null,!1,!1,"",Qp);return r._reactRootContainer=S,r[zr]=S.current,zo(r.nodeType===8?r.parentNode:r),Gn(),S}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var T=d;d=function(){var B=Ii(A);T.call(B)}}var A=mu(r,0,!1,null,null,!1,!1,"",Qp);return r._reactRootContainer=A,r[zr]=A.current,zo(r.nodeType===8?r.parentNode:r),Gn(function(){Oi(s,A,i,d)}),A}function Li(r,s,i,d,p){var g=i._reactRootContainer;if(g){var S=g;if(typeof p=="function"){var T=p;p=function(){var A=Ii(S);T.call(A)}}Oi(s,S,r,p)}else S=Dx(i,s,r,p,d);return Ii(S)}Pf=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var i=Co(s.pendingLanes);i!==0&&(Bl(s,i|1),Ut(s,st()),(Ue&6)===0&&(Ms=st()+500,mn()))}break;case 13:Gn(function(){var d=Wr(r,1);if(d!==null){var p=Ot();mr(d,r,1,p)}}),gu(r,1)}},Vl=function(r){if(r.tag===13){var s=Wr(r,134217728);if(s!==null){var i=Ot();mr(s,r,134217728,i)}gu(r,134217728)}},Af=function(r){if(r.tag===13){var s=bn(r),i=Wr(r,s);if(i!==null){var d=Ot();mr(i,r,s,d)}gu(r,s)}},Of=function(){return We},If=function(r,s){var i=We;try{return We=r,s()}finally{We=i}},Le=function(r,s,i){switch(s){case"input":if(or(r,i),s=i.name,i.type==="radio"&&s!=null){for(i=r;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var d=i[s];if(d!==r&&d.form===r.form){var p=ei(d);if(!p)throw Error(n(90));Fe(d),or(d,p)}}}break;case"textarea":Na(r,i);break;case"select":s=i.value,s!=null&&$r(r,!!i.multiple,s,!1)}},ar=cu,It=Gn;var Mx={usingClientEntryPoint:!1,Events:[Vo,Ss,ei,xt,gt,cu]},na={findFiberByHostInstance:zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lx={bundleType:na.bundleType,version:na.version,rendererPackageName:na.rendererPackageName,rendererConfig:na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Sf(r),r===null?null:r.stateNode},findFiberByHostInstance:na.findFiberByHostInstance||Ix,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$i.isDisabled&&$i.supportsFiber)try{Da=$i.inject(Lx),kr=$i}catch{}}return zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mx,zt.createPortal=function(r,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yu(s))throw Error(n(200));return Ox(r,s,null,i)},zt.createRoot=function(r,s){if(!yu(r))throw Error(n(299));var i=!1,d="",p=Jp;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=mu(r,1,!1,null,null,i,!1,d,p),r[zr]=s.current,zo(r.nodeType===8?r.parentNode:r),new vu(s)},zt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Sf(s),r=r===null?null:r.stateNode,r},zt.flushSync=function(r){return Gn(r)},zt.hydrate=function(r,s,i){if(!Mi(s))throw Error(n(200));return Li(null,r,s,!0,i)},zt.hydrateRoot=function(r,s,i){if(!yu(r))throw Error(n(405));var d=i!=null&&i.hydratedSources||null,p=!1,g="",S=Jp;if(i!=null&&(i.unstable_strictMode===!0&&(p=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),s=Gp(s,null,r,1,i??null,p,!1,g,S),r[zr]=s.current,zo(r),d)for(r=0;r<d.length;r++)i=d[r],p=i._getVersion,p=p(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,p]:s.mutableSourceEagerHydrationData.push(i,p);return new Di(s)},zt.render=function(r,s,i){if(!Mi(s))throw Error(n(200));return Li(null,r,s,!1,i)},zt.unmountComponentAtNode=function(r){if(!Mi(r))throw Error(n(40));return r._reactRootContainer?(Gn(function(){Li(null,null,r,!1,function(){r._reactRootContainer=null,r[zr]=null})}),!0):!1},zt.unstable_batchedUpdates=cu,zt.unstable_renderSubtreeIntoContainer=function(r,s,i,d){if(!Mi(i))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Li(r,s,i,!1,d)},zt.version="18.3.1-next-f1338f8080-20240426",zt}var om;function Sg(){if(om)return bu.exports;om=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bu.exports=Hx(),bu.exports}var am;function qx(){if(am)return Ui;am=1;var t=Sg();return Ui.createRoot=t.createRoot,Ui.hydrateRoot=t.hydrateRoot,Ui}var Kx=qx(),x=xl();const oe=_g(x),Dd=Ux({__proto__:null,default:oe},[x]),Xn={primaryColor:"#d4756f",secondaryColor:"#c9a28f",accentColor:"#fce4da",backgroundColor:"#fef9f5",textColor:"#2d2424",fontFamily:"system-ui",fontSize:"16px",borderRadius:"1rem",cardStyle:"glass",chatBubbleStyle:"rounded",chatMyMessageBg:"#d4756f",chatOtherMessageBg:"#ffffff"},kg=x.createContext(void 0);function Gx({children:t}){const e=x.useRef(!1);if(typeof window<"u"&&!e.current){const c=localStorage.getItem("app_darkMode")==="true",f=document.documentElement;c?f.classList.add("dark"):f.classList.remove("dark"),e.current=!0}const[n,o]=x.useState(()=>{if(typeof window<"u"){const c=localStorage.getItem("smileArtistTheme"),f=c?JSON.parse(c):Xn;return localStorage.getItem("app_darkMode")==="true"&&f.backgroundColor===Xn.backgroundColor&&f.textColor===Xn.textColor&&f.accentColor===Xn.accentColor&&f.chatOtherMessageBg===Xn.chatOtherMessageBg?{...f,backgroundColor:"#1a1515",textColor:"#f5e8e0",accentColor:"#3d2f2f",chatOtherMessageBg:"#2d2424"}:f}return Xn});x.useEffect(()=>{typeof window<"u"&&(localStorage.setItem("smileArtistTheme",JSON.stringify(n)),Yx(n))},[n]);const a=c=>{o(f=>({...f,...c}))},l=()=>{o(Xn)};return u.jsx(kg.Provider,{value:{theme:n,updateTheme:a,resetTheme:l},children:t})}function Md(){const t=x.useContext(kg);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}function Yx(t){if(typeof document>"u")return;const e=document.documentElement,n=e.classList.contains("dark");e.style.setProperty("--theme-primary",t.primaryColor),e.style.setProperty("--theme-secondary",t.secondaryColor),e.style.setProperty("--theme-accent",t.accentColor),e.style.setProperty("--theme-background",t.backgroundColor),e.style.setProperty("--theme-text",t.textColor),e.style.setProperty("--theme-font-family",t.fontFamily),e.style.setProperty("--theme-font-size",t.fontSize),e.style.setProperty("--theme-border-radius",t.borderRadius),e.style.setProperty("--theme-chat-my-bg",t.chatMyMessageBg),e.style.setProperty("--theme-chat-other-bg",t.chatOtherMessageBg),e.style.setProperty("--theme-card-bg",n?"#2d2424":"#ffffff")}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qx=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,o)=>o?o.toUpperCase():n.toLowerCase()),im=t=>{const e=Qx(t);return e.charAt(0).toUpperCase()+e.slice(1)},Cg=(...t)=>t.filter((e,n,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:c,...f},h)=>x.createElement("svg",{ref:h,...Xx,width:e,height:e,stroke:t,strokeWidth:o?Number(n)*24/Number(e):n,className:Cg("lucide",a),...f},[...c.map(([m,y])=>x.createElement(m,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const n=x.forwardRef(({className:o,...a},l)=>x.createElement(Zx,{ref:l,iconNode:e,className:Cg(`lucide-${Jx(im(t))}`,`lucide-${t}`,o),...a}));return n.displayName=im(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],lm=Te("at-sign",eb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],td=Te("award",tb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ld=Te("bell",rb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ro=Te("book-open",nb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Eg=Te("bookmark",sb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jg=Te("calendar",ob);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ib=Te("camera",ab);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],cm=Te("check-check",lb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ng=Te("check",cb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Tg=Te("chevron-down",ub);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fb=Te("chevron-up",db);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pb=Te("circle-alert",hb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],gb=Te("clock",mb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],yb=Te("database",vb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],xb=Te("ellipsis",wb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],um=Te("flame",bb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Sb=Te("globe",_b);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Jr=Te("heart",kb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Rg=Te("house",Cb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Pg=Te("loader-circle",Eb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Nb=Te("lock",jb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Rb=Te("log-out",Tb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ab=Te("map-pin",Pb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],is=Te("message-circle",Ob);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Db=Te("message-square",Ib);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Lb=Te("moon",Mb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],il=Te("palette",$b);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],zb=Te("panels-top-left",Ub);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],rd=Te("pen-tool",Fb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Vb=Te("pen",Bb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Hb=Te("rotate-ccw",Wb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Kb=Te("save",qb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ua=Te("search",Gb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ag=Te("send",Yb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Og=Te("settings",Jb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Xb=Te("shield",Qb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Ig=Te("sparkles",Zb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],t_=Te("sun",e_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],nd=Te("trash-2",r_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Dg=Te("trending-up",n_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],sd=Te("type",s_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],a_=Te("upload",o_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],od=Te("user-plus",i_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],c_=Te("user-x",l_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$d=Te("user",u_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],ku=Te("users",d_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bl=Te("x",f_);function dm(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function so(...t){return e=>{let n=!1;const o=t.map(a=>{const l=dm(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<o.length;a++){const l=o[a];typeof l=="function"?l():dm(t[a],null)}}}}function Ve(...t){return x.useCallback(so(...t),t)}var h_=Symbol.for("react.lazy"),ll=Dd[" use ".trim().toString()];function p_(t){return typeof t=="object"&&t!==null&&"then"in t}function Mg(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===h_&&"_payload"in t&&p_(t._payload)}function Ud(t){const e=m_(t),n=x.forwardRef((o,a)=>{let{children:l,...c}=o;Mg(l)&&typeof ll=="function"&&(l=ll(l._payload));const f=x.Children.toArray(l),h=f.find(v_);if(h){const m=h.props.children,y=f.map(v=>v===h?x.Children.count(m)>1?x.Children.only(null):x.isValidElement(m)?m.props.children:null:v);return u.jsx(e,{...c,ref:a,children:x.isValidElement(m)?x.cloneElement(m,void 0,y):null})}return u.jsx(e,{...c,ref:a,children:l})});return n.displayName=`${t}.Slot`,n}var Lg=Ud("Slot");function m_(t){const e=x.forwardRef((n,o)=>{let{children:a,...l}=n;if(Mg(a)&&typeof ll=="function"&&(a=ll(a._payload)),x.isValidElement(a)){const c=w_(a),f=y_(l,a.props);return a.type!==x.Fragment&&(f.ref=o?so(o,c):c),x.cloneElement(a,f)}return x.Children.count(a)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var g_=Symbol("radix.slottable");function v_(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===g_}function y_(t,e){const n={...e};for(const o in e){const a=t[o],l=e[o];/^on[A-Z]/.test(o)?a&&l?n[o]=(...f)=>{const h=l(...f);return a(...f),h}:a&&(n[o]=a):o==="style"?n[o]={...a,...l}:o==="className"&&(n[o]=[a,l].filter(Boolean).join(" "))}return{...t,...n}}function w_(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $g(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=$g(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Ug(){for(var t,e,n=0,o="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=$g(t))&&(o&&(o+=" "),o+=e);return o}const fm=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,hm=Ug,zd=(t,e)=>n=>{var o;if(e?.variants==null)return hm(t,n?.class,n?.className);const{variants:a,defaultVariants:l}=e,c=Object.keys(a).map(m=>{const y=n?.[m],v=l?.[m];if(y===null)return null;const w=fm(y)||fm(v);return a[m][w]}),f=n&&Object.entries(n).reduce((m,y)=>{let[v,w]=y;return w===void 0||(m[v]=w),m},{}),h=e==null||(o=e.compoundVariants)===null||o===void 0?void 0:o.reduce((m,y)=>{let{class:v,className:w,...k}=y;return Object.entries(k).every(_=>{let[b,C]=_;return Array.isArray(C)?C.includes({...l,...f}[b]):{...l,...f}[b]===C})?[...m,v,w]:m},[]);return hm(t,c,h,n?.class,n?.className)},x_=(t,e)=>{const n=new Array(t.length+e.length);for(let o=0;o<t.length;o++)n[o]=t[o];for(let o=0;o<e.length;o++)n[t.length+o]=e[o];return n},b_=(t,e)=>({classGroupId:t,validator:e}),zg=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),cl="-",pm=[],__="arbitrary..",S_=t=>{const e=C_(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return k_(c);const f=c.split(cl),h=f[0]===""&&f.length>1?1:0;return Fg(f,h,e)},getConflictingClassGroupIds:(c,f)=>{if(f){const h=o[c],m=n[c];return h?m?x_(m,h):h:m||pm}return n[c]||pm}}},Fg=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const m=Fg(t,e+1,l);if(m)return m}const c=n.validators;if(c===null)return;const f=e===0?t.join(cl):t.slice(e).join(cl),h=c.length;for(let m=0;m<h;m++){const y=c[m];if(y.validator(f))return y.classGroupId}},k_=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),o=e.slice(0,n);return o?__+o:void 0})(),C_=t=>{const{theme:e,classGroups:n}=t;return E_(n,e)},E_=(t,e)=>{const n=zg();for(const o in t){const a=t[o];Fd(a,n,o,e)}return n},Fd=(t,e,n,o)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];j_(c,e,n,o)}},j_=(t,e,n,o)=>{if(typeof t=="string"){N_(t,e,n);return}if(typeof t=="function"){T_(t,e,n,o);return}R_(t,e,n,o)},N_=(t,e,n)=>{const o=t===""?e:Bg(e,t);o.classGroupId=n},T_=(t,e,n,o)=>{if(P_(t)){Fd(t(o),e,n,o);return}e.validators===null&&(e.validators=[]),e.validators.push(b_(n,t))},R_=(t,e,n,o)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[f,h]=a[c];Fd(h,Bg(e,f),n,o)}},Bg=(t,e)=>{let n=t;const o=e.split(cl),a=o.length;for(let l=0;l<a;l++){const c=o[l];let f=n.nextPart.get(c);f||(f=zg(),n.nextPart.set(c,f)),n=f}return n},P_=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,A_=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),o=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,o=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=o[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},ad="!",mm=":",O_=[],gm=(t,e,n,o,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:o,isExternal:a}),I_=t=>{const{prefix:e,experimentalParseClassName:n}=t;let o=a=>{const l=[];let c=0,f=0,h=0,m;const y=a.length;for(let b=0;b<y;b++){const C=a[b];if(c===0&&f===0){if(C===mm){l.push(a.slice(h,b)),h=b+1;continue}if(C==="/"){m=b;continue}}C==="["?c++:C==="]"?c--:C==="("?f++:C===")"&&f--}const v=l.length===0?a:a.slice(h);let w=v,k=!1;v.endsWith(ad)?(w=v.slice(0,-1),k=!0):v.startsWith(ad)&&(w=v.slice(1),k=!0);const _=m&&m>h?m-h:void 0;return gm(l,k,w,_)};if(e){const a=e+mm,l=o;o=c=>c.startsWith(a)?l(c.slice(a.length)):gm(O_,!1,c,void 0,!0)}if(n){const a=o;o=l=>n({className:l,parseClassName:a})}return o},D_=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,o)=>{e.set(n,1e6+o)}),n=>{const o=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],f=c[0]==="[",h=e.has(c);f||h?(a.length>0&&(a.sort(),o.push(...a),a=[]),o.push(c)):a.push(c)}return a.length>0&&(a.sort(),o.push(...a)),o}},M_=t=>({cache:A_(t.cacheSize),parseClassName:I_(t),sortModifiers:D_(t),...S_(t)}),L_=/\s+/,$_=(t,e)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],f=t.trim().split(L_);let h="";for(let m=f.length-1;m>=0;m-=1){const y=f[m],{isExternal:v,modifiers:w,hasImportantModifier:k,baseClassName:_,maybePostfixModifierPosition:b}=n(y);if(v){h=y+(h.length>0?" "+h:h);continue}let C=!!b,E=o(C?_.substring(0,b):_);if(!E){if(!C){h=y+(h.length>0?" "+h:h);continue}if(E=o(_),!E){h=y+(h.length>0?" "+h:h);continue}C=!1}const N=w.length===0?"":w.length===1?w[0]:l(w).join(":"),j=k?N+ad:N,P=j+E;if(c.indexOf(P)>-1)continue;c.push(P);const z=a(E,C);for(let F=0;F<z.length;++F){const D=z[F];c.push(j+D)}h=y+(h.length>0?" "+h:h)}return h},U_=(...t)=>{let e=0,n,o,a="";for(;e<t.length;)(n=t[e++])&&(o=Vg(n))&&(a&&(a+=" "),a+=o);return a},Vg=t=>{if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=Vg(t[o]))&&(n&&(n+=" "),n+=e);return n},z_=(t,...e)=>{let n,o,a,l;const c=h=>{const m=e.reduce((y,v)=>v(y),t());return n=M_(m),o=n.cache.get,a=n.cache.set,l=f,f(h)},f=h=>{const m=o(h);if(m)return m;const y=$_(h,n);return a(h,y),y};return l=c,(...h)=>l(U_(...h))},F_=[],ft=t=>{const e=n=>n[t]||F_;return e.isThemeGetter=!0,e},Wg=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Hg=/^\((?:(\w[\w-]*):)?(.+)\)$/i,B_=/^\d+\/\d+$/,V_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,W_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,H_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,q_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,K_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$s=t=>B_.test(t),De=t=>!!t&&!Number.isNaN(Number(t)),Cn=t=>!!t&&Number.isInteger(Number(t)),Cu=t=>t.endsWith("%")&&De(t.slice(0,-1)),Gr=t=>V_.test(t),G_=()=>!0,Y_=t=>W_.test(t)&&!H_.test(t),qg=()=>!1,J_=t=>q_.test(t),Q_=t=>K_.test(t),X_=t=>!pe(t)&&!me(t),Z_=t=>oo(t,Yg,qg),pe=t=>Wg.test(t),Zn=t=>oo(t,Jg,Y_),Eu=t=>oo(t,sS,De),vm=t=>oo(t,Kg,qg),eS=t=>oo(t,Gg,Q_),zi=t=>oo(t,Qg,J_),me=t=>Hg.test(t),oa=t=>ao(t,Jg),tS=t=>ao(t,oS),ym=t=>ao(t,Kg),rS=t=>ao(t,Yg),nS=t=>ao(t,Gg),Fi=t=>ao(t,Qg,!0),oo=(t,e,n)=>{const o=Wg.exec(t);return o?o[1]?e(o[1]):n(o[2]):!1},ao=(t,e,n=!1)=>{const o=Hg.exec(t);return o?o[1]?e(o[1]):n:!1},Kg=t=>t==="position"||t==="percentage",Gg=t=>t==="image"||t==="url",Yg=t=>t==="length"||t==="size"||t==="bg-size",Jg=t=>t==="length",sS=t=>t==="number",oS=t=>t==="family-name",Qg=t=>t==="shadow",aS=()=>{const t=ft("color"),e=ft("font"),n=ft("text"),o=ft("font-weight"),a=ft("tracking"),l=ft("leading"),c=ft("breakpoint"),f=ft("container"),h=ft("spacing"),m=ft("radius"),y=ft("shadow"),v=ft("inset-shadow"),w=ft("text-shadow"),k=ft("drop-shadow"),_=ft("blur"),b=ft("perspective"),C=ft("aspect"),E=ft("ease"),N=ft("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...P(),me,pe],F=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],L=()=>[me,pe,h],q=()=>[$s,"full","auto",...L()],W=()=>[Cn,"none","subgrid",me,pe],Z=()=>["auto",{span:["full",Cn,me,pe]},Cn,me,pe],ne=()=>[Cn,"auto",me,pe],K=()=>["auto","min","max","fr",me,pe],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ce=()=>["start","end","center","stretch","center-safe","end-safe"],Q=()=>["auto",...L()],ee=()=>[$s,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],R=()=>[t,me,pe],V=()=>[...P(),ym,vm,{position:[me,pe]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",rS,Z_,{size:[me,pe]}],M=()=>[Cu,oa,Zn],te=()=>["","none","full",m,me,pe],ae=()=>["",De,oa,Zn],se=()=>["solid","dashed","dotted","double"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>[De,Cu,ym,vm],le=()=>["","none",_,me,pe],ye=()=>["none",De,me,pe],be=()=>["none",De,me,pe],Re=()=>[De,me,pe],Fe=()=>[$s,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gr],breakpoint:[Gr],color:[G_],container:[Gr],"drop-shadow":[Gr],ease:["in","out","in-out"],font:[X_],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gr],shadow:[Gr],spacing:["px",De],text:[Gr],"text-shadow":[Gr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",$s,pe,me,C]}],container:["container"],columns:[{columns:[De,pe,me,f]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[Cn,"auto",me,pe]}],basis:[{basis:[$s,"full","auto",f,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[De,$s,"auto","initial","none",pe]}],grow:[{grow:["",De,me,pe]}],shrink:[{shrink:["",De,me,pe]}],order:[{order:[Cn,"first","last","none",me,pe]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:Z()}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:Z()}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...ce()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...ce(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ce(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...ce(),"baseline"]}],"place-self":[{"place-self":["auto",...ce()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[f,"screen",...ee()]}],"min-w":[{"min-w":[f,"screen","none",...ee()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",n,oa,Zn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,me,Eu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Cu,pe]}],"font-family":[{font:[tS,pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,me,pe]}],"line-clamp":[{"line-clamp":[De,"none",me,Eu]}],leading:[{leading:[l,...L()]}],"list-image":[{"list-image":["none",me,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",me,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:[De,"from-font","auto",me,Zn]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[De,"auto",me,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Cn,me,pe],radial:["",me,pe],conic:[Cn,me,pe]},nS,eS]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:M()}],"gradient-via-pos":[{via:M()}],"gradient-to-pos":[{to:M()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...se(),"hidden","none"]}],"divide-style":[{divide:[...se(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[De,me,pe]}],"outline-w":[{outline:["",De,oa,Zn]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",y,Fi,zi]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",v,Fi,zi]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[De,Zn]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",w,Fi,zi]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[De,me,pe]}],"mix-blend":[{"mix-blend":[...ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ve()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[De]}],"mask-image-linear-from-pos":[{"mask-linear-from":H()}],"mask-image-linear-to-pos":[{"mask-linear-to":H()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":H()}],"mask-image-t-to-pos":[{"mask-t-to":H()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":H()}],"mask-image-r-to-pos":[{"mask-r-to":H()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":H()}],"mask-image-b-to-pos":[{"mask-b-to":H()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":H()}],"mask-image-l-to-pos":[{"mask-l-to":H()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":H()}],"mask-image-x-to-pos":[{"mask-x-to":H()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":H()}],"mask-image-y-to-pos":[{"mask-y-to":H()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[me,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":H()}],"mask-image-radial-to-pos":[{"mask-radial-to":H()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[De]}],"mask-image-conic-from-pos":[{"mask-conic-from":H()}],"mask-image-conic-to-pos":[{"mask-conic-to":H()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",me,pe]}],filter:[{filter:["","none",me,pe]}],blur:[{blur:le()}],brightness:[{brightness:[De,me,pe]}],contrast:[{contrast:[De,me,pe]}],"drop-shadow":[{"drop-shadow":["","none",k,Fi,zi]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",De,me,pe]}],"hue-rotate":[{"hue-rotate":[De,me,pe]}],invert:[{invert:["",De,me,pe]}],saturate:[{saturate:[De,me,pe]}],sepia:[{sepia:["",De,me,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",me,pe]}],"backdrop-blur":[{"backdrop-blur":le()}],"backdrop-brightness":[{"backdrop-brightness":[De,me,pe]}],"backdrop-contrast":[{"backdrop-contrast":[De,me,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",De,me,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[De,me,pe]}],"backdrop-invert":[{"backdrop-invert":["",De,me,pe]}],"backdrop-opacity":[{"backdrop-opacity":[De,me,pe]}],"backdrop-saturate":[{"backdrop-saturate":[De,me,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",De,me,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",me,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[De,"initial",me,pe]}],ease:[{ease:["linear","initial",E,me,pe]}],delay:[{delay:[De,me,pe]}],animate:[{animate:["none",N,me,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,me,pe]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:ye()}],"rotate-x":[{"rotate-x":ye()}],"rotate-y":[{"rotate-y":ye()}],"rotate-z":[{"rotate-z":ye()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:Re()}],"skew-x":[{"skew-x":Re()}],"skew-y":[{"skew-y":Re()}],transform:[{transform:[me,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Fe()}],"translate-x":[{"translate-x":Fe()}],"translate-y":[{"translate-y":Fe()}],"translate-z":[{"translate-z":Fe()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me,pe]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[De,oa,Zn,Eu]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},iS=z_(aS);function Be(...t){return iS(Ug(t))}const lS=zd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Ae({className:t,variant:e,size:n,asChild:o=!1,...a}){const l=o?Lg:"button";return u.jsx(l,{"data-slot":"button",className:Be(lS({variant:e,size:n,className:t})),...a})}function cS(t,e=[]){let n=[];function o(l,c){const f=x.createContext(c);f.displayName=l+"Context";const h=n.length;n=[...n,c];const m=v=>{const{scope:w,children:k,..._}=v,b=w?.[t]?.[h]||f,C=x.useMemo(()=>_,Object.values(_));return u.jsx(b.Provider,{value:C,children:k})};m.displayName=l+"Provider";function y(v,w){const k=w?.[t]?.[h]||f,_=x.useContext(k);if(_)return _;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[m,y]}const a=()=>{const l=n.map(c=>x.createContext(c));return function(f){const h=f?.[t]||l;return x.useMemo(()=>({[`__scope${t}`]:{...f,[t]:h}}),[f,h])}};return a.scopeName=t,[o,uS(a,...e)]}function uS(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const o=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=o.reduce((f,{useScope:h,scopeName:m})=>{const v=h(l)[`__scope${m}`];return{...f,...v}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function Qr(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>e.current?.(...n),[])}var mt=globalThis?.document?x.useLayoutEffect:()=>{},ba=Sg();const dS=_g(ba);var fS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bd=fS.reduce((t,e)=>{const n=Ud(`Primitive.${e}`),o=x.forwardRef((a,l)=>{const{asChild:c,...f}=a,h=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(h,{...f,ref:l})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{}),ju={exports:{}},Nu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function hS(){if(wm)return Nu;wm=1;var t=xl();function e(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var n=typeof Object.is=="function"?Object.is:e,o=t.useState,a=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function f(v,w){var k=w(),_=o({inst:{value:k,getSnapshot:w}}),b=_[0].inst,C=_[1];return l(function(){b.value=k,b.getSnapshot=w,h(b)&&C({inst:b})},[v,k,w]),a(function(){return h(b)&&C({inst:b}),v(function(){h(b)&&C({inst:b})})},[v]),c(k),k}function h(v){var w=v.getSnapshot;v=v.value;try{var k=w();return!n(v,k)}catch{return!0}}function m(v,w){return w()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return Nu.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,Nu}var xm;function pS(){return xm||(xm=1,ju.exports=hS()),ju.exports}var mS=pS();function gS(){return mS.useSyncExternalStore(vS,()=>!0,()=>!1)}function vS(){return()=>{}}var Vd="Avatar",[yS]=cS(Vd),[wS,Xg]=yS(Vd),Zg=x.forwardRef((t,e)=>{const{__scopeAvatar:n,...o}=t,[a,l]=x.useState("idle");return u.jsx(wS,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:l,children:u.jsx(Bd.span,{...o,ref:e})})});Zg.displayName=Vd;var ev="AvatarImage",tv=x.forwardRef((t,e)=>{const{__scopeAvatar:n,src:o,onLoadingStatusChange:a=()=>{},...l}=t,c=Xg(ev,n),f=xS(o,l),h=Qr(m=>{a(m),c.onImageLoadingStatusChange(m)});return mt(()=>{f!=="idle"&&h(f)},[f,h]),f==="loaded"?u.jsx(Bd.img,{...l,ref:e,src:o}):null});tv.displayName=ev;var rv="AvatarFallback",nv=x.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:o,...a}=t,l=Xg(rv,n),[c,f]=x.useState(o===void 0);return x.useEffect(()=>{if(o!==void 0){const h=window.setTimeout(()=>f(!0),o);return()=>window.clearTimeout(h)}},[o]),c&&l.imageLoadingStatus!=="loaded"?u.jsx(Bd.span,{...a,ref:e}):null});nv.displayName=rv;function bm(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function xS(t,{referrerPolicy:e,crossOrigin:n}){const o=gS(),a=x.useRef(null),l=o?(a.current||(a.current=new window.Image),a.current):null,[c,f]=x.useState(()=>bm(l,t));return mt(()=>{f(bm(l,t))},[l,t]),mt(()=>{const h=v=>()=>{f(v)};if(!l)return;const m=h("loaded"),y=h("error");return l.addEventListener("load",m),l.addEventListener("error",y),e&&(l.referrerPolicy=e),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",m),l.removeEventListener("error",y)}},[l,n,e]),c}var bS=Zg,_S=tv,SS=nv;function hs({className:t,...e}){return u.jsx(bS,{"data-slot":"avatar",className:Be("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function ps({className:t,...e}){return u.jsx(_S,{"data-slot":"avatar-image",className:Be("aspect-square size-full",t),...e})}function ms({className:t,...e}){return u.jsx(SS,{"data-slot":"avatar-fallback",className:Be("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}const sv="/assets/f15460e64ff6dd326797f0cc15f4e18e934e3112-Czo3BB-u.png";function kS({activeView:t,onViewChange:e}){const{avatarUrl:n}=xf(),o=[{id:"home",label:"Home",icon:Rg},{id:"search",label:"Search",icon:ua},{id:"trending",label:"Trending",icon:Dg},{id:"library",label:"Library",icon:ro},{id:"buddy",label:"Talking Buddy",icon:Jr}];return u.jsxs("nav",{className:"hidden md:flex fixed left-0 top-0 h-screen w-64 border-r backdrop-blur-md p-6 flex-col shadow-lg overflow-y-auto",style:{borderColor:"var(--theme-primary)33",backgroundColor:"var(--theme-card-bg)",opacity:.95},children:[u.jsx("div",{className:"mb-8",children:u.jsx("img",{src:sv,alt:"Smile Artist - writes the poetry he cannot live",className:"w-full object-contain dark:invert"})}),u.jsx("div",{className:"flex-1 space-y-2",children:o.map(a=>{const l=a.icon;return u.jsxs("button",{onClick:()=>e(a.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all shadow-md",style:{background:t===a.id?"linear-gradient(to right, var(--theme-primary), var(--theme-secondary))":"transparent",color:t===a.id?"white":"var(--theme-text)"},onMouseEnter:c=>{t!==a.id&&(c.currentTarget.style.backgroundColor="var(--theme-accent)",c.currentTarget.style.color="var(--theme-primary)")},onMouseLeave:c=>{t!==a.id&&(c.currentTarget.style.backgroundColor="transparent",c.currentTarget.style.color="var(--theme-text)")},children:[u.jsx(l,{className:"w-5 h-5"}),u.jsx("span",{children:a.label})]},a.id)})}),u.jsxs("div",{className:"space-y-2 pt-6 border-t",style:{borderColor:"var(--theme-primary)33"},children:[u.jsxs("button",{onClick:()=>e("customize"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all shadow-md",style:{background:t==="customize"?"linear-gradient(to right, var(--theme-primary), var(--theme-secondary))":"transparent",color:t==="customize"?"white":"var(--theme-text)"},onMouseEnter:a=>{t!=="customize"&&(a.currentTarget.style.backgroundColor="var(--theme-accent)",a.currentTarget.style.color="var(--theme-primary)")},onMouseLeave:a=>{t!=="customize"&&(a.currentTarget.style.backgroundColor="transparent",a.currentTarget.style.color="var(--theme-text)")},children:[u.jsx(il,{className:"w-5 h-5"}),u.jsx("span",{children:"Customize Theme"})]}),u.jsxs("button",{onClick:()=>e("notifications"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all shadow-md",style:{background:t==="notifications"?"linear-gradient(to right, var(--theme-primary), var(--theme-secondary))":"transparent",color:t==="notifications"?"white":"var(--theme-text)"},onMouseEnter:a=>{t!=="notifications"&&(a.currentTarget.style.backgroundColor="var(--theme-accent)",a.currentTarget.style.color="var(--theme-primary)")},onMouseLeave:a=>{t!=="notifications"&&(a.currentTarget.style.backgroundColor="transparent",a.currentTarget.style.color="var(--theme-text)")},children:[u.jsx(Ld,{className:"w-5 h-5"}),u.jsx("span",{children:"Notifications"})]}),u.jsxs("button",{onClick:()=>e("profile"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all shadow-md",style:{background:t==="profile"?"linear-gradient(to right, var(--theme-primary), var(--theme-secondary))":"transparent",color:t==="profile"?"white":"var(--theme-text)"},onMouseEnter:a=>{t!=="profile"&&(a.currentTarget.style.backgroundColor="var(--theme-accent)",a.currentTarget.style.color="var(--theme-primary)")},onMouseLeave:a=>{t!=="profile"&&(a.currentTarget.style.backgroundColor="transparent",a.currentTarget.style.color="var(--theme-text)")},children:[u.jsxs(hs,{className:"w-5 h-5 border border-[var(--theme-primary)]/20 shadow-sm",children:[u.jsx(ps,{src:n||"",alt:"Profile"}),u.jsx(ms,{children:u.jsx($d,{className:"w-full h-full p-0.5"})})]}),u.jsx("span",{children:"Profile"})]}),u.jsxs("button",{onClick:()=>e("chats"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all shadow-md",style:{background:t==="chats"?"linear-gradient(to right, var(--theme-primary), var(--theme-secondary))":"transparent",color:t==="chats"?"white":"var(--theme-text)"},onMouseEnter:a=>{t!=="chats"&&(a.currentTarget.style.backgroundColor="var(--theme-accent)",a.currentTarget.style.color="var(--theme-primary)")},onMouseLeave:a=>{t!=="chats"&&(a.currentTarget.style.backgroundColor="transparent",a.currentTarget.style.color="var(--theme-text)")},children:[u.jsx(is,{className:"w-5 h-5"}),u.jsx("span",{children:"My Chats"})]}),u.jsxs("button",{onClick:()=>e("settings"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all shadow-md",style:{background:t==="settings"?"linear-gradient(to right, var(--theme-primary), var(--theme-secondary))":"transparent",color:t==="settings"?"white":"var(--theme-text)"},onMouseEnter:a=>{t!=="settings"&&(a.currentTarget.style.backgroundColor="var(--theme-accent)",a.currentTarget.style.color="var(--theme-primary)")},onMouseLeave:a=>{t!=="settings"&&(a.currentTarget.style.backgroundColor="transparent",a.currentTarget.style.color="var(--theme-text)")},children:[u.jsx(Og,{className:"w-5 h-5"}),u.jsx("span",{children:"Settings"})]})]}),u.jsx(Ae,{className:"w-full mt-4 mb-2 text-white shadow-md rounded-xl",style:{background:"linear-gradient(to right, var(--theme-primary), var(--theme-secondary))"},onClick:()=>e("write"),children:"Write"})]})}function CS({activeView:t,onViewChange:e}){const n=[{id:"home",label:"Home",icon:Rg},{id:"search",label:"Search",icon:ua},{id:"buddy",label:"Buddy",icon:Jr},{id:"chats",label:"Chats",icon:is},{id:"profile",label:"Profile",icon:$d}];return u.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 backdrop-blur-md border-t z-50 shadow-lg overflow-x-auto no-scrollbar",style:{backgroundColor:"var(--theme-background)",borderColor:"var(--theme-primary)33",scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch",opacity:.95},children:u.jsx("div",{className:"flex justify-between items-center h-16 px-4 w-full min-w-max",children:n.map(o=>{const a=o.icon;return u.jsxs("button",{onClick:()=>e(o.id),className:"flex flex-col items-center justify-center gap-1 transition-all flex-1 py-2",style:{color:t===o.id?"var(--theme-primary)":"var(--theme-text)",opacity:t===o.id?1:.6},children:[u.jsx(a,{className:`w-5 h-5 ${t===o.id?"fill-current":""}`}),u.jsx("span",{className:"text-[10px]",children:o.label})]},o.id)})})})}function ES({onMenuClick:t,onViewChange:e,activeView:n}){const{avatarUrl:o}=xf();return u.jsx("header",{className:"md:hidden fixed top-0 left-0 right-0 backdrop-blur-md border-b z-40 shadow-sm",style:{backgroundColor:"var(--theme-background)",borderColor:"var(--theme-primary)33",opacity:.95},children:u.jsxs("div",{className:"grid grid-cols-3 items-center px-4 py-3",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx(Ae,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>e?.("write"),style:{color:"var(--theme-primary)"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="transparent"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="transparent"},children:u.jsx(rd,{className:"w-5 h-5"})})}),u.jsx("div",{className:"col-start-2 justify-self-center flex items-center gap-2",children:u.jsx("img",{src:sv,alt:"Smile Artist",className:"h-8 object-contain dark:invert"})}),u.jsx("div",{className:"flex items-center gap-2 justify-self-end",children:n==="profile"?u.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[u.jsx(Ae,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>e?.("library"),style:{color:"var(--theme-primary)"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="transparent"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="transparent"},children:u.jsx(ro,{className:"w-5 h-5"})}),u.jsx(Ae,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>e?.("customize"),style:{color:"var(--theme-primary)"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="transparent"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="transparent"},children:u.jsx(il,{className:"w-5 h-5"})}),u.jsx(Ae,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>e?.("settings"),style:{color:"var(--theme-primary)"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="transparent"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="transparent"},children:u.jsx(Og,{className:"w-5 h-5"})})]}):u.jsx(Ae,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>e?.("notifications"),style:{color:"var(--theme-primary)"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="transparent"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="transparent"},children:u.jsx(Ld,{className:"w-5 h-5"})})})]})})}function xr({className:t,...e}){return u.jsx("div",{"data-slot":"card",className:Be("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}var Tr=function(){return Tr=Object.assign||function(e){for(var n,o=1,a=arguments.length;o<a;o++){n=arguments[o];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Tr.apply(this,arguments)};function io(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(n[o[a]]=t[o[a]]);return n}function jS(t,e,n,o){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function f(y){try{m(o.next(y))}catch(v){c(v)}}function h(y){try{m(o.throw(y))}catch(v){c(v)}}function m(y){y.done?l(y.value):a(y.value).then(f,h)}m((o=o.apply(t,e||[])).next())})}function NS(t,e,n){if(n||arguments.length===2)for(var o=0,a=e.length,l;o<a;o++)(l||!(o in e))&&(l||(l=Array.prototype.slice.call(e,0,o)),l[o]=e[o]);return t.concat(l||Array.prototype.slice.call(e))}const TS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Wd extends Error{constructor(e,n="FunctionsError",o){super(e),this.name=n,this.context=o}}class RS extends Wd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _m extends Wd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Sm extends Wd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var id;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(id||(id={}));class PS{constructor(e,{headers:n={},customFetch:o,region:a=id.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=TS(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return jS(this,arguments,void 0,function*(n,o={}){var a;let l,c;try{const{headers:f,method:h,body:m,signal:y,timeout:v}=o;let w={},{region:k}=o;k||(k=this.region);const _=new URL(`${this.url}/${n}`);k&&k!=="any"&&(w["x-region"]=k,_.searchParams.set("forceFunctionRegion",k));let b;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",b=m):typeof m=="string"?(w["Content-Type"]="text/plain",b=m):typeof FormData<"u"&&m instanceof FormData?b=m:(w["Content-Type"]="application/json",b=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?b=JSON.stringify(m):b=m;let C=y;v&&(c=new AbortController,l=setTimeout(()=>c.abort(),v),y?(C=c.signal,y.addEventListener("abort",()=>c.abort())):C=c.signal);const E=yield this.fetch(_.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),f),body:b,signal:C}).catch(z=>{throw new RS(z)}),N=E.headers.get("x-relay-error");if(N&&N==="true")throw new _m(E);if(!E.ok)throw new Sm(E);let j=((a=E.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),P;return j==="application/json"?P=yield E.json():j==="application/octet-stream"||j==="application/pdf"?P=yield E.blob():j==="text/event-stream"?P=E:j==="multipart/form-data"?P=yield E.formData():P=yield E.text(),{data:P,error:null,response:E}}catch(f){return{data:null,error:f,response:f instanceof Sm||f instanceof _m?f.context:void 0}}finally{l&&clearTimeout(l)}})}}var AS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},OS=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,f=null,h=null,m=l.status,y=l.statusText;if(l.ok){var v,w;if(n.method!=="HEAD"){var k;const E=await l.text();E===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((k=n.headers.get("Accept"))===null||k===void 0)&&k.includes("application/vnd.pgrst.plan+text"))?f=E:f=JSON.parse(E))}const b=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),C=(w=l.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");b&&C&&C.length>1&&(h=parseInt(C[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var _;const b=await l.text();try{c=JSON.parse(b),Array.isArray(c)&&l.status===404&&(f=[],c=null,m=200,y="OK")}catch{l.status===404&&b===""?(m=204,y="No Content"):c={message:b}}if(c&&n.isMaybeSingle&&(!(c==null||(_=c.details)===null||_===void 0)&&_.includes("0 rows"))&&(c=null,m=200,y="OK"),c&&n.shouldThrowOnError)throw new AS(c)}return{error:c,data:f,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(a=a.catch(l=>{var c;let f="";const h=l?.cause;if(h){var m,y,v,w;const _=(m=h?.message)!==null&&m!==void 0?m:"",b=(y=h?.code)!==null&&y!==void 0?y:"";f=`${(v=l?.name)!==null&&v!==void 0?v:"FetchError"}: ${l?.message}`,f+=`

Caused by: ${(w=h?.name)!==null&&w!==void 0?w:"Error"}: ${_}`,b&&(f+=` (${b})`),h?.stack&&(f+=`
${h.stack}`)}else{var k;f=(k=l?.stack)!==null&&k!==void 0?k:""}return{error:{message:`${(c=l?.name)!==null&&c!==void 0?c:"FetchError"}: ${l?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},IS=class extends OS{select(t){let e=!1;const n=(t??"*").split("").map(o=>/\s/.test(o)&&!e?"":(o==='"'&&(e=!e),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:o=n}={}){const a=typeof o>"u"?"offset":`${o}.offset`,l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:o=!1,wal:a=!1,format:l="text"}={}){var c;const f=[t?"analyze":null,e?"verbose":null,n?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${f};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const km=new RegExp("[,()]");var Gs=class extends IS{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(o=>typeof o=="string"&&km.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(o=>typeof o=="string"&&km.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},DS=class{constructor(t,{headers:e={},schema:n,fetch:o}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:o}=e??{},a=n?"HEAD":"GET";let l=!1;const c=(t??"*").split("").map(m=>/\s/.test(m)&&!l?"":(m==='"'&&(l=!l),m)).join(""),{url:f,headers:h}=this.cloneRequestState();return f.searchParams.set("select",c),o&&h.append("Prefer",`count=${o}`),new Gs({method:a,url:f,headers:h,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var o;const a="POST",{url:l,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),n||c.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);l.searchParams.set("columns",h.join(","))}}return new Gs({method:a,url:l,headers:c,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:o,defaultToNull:a=!0}={}){var l;const c="POST",{url:f,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&f.searchParams.set("on_conflict",e),o&&h.append("Prefer",`count=${o}`),a||h.append("Prefer","missing=default"),Array.isArray(t)){const m=t.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(m.length>0){const y=[...new Set(m)].map(v=>`"${v}"`);f.searchParams.set("columns",y.join(","))}}return new Gs({method:c,url:f,headers:h,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var n;const o="PATCH",{url:a,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new Gs({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:o,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Gs({method:n,url:o,headers:a,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},MS=class ov{constructor(e,{headers:n={},schema:o,fetch:a}={}){this.url=e,this.headers=new Headers(n),this.schemaName=o,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new DS(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ov(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:o=!1,get:a=!1,count:l}={}){var c;let f;const h=new URL(`${this.url}/rpc/${e}`);let m;const y=k=>k!==null&&typeof k=="object"&&(!Array.isArray(k)||k.some(y)),v=o&&Object.values(n).some(y);v?(f="POST",m=n):o||a?(f=o?"HEAD":"GET",Object.entries(n).filter(([k,_])=>_!==void 0).map(([k,_])=>[k,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([k,_])=>{h.searchParams.append(k,_)})):(f="POST",m=n);const w=new Headers(this.headers);return v?w.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&w.set("Prefer",`count=${l}`),new Gs({method:f,url:h,headers:w,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class LS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const o=n.versions;if(o&&o.node){const a=o.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const o=this.getWebSocketConstructor();return new o(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const $S="2.90.1",US=`realtime-js/${$S}`,av="1.0.0",zS="2.0.0",Cm=av,ld=1e4,FS=1e3,BS=100;var Nn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Nn||(Nn={}));var ht;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ht||(ht={}));var wr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(wr||(wr={}));var cd;(function(t){t.websocket="websocket"})(cd||(cd={}));var ss;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ss||(ss={}));class VS{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let o=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,o;const a=(o=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var n,o;const a=(o=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,n,o){var a,l;const c=e.topic,f=(a=e.ref)!==null&&a!==void 0?a:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+f.length+c.length+m.length+v.length,k=new ArrayBuffer(this.HEADER_LENGTH+w);let _=new DataView(k),b=0;_.setUint8(b++,this.KINDS.userBroadcastPush),_.setUint8(b++,h.length),_.setUint8(b++,f.length),_.setUint8(b++,c.length),_.setUint8(b++,m.length),_.setUint8(b++,v.length),_.setUint8(b++,n),Array.from(h,E=>_.setUint8(b++,E.charCodeAt(0))),Array.from(f,E=>_.setUint8(b++,E.charCodeAt(0))),Array.from(c,E=>_.setUint8(b++,E.charCodeAt(0))),Array.from(m,E=>_.setUint8(b++,E.charCodeAt(0))),Array.from(v,E=>_.setUint8(b++,E.charCodeAt(0)));var C=new Uint8Array(k.byteLength+o.byteLength);return C.set(new Uint8Array(k),0),C.set(new Uint8Array(o),k.byteLength),C.buffer}decode(e,n){if(this._isArrayBuffer(e)){let o=this._binaryDecode(e);return n(o)}if(typeof e=="string"){const o=JSON.parse(e),[a,l,c,f,h]=o;return n({join_ref:a,ref:l,topic:c,event:f,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),o=n.getUint8(0),a=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,a)}}_decodeUserBroadcast(e,n,o){const a=n.getUint8(1),l=n.getUint8(2),c=n.getUint8(3),f=n.getUint8(4);let h=this.HEADER_LENGTH+4;const m=o.decode(e.slice(h,h+a));h=h+a;const y=o.decode(e.slice(h,h+l));h=h+l;const v=o.decode(e.slice(h,h+c));h=h+c;const w=e.slice(h,e.byteLength),k=f===this.JSON_ENCODING?JSON.parse(o.decode(w)):w,_={type:this.BROADCAST_EVENT,event:y,payload:k};return c>0&&(_.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([o])=>n.includes(o)))}}class iv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(qe||(qe={}));const Em=(t,e,n={})=>{var o;const a=(o=n.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=WS(c,t,e,a),l),{}):{}},WS=(t,e,n,o)=>{const a=e.find(f=>f.name===t),l=a?.type,c=n[t];return l&&!o.includes(l)?lv(l,c):ud(c)},lv=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return GS(e,n)}switch(t){case qe.bool:return HS(e);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return qS(e);case qe.json:case qe.jsonb:return KS(e);case qe.timestamp:return YS(e);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return ud(e);default:return ud(e)}},ud=t=>t,HS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},KS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},GS=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,o=t[n];if(t[0]==="{"&&o==="}"){let l;const c=t.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(f=>lv(e,f))}return t},YS=t=>typeof t=="string"?t.replace(" ","T"):t,cv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Tu{constructor(e,n,o={},a=ld){this.channel=e,this.event=n,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var o;return this._hasReceived(e)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(jm||(jm={}));class da{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=da.syncState(this.state,a,l,c),this.pendingDiffs.forEach(h=>{this.state=da.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=da.syncDiff(this.state,a,l,c),f())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,o,a){const l=this.cloneDeep(e),c=this.transformState(n),f={},h={};return this.map(l,(m,y)=>{c[m]||(h[m]=y)}),this.map(c,(m,y)=>{const v=l[m];if(v){const w=y.map(C=>C.presence_ref),k=v.map(C=>C.presence_ref),_=y.filter(C=>k.indexOf(C.presence_ref)<0),b=v.filter(C=>w.indexOf(C.presence_ref)<0);_.length>0&&(f[m]=_),b.length>0&&(h[m]=b)}else f[m]=y}),this.syncDiff(l,{joins:f,leaves:h},o,a)}static syncDiff(e,n,o,a){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(l,(f,h)=>{var m;const y=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(h),y.length>0){const v=e[f].map(k=>k.presence_ref),w=y.filter(k=>v.indexOf(k.presence_ref)<0);e[f].unshift(...w)}o(f,y,h)}),this.map(c,(f,h)=>{let m=e[f];if(!m)return;const y=h.map(v=>v.presence_ref);m=m.filter(v=>y.indexOf(v.presence_ref)<0),e[f]=m,a(f,m,h),m.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(o=>n(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,o)=>{const a=e[o];return"metas"in a?n[o]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[o]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Nm||(Nm={}));var fa;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(fa||(fa={}));var Yr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Yr||(Yr={}));class Qs{constructor(e,n={config:{}},o){var a,l;if(this.topic=e,this.params=n,this.socket=o,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Tu(this,wr.join,this.params,this.timeout),this.rejoinTimer=new iv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wr.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new da(this),this.broadcastEndpointURL=cv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var o,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:c,presence:f,private:h}}=this.params,m=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(k=>k.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[fa.PRESENCE]&&this.bindings[fa.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},w={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(k=>e?.(Yr.CHANNEL_ERROR,k)),this._onClose(()=>e?.(Yr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:k})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),k===void 0){e?.(Yr.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,C=(_=b?.length)!==null&&_!==void 0?_:0,E=[];for(let N=0;N<C;N++){const j=b[N],{filter:{event:P,schema:z,table:F,filter:D}}=j,L=k&&k[N];if(L&&L.event===P&&Qs.isFilterValueEqual(L.schema,z)&&Qs.isFilterValueEqual(L.table,F)&&Qs.isFilterValueEqual(L.filter,D))E.push(Object.assign(Object.assign({},j),{id:L.id}));else{this.unsubscribe(),this.state=ht.errored,e?.(Yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Yr.SUBSCRIBED);return}}).receive("error",k=>{this.state=ht.errored,e?.(Yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{e?.(Yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,o){return this.state===ht.joined&&e===fa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,o)}async httpSend(e,n,o={}){var a;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=o.timeout)!==null&&a!==void 0?a:this.timeout);if(f.status===202)return{success:!0};let h=f.statusText;try{const m=await f.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var o,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,f,h;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wr.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new Tu(this,wr.leave,{},e),o.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(e,n,o){const a=new AbortController,l=setTimeout(()=>a.abort(),o),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),c}_push(e,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Tu(this,e,n,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>BS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,o){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,o){var a,l;const c=e.toLocaleLowerCase(),{close:f,error:h,leave:m,join:y}=wr;if(o&&[f,h,m,y].indexOf(c)>=0&&o!==this._joinRef())return;let w=this._onMessage(c,n,o);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(k=>{var _,b,C;return((_=k.filter)===null||_===void 0?void 0:_.event)==="*"||((C=(b=k.filter)===null||b===void 0?void 0:b.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(k=>k.callback(w,o)):(l=this.bindings[c])===null||l===void 0||l.filter(k=>{var _,b,C,E,N,j,P,z;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in k){const F=k.id,D=(_=k.filter)===null||_===void 0?void 0:_.event;return F&&((b=n.ids)===null||b===void 0?void 0:b.includes(F))&&(D==="*"||D?.toLocaleLowerCase()===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))&&(!(!((E=k.filter)===null||E===void 0)&&E.table)||k.filter.table===((N=n.data)===null||N===void 0?void 0:N.table))}else{const F=(P=(j=k?.filter)===null||j===void 0?void 0:j.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return F==="*"||F===((z=n?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===c}).map(k=>{if(typeof w=="object"&&"ids"in w){const _=w.data,{schema:b,table:C,commit_timestamp:E,type:N,errors:j}=_;w=Object.assign(Object.assign({},{schema:b,table:C,commit_timestamp:E,eventType:N,new:{},old:{},errors:j}),this._getPayloadRecords(_))}k.callback(w,o)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,o){const a=e.toLocaleLowerCase(),l={type:a,filter:n,callback:o};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,n){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===o&&Qs.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const o in e)if(e[o]!==n[o])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(wr.close,{},e)}_onError(e){this._on(wr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Em(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Em(e.columns,e.old_record)),n}}const Ru=()=>{},Bi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},JS=[1e3,2e3,5e3,1e4],QS=1e4,XS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ZS{constructor(e,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ld,this.transport=null,this.heartbeatIntervalMs=Bi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ru,this.ref=0,this.reconnectTimer=null,this.vsn=Cm,this.logger=Ru,this.conn=null,this.sendBuffer=[],this.serializer=new VS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((o=n?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${cd.websocket}`,this.httpEndpoint=cv(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=LS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,o){this.logger(e,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Nn.connecting:return ss.Connecting;case Nn.open:return ss.Open;case Nn.closing:return ss.Closing;default:return ss.Closed}}isConnected(){return this.connectionState()===ss.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const o=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===o);if(a)return a;{const l=new Qs(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:o,payload:a,ref:l}=e,c=()=>{this.encode(e,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${n} ${o} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(FS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Bi.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",m)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:a,payload:l,ref:c}=n,f=c?`(${c})`:"",h=l.status||"";this.log("receive",`${h} ${o} ${a} ${f}`.trim(),l),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(a,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Nn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Nn.open||this.conn.readyState===Nn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(wr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const o=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${o}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const o=new Blob([XS],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,o=!1;if(e)n=e,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const l={access_token:n,version:US};n&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(wr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new iv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,o,a,l,c,f,h,m,y,v,w,k;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(o=e?.timeout)!==null&&o!==void 0?o:ld,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Bi.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:Ru,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:Cm,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(_=>JS[_-1]||QS),this.vsn){case av:this.encode=(y=e?.encode)!==null&&y!==void 0?y:((_,b)=>b(JSON.stringify(_))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((_,b)=>b(JSON.parse(_)));break;case zS:this.encode=(w=e?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(k=e?.decode)!==null&&k!==void 0?k:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var ha=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function e1(t,e,n){const o=new URL(e,t);if(n)for(const[a,l]of Object.entries(n))l!==void 0&&o.searchParams.set(a,l);return o.toString()}async function t1(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function r1(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:a,body:l,headers:c}){const f=e1(t.baseUrl,o,a),h=await t1(t.auth),m=await e(f,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...h,...c},body:l?JSON.stringify(l):void 0}),y=await m.text(),v=(m.headers.get("content-type")||"").includes("application/json"),w=v&&y?JSON.parse(y):y;if(!m.ok){const k=v?w:void 0,_=k?.error;throw new ha(_?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:_?.type,icebergCode:_?.code,details:k})}return{status:m.status,headers:m.headers,data:w}}}}function Vi(t){return t.join("")}var n1=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Vi(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vi(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vi(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vi(t.namespace)}`}),!0}catch(e){if(e instanceof ha&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof ha&&n.status===409)return;throw n}}};function Us(t){return t.join("")}var s1=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Us(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Us(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Us(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Us(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Us(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Us(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof ha&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof ha&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},o1=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=r1({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new n1(this.client,e),this.tableOps=new s1(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},_l=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function et(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var a1=class extends _l{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},dd=class extends _l{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Hd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),i1=()=>Response,fd=t=>{if(Array.isArray(t))return t.map(n=>fd(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,o])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=fd(o)}),e},l1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},c1=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function pa(t){"@babel/helpers - typeof";return pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pa(t)}function u1(t,e){if(pa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(pa(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d1(t){var e=u1(t,"string");return pa(e)=="symbol"?e:e+""}function f1(t,e,n){return(e=d1(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,o)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tm(Object(n),!0).forEach(function(o){f1(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tm(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}const Pu=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},h1=async(t,e,n)=>{t instanceof await i1()&&!n?.noResolveJson?t.json().then(o=>{const a=t.status||500,l=o?.statusCode||a+"";e(new a1(Pu(o),a,l))}).catch(o=>{e(new dd(Pu(o),o))}):e(new dd(Pu(t),t))},p1=(t,e,n,o)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!o?a:(l1(o)?(a.headers=je({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(o)):a.body=o,e?.duplex&&(a.duplex=e.duplex),je(je({},a),n))};async function _a(t,e,n,o,a,l){return new Promise((c,f)=>{t(n,p1(e,o,a,l)).then(h=>{if(!h.ok)throw h;return o?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>h1(h,f,o))})}async function ma(t,e,n,o){return _a(t,"GET",e,n,o)}async function yr(t,e,n,o,a){return _a(t,"POST",e,o,a,n)}async function hd(t,e,n,o,a){return _a(t,"PUT",e,o,a,n)}async function m1(t,e,n,o){return _a(t,"HEAD",e,je(je({},n),{},{noResolveJson:!0}),o)}async function qd(t,e,n,o,a){return _a(t,"DELETE",e,o,a,n)}var g1=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(et(e))return{data:null,error:e};throw e}}};let uv;uv=Symbol.toStringTag;var v1=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[uv]="BlobDownloadBuilder",this.promise=null}asStream(){return new g1(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(et(e))return{data:null,error:e};throw e}}};const y1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var w1=class{constructor(t,e={},n,o){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Hd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,o){var a=this;try{let l;const c=je(je({},Rm),o);let f=je(je({},a.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",a.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),h&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(h))):(l=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,h&&(f["x-metadata"]=a.toBase64(a.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),o?.headers&&(f=je(je({},f),o.headers));const m=a._removeEmptyFolders(e),y=a._getFinalPath(m),v=await(t=="PUT"?hd:yr)(a.fetch,`${a.url}/object/${y}`,l,je({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,o){var a=this;const l=a._removeEmptyFolders(t),c=a._getFinalPath(l),f=new URL(a.url+`/object/upload/sign/${c}`);f.searchParams.set("token",e);try{let h;const m=je({upsert:Rm.upsert},o),y=je(je({},a.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType),{data:{path:l,fullPath:(await hd(a.fetch,f.toString(),h,{headers:y})).Key},error:null}}catch(h){if(a.shouldThrowOnError)throw h;if(et(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(t,e){var n=this;try{let o=n._getFinalPath(t);const a=je({},n.headers);e?.upsert&&(a["x-upsert"]="true");const l=await yr(n.fetch,`${n.url}/object/upload/sign/${o}`,{},{headers:a}),c=new URL(n.url+l.url),f=c.searchParams.get("token");if(!f)throw new _l("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var o=this;try{return{data:await yr(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:o.headers}),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async copy(t,e,n){var o=this;try{return{data:{path:(await yr(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:o.headers})).Key},error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,n){var o=this;try{let a=o._getFinalPath(t),l=await yr(o.fetch,`${o.url}/object/sign/${a}`,je({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:o.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${o.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,n){var o=this;try{const a=await yr(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:e,paths:t},{headers:o.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(c=>je(je({},c),{},{signedUrl:c.signedURL?encodeURI(`${o.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),a=o?`?${o}`:"",l=this._getFinalPath(t),c=()=>ma(this.fetch,`${this.url}/${n}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new v1(c,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:fd(await ma(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await m1(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(et(o)&&o instanceof dd){const a=o.originalError;if([400,404].includes(a?.status))return{data:!1,error:o}}throw o}}getPublicUrl(t,e){const n=this._getFinalPath(t),o=[],a=e?.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&o.push(a);const l=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&o.push(c);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${f}`)}}}async remove(t){var e=this;try{return{data:await qd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async list(t,e,n){var o=this;try{const a=je(je(je({},y1),e),{},{prefix:t||""});return{data:await yr(o.fetch,`${o.url}/object/list/${o.bucketId}`,a,{headers:o.headers},n),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async listV2(t,e){var n=this;try{const o=je({},t);return{data:await yr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,o,{headers:n.headers},e),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const dv="2.90.1",fv={"X-Client-Info":`storage-js/${dv}`};var x1=class{constructor(t,e={},n,o){this.shouldThrowOnError=!1;const a=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=je(je({},fv),e),this.fetch=Hd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await ma(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await ma(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await yr(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}async updateBucket(t,e){var n=this;try{return{data:await hd(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}async emptyBucket(t){var e=this;try{return{data:await yr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await qd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},b1=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=je(je({},fv),e),this.fetch=Hd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await yr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const o=n.toString(),a=o?`${e.url}/bucket?${o}`:`${e.url}/bucket`;return{data:await ma(e.fetch,a,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await qd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!c1(t))throw new _l("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new o1({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(a,l){const c=a[l];return typeof c!="function"?c:async(...f)=>{try{return{data:await c.apply(a,f),error:null}}catch(h){if(o)throw h;return{data:null,error:h}}}}})}};const Kd={"X-Client-Info":`storage-js/${dv}`,"Content-Type":"application/json"};var hv=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Kt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Au=class extends hv{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_1=class extends hv{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Gd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),S1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Pm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),k1=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const o=t.status||500,a=t;if(typeof a.json=="function")a.json().then(l=>{const c=l?.statusCode||l?.code||o+"";e(new Au(Pm(l),o,c))}).catch(()=>{const l=o+"";e(new Au(a.statusText||`HTTP ${o} error`,o,l))});else{const l=o+"";e(new Au(a.statusText||`HTTP ${o} error`,o,l))}}else e(new _1(Pm(t),t))},C1=(t,e,n,o)=>{const a={method:t,headers:e?.headers||{}};return o?(S1(o)?(a.headers=je({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(o)):a.body=o,je(je({},a),n)):a};async function E1(t,e,n,o,a,l){return new Promise((c,f)=>{t(n,C1(e,o,a,l)).then(h=>{if(!h.ok)throw h;if(o?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>k1(h,f,o))})}async function Gt(t,e,n,o,a){return E1(t,"POST",e,o,a,n)}var j1=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=je(je({},Kd),e),this.fetch=Gd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Gt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Gt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Kt(o))return{data:null,error:o};throw o}}async listIndexes(t){var e=this;try{return{data:await Gt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Gt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Kt(o))return{data:null,error:o};throw o}}},N1=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=je(je({},Kd),e),this.fetch=Gd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Gt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Gt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Gt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Gt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Gt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}},T1=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=je(je({},Kd),e),this.fetch=Gd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Gt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Gt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Gt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Gt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}},R1=class extends T1{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new P1(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},P1=class extends j1{constructor(t,e,n,o){super(t,e,o),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new A1(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},A1=class extends N1{constructor(t,e,n,o,a){super(t,e,a),this.vectorBucketName=n,this.indexName=o}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},O1=class extends x1{constructor(t,e={},n,o){super(t,e,n,o)}from(t){return new w1(this.url,this.headers,t,this.fetch)}get vectors(){return new R1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new b1(this.url+"/iceberg",this.headers,this.fetch)}};const pv="2.90.1",Ys=30*1e3,pd=3,Ou=pd*Ys,I1="http://localhost:9999",D1="supabase.auth.token",M1={"X-Client-Info":`gotrue-js/${pv}`},md="X-Supabase-Api-Version",mv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},L1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$1=600*1e3;class ga extends Error{constructor(e,n,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function xe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class U1 extends ga{constructor(e,n,o){super(e,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function z1(t){return xe(t)&&t.name==="AuthApiError"}class os extends ga{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class en extends ga{constructor(e,n,o,a){super(e,o,a),this.name=n,this.status=o}}class Ht extends en{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function F1(t){return xe(t)&&t.name==="AuthSessionMissingError"}class zs extends en{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wi extends en{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Hi extends en{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function B1(t){return xe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Am extends en{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class V1 extends en{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class gd extends en{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Iu(t){return xe(t)&&t.name==="AuthRetryableFetchError"}class Om extends en{constructor(e,n,o){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class vd extends en{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ul="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Im=` 	
\r=`.split(""),W1=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Im.length;e+=1)t[Im[e].charCodeAt(0)]=-2;for(let e=0;e<ul.length;e+=1)t[ul[e].charCodeAt(0)]=e;return t})();function Dm(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(ul[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(ul[o]),e.queuedBits-=6}}function gv(t,e,n){const o=W1[t];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Mm(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{K1(c,o,n)};for(let c=0;c<t.length;c+=1)gv(t.charCodeAt(c),a,l);return e.join("")}function H1(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function q1(t,e){for(let n=0;n<t.length;n+=1){let o=t.charCodeAt(n);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}H1(o,e)}}function K1(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let o=1;o<6;o+=1)if((t>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Zs(t){const e=[],n={queue:0,queuedBits:0},o=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)gv(t.charCodeAt(a),n,o);return new Uint8Array(e)}function G1(t){const e=[];return q1(t,n=>e.push(n)),new Uint8Array(e)}function as(t){const e=[],n={queue:0,queuedBits:0},o=a=>{e.push(a)};return t.forEach(a=>Dm(a,n,o)),Dm(null,n,o),e.join("")}function Y1(t){return Math.round(Date.now()/1e3)+t}function J1(){return Symbol("auth-callback")}const kt=()=>typeof window<"u"&&typeof document<"u",es={tested:!1,writable:!1},vv=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(es.tested)return es.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),es.tested=!0,es.writable=!0}catch{es.tested=!0,es.writable=!1}return es.writable};function Q1(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return n.searchParams.forEach((o,a)=>{e[a]=o}),e}const yv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),X1=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Js=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ts=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},St=async(t,e)=>{await t.removeItem(e)};class Sl{constructor(){this.promise=new Sl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Sl.promiseConstructor=Promise;function Du(t){const e=t.split(".");if(e.length!==3)throw new vd("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!L1.test(e[o]))throw new vd("JWT not in base64url format");return{header:JSON.parse(Mm(e[0])),payload:JSON.parse(Mm(e[1])),signature:Zs(e[2]),raw:{header:e[0],payload:e[1]}}}async function Z1(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ek(t,e){return new Promise((o,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){o(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function tk(t){return("0"+t.toString(16)).substr(-2)}function rk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(e),Array.from(e,tk).join("")}async function nk(t){const n=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(o);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function sk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await nk(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fs(t,e,n=!1){const o=rk();let a=o;n&&(a+="/PASSWORD_RECOVERY"),await Js(t,`${e}-code-verifier`,a);const l=await sk(o);return[l,o===l?"plain":"s256"]}const ok=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ak(t){const e=t.headers.get(md);if(!e||!e.match(ok))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ik(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function lk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ck=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bs(t){if(!ck.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mu(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uk(t,e){return new Proxy(t,{get:(n,o,a)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,a)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,o,a)}})}function Lm(t){return JSON.parse(JSON.stringify(t))}const ns=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dk=[502,503,504];async function $m(t){var e;if(!X1(t))throw new gd(ns(t),0);if(dk.includes(t.status))throw new gd(ns(t),t.status);let n;try{n=await t.json()}catch(l){throw new os(ns(l),l)}let o;const a=ak(t);if(a&&a.getTime()>=mv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new Om(ns(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new Ht}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Om(ns(n),t.status,n.weak_password.reasons);throw new U1(ns(n),t.status||500,o)}const fk=(t,e,n,o)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),n))};async function Ee(t,e,n,o){var a;const l=Object.assign({},o?.headers);l[md]||(l[md]=mv["2024-01-01"].name),o?.jwt&&(l.Authorization=`Bearer ${o.jwt}`);const c=(a=o?.query)!==null&&a!==void 0?a:{};o?.redirectTo&&(c.redirect_to=o.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await hk(t,e,n+f,{headers:l,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(h):{data:Object.assign({},h),error:null}}async function hk(t,e,n,o,a,l){const c=fk(e,o,a,l);let f;try{f=await t(n,Object.assign({},c))}catch(h){throw console.error(h),new gd(ns(h),0)}if(f.ok||await $m(f),o?.noResolveJson)return f;try{return await f.json()}catch(h){await $m(h)}}function gr(t){var e;let n=null;gk(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Y1(t.expires_in)));const o=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:o},error:null}}function Um(t){const e=gr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Tn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function pk(t){return{data:t,error:null}}function mk(t){const{action_link:e,email_otp:n,hashed_token:o,redirect_to:a,verification_type:l}=t,c=io(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:o,redirect_to:a,verification_type:l},h=Object.assign({},c);return{data:{properties:f,user:h},error:null}}function zm(t){return t}function gk(t){return t.access_token&&t.refresh_token&&t.expires_in}const Lu=["global","local","others"];class vk{constructor({url:e="",headers:n={},fetch:o}){this.url=e,this.headers=n,this.fetch=yv(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Lu[0]){if(Lu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lu.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(xe(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,n={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Tn})}catch(o){if(xe(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:n}=e,o=io(e,["options"]),a=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(a.new_email=o?.newEmail,delete a.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:mk,redirectTo:n?.redirectTo})}catch(n){if(xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tn})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,o,a,l,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},y=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:zm});if(y.error)throw y.error;const v=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,k=(h=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return k.length>0&&(k.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(_.split(";")[1].split("=")[1]);m[`${C}Page`]=b}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(xe(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Bs(e);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tn})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Bs(e);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Tn})}catch(o){if(xe(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,n=!1){Bs(e);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Tn})}catch(o){if(xe(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){Bs(e.userId);try{const{data:n,error:o}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:o}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Bs(e.userId),Bs(e.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,o,a,l,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},y=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:zm});if(y.error)throw y.error;const v=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,k=(h=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return k.length>0&&(k.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(_.split(";")[1].split("=")[1]);m[`${C}Page`]=b}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(xe(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(xe(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}}function Fm(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Vs={debug:!!(globalThis&&vv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yk extends wv{}async function wk(t,e,n){Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new yk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Vs.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function xk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function xv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function bk(t){return parseInt(t,16)}function _k(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function Sk(t){var e;const{chainId:n,domain:o,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:f,requestId:h,resources:m,scheme:y,uri:v,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const k=xv(t.address),_=y?`${y}://${o}`:o,b=t.statement?`${t.statement}
`:"",C=`${_} wants you to sign in with your Ethereum account:
${k}

${b}`;let E=`URI: ${v}
Version: ${w}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(E+=`
Expiration Time: ${a.toISOString()}`),f&&(E+=`
Not Before: ${f.toISOString()}`),h&&(E+=`
Request ID: ${h}`),m){let N=`
Resources:`;for(const j of m){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);N+=`
- ${j}`}E+=N}return`${C}
${E}`}class lt extends Error{constructor({message:e,code:n,cause:o,name:a}){var l;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(l=a??(o instanceof Error?o.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class dl extends lt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function kk({error:t,options:e}){var n,o,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new lt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new lt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new lt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new lt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new lt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new lt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new lt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new lt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(bv(c)){if(l.rp.id!==c)return new lt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new lt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ck({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new lt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new lt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(bv(o)){if(n.rpId!==o)return new lt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Ek{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const jk=new Ek;function Nk(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:o}=t,a=io(t,["challenge","user","excludeCredentials"]),l=Zs(e).buffer,c=Object.assign(Object.assign({},n),{id:Zs(n.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:l,user:c});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let h=0;h<o.length;h++){const m=o[h];f.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:Zs(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function Tk(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,o=io(t,["challenge","allowCredentials"]),a=Zs(e).buffer,l=Object.assign(Object.assign({},o),{challenge:a});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const f=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},f),{id:Zs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function Rk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:as(new Uint8Array(t.response.attestationObject)),clientDataJSON:as(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Pk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,o=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:as(new Uint8Array(a.authenticatorData)),clientDataJSON:as(new Uint8Array(a.clientDataJSON)),signature:as(new Uint8Array(a.signature)),userHandle:a.userHandle?as(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function bv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Bm(){var t,e;return!!(kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Ak(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",e)}:{data:null,error:new dl("Empty credential response",e)}}catch(e){return{data:null,error:kk({error:e,options:t})}}}async function Ok(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",e)}:{data:null,error:new dl("Empty credential response",e)}}catch(e){return{data:null,error:Ck({error:e,options:t})}}}const Ik={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Dk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fl(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),o={};for(const a of t)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))o[l]=c;else if(n(c))o[l]=c;else if(e(c)){const f=o[l];e(f)?o[l]=fl(f,c):o[l]=fl(c)}else o[l]=c}return o}function Mk(t,e){return fl(Ik,t,e||{})}function Lk(t,e){return fl(Dk,t,e||{})}class $k{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:o,signal:a},l){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:f};const h=a??jk.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${o}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=Mk(c.webauthn.credential_options.publicKey,l?.create),{data:y,error:v}=await Ak({publicKey:m,signal:h});return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const m=Lk(c.webauthn.credential_options.publicKey,l?.request),{data:y,error:v}=await Ok(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(c){return xe(c)?{data:null,error:c}:{data:null,error:new os("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new ga("rpId is required for WebAuthn authentication")};try{if(!Bm())return{data:null,error:new os("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:o},signal:a},{request:l});if(!c)return{data:null,error:f};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:o,credential_response:h.credential_response}})}catch(c){return xe(c)?{data:null,error:c}:{data:null,error:new os("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new ga("rpId is required for WebAuthn registration")};try{if(!Bm())return{data:null,error:new os("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:f};const{data:h,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:a},{create:l});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:o,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(c){return xe(c)?{data:null,error:c}:{data:null,error:new os("Unexpected error in register",c)}}}}xk();const Uk={url:I1,storageKey:D1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:M1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Vm(t,e,n){return await n()}const Ws={};class va{get jwks(){var e,n;return(n=(e=Ws[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ws[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{cachedAt:e})}constructor(e){var n,o,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},Uk),e);if(this.storageKey=l.storageKey,this.instanceID=(n=va.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,va.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&kt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new vk({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=yv(l.fetch),this.lock=l.lock||Vm,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&kt()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=wk:this.lock=Vm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $k(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:vv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fm(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Fm(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${pv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},o="none";if(kt()&&(n=Q1(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),kt()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:l}=await this._getSessionFromURL(n,o);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),B1(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:c,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return xe(n)?this._returnResult({error:n}):this._returnResult({error:new os("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,o,a;try{const l=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:gr}),{data:c,error:f}=l;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(xe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,o,a;try{let l;if("email"in e){const{email:y,password:v,options:w}=e;let k=null,_=null;this.flowType==="pkce"&&([k,_]=await Fs(this.storage,this.storageKey)),l=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:v,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:k,code_challenge_method:_},xform:gr})}else if("phone"in e){const{phone:y,password:v,options:w}=e;l=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(o=w?.data)!==null&&o!==void 0?o:{},channel:(a=w?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:gr})}else throw new Wi("You must provide either an email or phone number and a password");const{data:c,error:f}=l;if(f||!c)return await St(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(await St(this.storage,`${this.storageKey}-code-verifier`),xe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:f}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Um})}else if("phone"in e){const{phone:l,password:c,options:f}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Um})}else throw new Wi("You must provide either an email or phone number and a password");const{data:o,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!o||!o.session||!o.user){const l=new zs;return this._returnResult({data:{user:null,session:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,o,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,o,a,l,c,f,h,m,y,v,w;let k,_;if("message"in e)k=e.message,_=e.signature;else{const{chain:b,wallet:C,statement:E,options:N}=e;let j;if(kt())if(typeof C=="object")j=C;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")j=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=C}const P=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),z=await j.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=xv(z[0]);let D=(o=N?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!D){const q=await j.request({method:"eth_chainId"});D=bk(q)}const L={domain:P.host,address:F,statement:E,uri:P.href,version:"1",chainId:D,nonce:(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=N?.signInWithEthereum)===null||y===void 0?void 0:y.resources};k=Sk(L),_=await j.request({method:"personal_sign",params:[_k(k),F]})}try{const{data:b,error:C}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:k,signature:_},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:gr});if(C)throw C;if(!b||!b.session||!b.user){const E=new zs;return this._returnResult({data:{user:null,session:null},error:E})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:C})}catch(b){if(xe(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var n,o,a,l,c,f,h,m,y,v,w,k;let _,b;if("message"in e)_=e.message,b=e.signature;else{const{chain:C,wallet:E,statement:N,options:j}=e;let P;if(kt())if(typeof E=="object")P=E;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))P=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=E}const z=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const F=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),N?{statement:N}:null));let D;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")D=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)D=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)_=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),b=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${z.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(a=(o=j?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=j?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((c=j?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((f=j?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((h=j?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((m=j?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((v=(y=j?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...j.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const F=await P.signMessage(new TextEncoder().encode(_),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=F}}try{const{data:C,error:E}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:as(b)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(k=e.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:gr});if(E)throw E;if(!C||!C.session||!C.user){const N=new zs;return this._returnResult({data:{user:null,session:null},error:N})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:E})}catch(C){if(xe(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const n=await ts(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(n??"").split("/");try{if(!o&&this.flowType==="pkce")throw new V1;const{data:l,error:c}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:gr});if(await St(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const f=new zs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(await St(this.storage,`${this.storageKey}-code-verifier`),xe(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:o,token:a,access_token:l,nonce:c}=e,f=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:gr}),{data:h,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const y=new zs;return this._returnResult({data:{user:null,session:null},error:y})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,o,a,l,c;try{if("email"in e){const{email:f,options:h}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Fs(this.storage,this.storageKey));const{error:v}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:f,options:h}=e,{data:m,error:y}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=h?.data)!==null&&a!==void 0?a:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:y})}throw new Wi("You must provide either an email or phone number.")}catch(f){if(await St(this.storage,`${this.storageKey}-code-verifier`),xe(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var n,o;try{let a,l;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:c,error:f}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:gr});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(a){if(xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var n,o,a,l,c;try{let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Fs(this.storage,this.storageKey));const m=await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:pk});return!((l=m.data)===null||l===void 0)&&l.url&&kt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await St(this.storage,`${this.storageKey}-code-verifier`),xe(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;if(o)throw o;if(!n)throw new Ht;const{error:a}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(xe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:o,type:a,options:l}=e,{error:c}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:o,type:a,options:l}=e,{data:c,error:f}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new Wi("You must provide either an email or phone number and a type")}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ts(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<Ou:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const c=await ts(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Mu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=uk(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tn}):await this._useSession(async n=>{var o,a,l;const{data:c,error:f}=n;if(f)throw f;return!(!((o=c.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Tn})})}catch(n){if(xe(n))return F1(n)&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async o=>{const{data:a,error:l}=o;if(l)throw l;if(!a.session)throw new Ht;const c=a.session;let f=null,h=null;this.flowType==="pkce"&&e.email!=null&&([f,h]=await Fs(this.storage,this.storageKey));const{data:m,error:y}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:h}),jwt:c.access_token,xform:Tn});if(y)throw y;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(o){if(await St(this.storage,`${this.storageKey}-code-verifier`),xe(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ht;const n=Date.now()/1e3;let o=n,a=!0,l=null;const{payload:c}=Du(e.access_token);if(c.exp&&(o=c.exp,a=o<=n),a){const{data:f,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(xe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var o;if(!e){const{data:c,error:f}=n;if(f)throw f;e=(o=c.session)!==null&&o!==void 0?o:void 0}if(!e?.refresh_token)throw new Ht;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!kt())throw new Hi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Hi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Am("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Am("No code detected.");const{data:N,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:f,expires_at:h,token_type:m}=e;if(!l||!f||!c||!m)throw new Hi("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(f);let w=y+v;h&&(w=parseInt(h));const k=w-y;k*1e3<=Ys&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${v}s`);const _=w-v;y-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,w,y):y-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,w,y);const{data:b,error:C}=await this._getUser(l);if(C)throw C;const E={provider_token:o,provider_refresh_token:a,access_token:l,expires_in:v,expires_at:w,refresh_token:c,token_type:m,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:e.type},error:null})}catch(o){if(xe(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ts(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:a,error:l}=n;if(l)return this._returnResult({error:l});const c=(o=a.session)===null||o===void 0?void 0:o.access_token;if(c){const{error:f}=await this.admin.signOut(c,e);if(f&&!(z1(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=J1(),o={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async n=>{var o,a;try{const{data:{session:l},error:c}=n;if(c)throw c;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await Fs(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await St(this.storage,`${this.storageKey}-code-verifier`),xe(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:o,error:a}=await this._useSession(async l=>{var c,f,h,m,y;const{data:v,error:w}=l;if(w)throw w;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",k,{headers:this.headers,jwt:(y=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return kt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:e.provider,url:o?.url},error:null})}catch(o){if(xe(o))return this._returnResult({data:{provider:e.provider,url:null},error:o});throw o}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var o;try{const{error:a,data:{session:l}}=n;if(a)throw a;const{options:c,provider:f,token:h,access_token:m,nonce:y}=e,v=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=l?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:h,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:gr}),{data:w,error:k}=v;return k?this._returnResult({data:{user:null,session:null},error:k}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new zs}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:k}))}catch(a){if(await St(this.storage,`${this.storageKey}-code-verifier`),xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var o,a;const{data:l,error:c}=n;if(c)throw c;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await ek(async a=>(a>0&&await Z1(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gr})),(a,l)=>{const c=200*Math.pow(2,a);return l&&Iu(l)&&Date.now()+c-o<Ys})}catch(o){if(this._debug(n,"error",o),xe(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",o),kt()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await ts(this.storage,this.storageKey);if(a&&this.userStorage){let c=await ts(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Js(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c?.user)!==null&&e!==void 0?e:Mu()}else if(a&&!a.user&&!a.user){const c=await ts(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await St(this.storage,this.storageKey+"-user"),await Js(this.storage,this.storageKey,a)):a.user=Mu()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const l=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ou;if(this._debug(o,`session has${l?"":" not"} expired with margin of ${Ou}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Iu(c)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(a.access_token);!f&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(o,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var n,o;if(!e)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Sl;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Ht;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(a,"error",l),xe(l)){const c={data:null,error:l};return Iu(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,o=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await St(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await Js(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const l=Lm(a);await Js(this.storage,this.storageKey,l)}else{const a=Lm(n);await Js(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await St(this.storage,this.storageKey),await St(this.storage,this.storageKey+"-code-verifier"),await St(this.storage,this.storageKey+"-user"),this.userStorage&&await St(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&kt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ys);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-e)/Ys);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ys}ms, refresh threshold is ${pd} ticks`),a<=pd&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof wv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,o){const a=[`provider=${encodeURIComponent(n)}`];if(o?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[l,c]=await Fs(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(f.toString())}if(o?.queryParams){const l=new URLSearchParams(o.queryParams);a.push(l.toString())}return o?.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var o;const{data:a,error:l}=n;return l?this._returnResult({data:null,error:l}):await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var o,a;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((a=h?.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var o;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Rk(e.webauthn.credential_response):Pk(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:h}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:h}))})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var o;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Nk(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Tk(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:o}=await this._challenge({factorId:e.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Du(o.access_token);let c=null;l.aal&&(c=l.aal);let f=c;((n=(e=o.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:o},error:a}=n;return a?this._returnResult({data:null,error:a}):o?await Ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:a},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Ht});const c=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&kt()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(o){if(xe(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:a},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Ht});const c=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&kt()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(o){if(xe(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;return o?this._returnResult({data:null,error:o}):n?await Ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(e){if(xe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:o},error:a}=n;return a?this._returnResult({data:null,error:a}):o?(await Ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ht})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let o=n.keys.find(f=>f.kid===e);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(f=>f.kid===e),o&&this.jwks_cached_at+$1>a)return o;const{data:l,error:c}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,o=l.keys.find(f=>f.kid===e),!o)?null:o}async getClaims(e,n={}){try{let o=e;if(!o){const{data:k,error:_}=await this.getSession();if(_||!k.session)return this._returnResult({data:null,error:_});o=k.session.access_token}const{header:a,payload:l,signature:c,raw:{header:f,payload:h}}=Du(o);n?.allowExpired||ik(l.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:k}=await this.getUser(o);if(k)throw k;return{data:{claims:l,header:a,signature:c},error:null}}const y=lk(a.alg),v=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,c,G1(`${f}.${h}`)))throw new vd("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(o){if(xe(o))return this._returnResult({data:null,error:o});throw o}}}va.nextInstanceID={};const zk=va,Fk="2.90.1";let la="";typeof Deno<"u"?la="deno":typeof document<"u"?la="web":typeof navigator<"u"&&navigator.product==="ReactNative"?la="react-native":la="node";const Bk={"X-Client-Info":`supabase-js-${la}/${Fk}`},Vk={headers:Bk},Wk={schema:"public"},Hk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qk={};function ya(t){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ya(t)}function Kk(t,e){if(ya(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(ya(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gk(t){var e=Kk(t,"string");return ya(e)=="symbol"?e:e+""}function Yk(t,e,n){return(e=Gk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,o)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wm(Object(n),!0).forEach(function(o){Yk(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wm(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}const Jk=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Qk=()=>Headers,Xk=(t,e,n)=>{const o=Jk(n),a=Qk();return async(l,c)=>{var f;const h=(f=await e())!==null&&f!==void 0?f:t;let m=new a(c?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),o(l,nt(nt({},c),{},{headers:m}))}};function Zk(t){return t.endsWith("/")?t:t+"/"}function eC(t,e){var n,o;const{db:a,auth:l,realtime:c,global:f}=t,{db:h,auth:m,realtime:y,global:v}=e,w={db:nt(nt({},h),a),auth:nt(nt({},m),l),realtime:nt(nt({},y),c),storage:{},global:nt(nt(nt({},v),f),{},{headers:nt(nt({},(n=v?.headers)!==null&&n!==void 0?n:{}),(o=f?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function tC(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Zk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var rC=class extends zk{constructor(t){super(t)}},nC=class{constructor(t,e,n){var o,a;this.supabaseUrl=t,this.supabaseKey=e;const l=tC(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:Wk,realtime:qk,auth:nt(nt({},Hk),{},{storageKey:c}),global:Vk},h=eC(n??{},f);if(this.storageKey=(o=h.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=Xk(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(nt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new MS(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new O1(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new PS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:o}=await t.auth.getSession();return(e=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:o,userStorage:a,storageKey:l,flowType:c,lock:f,debug:h,throwOnError:m},y,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rC({url:this.authUrl.href,headers:nt(nt({},w),y),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:o,userStorage:a,flowType:c,lock:f,debug:h,throwOnError:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new ZS(this.realtimeUrl.href,nt(nt({},t),{},{params:nt(nt({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const sC=(t,e,n)=>new nC(t,e,n);function oC(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}oC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const aC="arcoxbheqqfomhdtpfno",iC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFyY294YmhlcXFmb21oZHRwZm5vIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0MzgyNjQsImV4cCI6MjA3ODAxNDI2NH0.sYDVF1bXnrGvnIPjxN8PCUjCUFFZ2i64pkyl5lviPp4",lC=`https://${aC}.supabase.co`,de=sC(lC,iC);function Pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t?.(a),n===!1||!a.defaultPrevented)return e?.(a)}}function cC(t,e){const n=x.createContext(e),o=l=>{const{children:c,...f}=l,h=x.useMemo(()=>f,Object.values(f));return u.jsx(n.Provider,{value:h,children:c})};o.displayName=t+"Provider";function a(l){const c=x.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[o,a]}function In(t,e=[]){let n=[];function o(l,c){const f=x.createContext(c),h=n.length;n=[...n,c];const m=v=>{const{scope:w,children:k,..._}=v,b=w?.[t]?.[h]||f,C=x.useMemo(()=>_,Object.values(_));return u.jsx(b.Provider,{value:C,children:k})};m.displayName=l+"Provider";function y(v,w){const k=w?.[t]?.[h]||f,_=x.useContext(k);if(_)return _;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[m,y]}const a=()=>{const l=n.map(c=>x.createContext(c));return function(f){const h=f?.[t]||l;return x.useMemo(()=>({[`__scope${t}`]:{...f,[t]:h}}),[f,h])}};return a.scopeName=t,[o,uC(a,...e)]}function uC(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const o=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=o.reduce((f,{useScope:h,scopeName:m})=>{const v=h(l)[`__scope${m}`];return{...f,...v}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}var dC=Dd[" useId ".trim().toString()]||(()=>{}),fC=0;function Rn(t){const[e,n]=x.useState(dC());return mt(()=>{n(o=>o??String(fC++))},[t]),t||(e?`radix-${e}`:"")}var hC=Dd[" useInsertionEffect ".trim().toString()]||mt;function ls({prop:t,defaultProp:e,onChange:n=()=>{},caller:o}){const[a,l,c]=pC({defaultProp:e,onChange:n}),f=t!==void 0,h=f?t:a;{const y=x.useRef(t!==void 0);x.useEffect(()=>{const v=y.current;v!==f&&console.warn(`${o} is changing from ${v?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=f},[f,o])}const m=x.useCallback(y=>{if(f){const v=mC(y)?y(t):y;v!==t&&c.current?.(v)}else l(y)},[f,t,l,c]);return[h,m]}function pC({defaultProp:t,onChange:e}){const[n,o]=x.useState(t),a=x.useRef(n),l=x.useRef(e);return hC(()=>{l.current=e},[e]),x.useEffect(()=>{a.current!==n&&(l.current?.(n),a.current=n)},[n,a]),[n,o,l]}function mC(t){return typeof t=="function"}function gC(t){const e=vC(t),n=x.forwardRef((o,a)=>{const{children:l,...c}=o,f=x.Children.toArray(l),h=f.find(wC);if(h){const m=h.props.children,y=f.map(v=>v===h?x.Children.count(m)>1?x.Children.only(null):x.isValidElement(m)?m.props.children:null:v);return u.jsx(e,{...c,ref:a,children:x.isValidElement(m)?x.cloneElement(m,void 0,y):null})}return u.jsx(e,{...c,ref:a,children:l})});return n.displayName=`${t}.Slot`,n}function vC(t){const e=x.forwardRef((n,o)=>{const{children:a,...l}=n;if(x.isValidElement(a)){const c=bC(a),f=xC(l,a.props);return a.type!==x.Fragment&&(f.ref=o?so(o,c):c),x.cloneElement(a,f)}return x.Children.count(a)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var yC=Symbol("radix.slottable");function wC(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yC}function xC(t,e){const n={...e};for(const o in e){const a=t[o],l=e[o];/^on[A-Z]/.test(o)?a&&l?n[o]=(...f)=>{const h=l(...f);return a(...f),h}:a&&(n[o]=a):o==="style"?n[o]={...a,...l}:o==="className"&&(n[o]=[a,l].filter(Boolean).join(" "))}return{...t,...n}}function bC(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var _C=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oe=_C.reduce((t,e)=>{const n=gC(`Primitive.${e}`),o=x.forwardRef((a,l)=>{const{asChild:c,...f}=a,h=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(h,{...f,ref:l})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{});function SC(t,e){t&&ba.flushSync(()=>t.dispatchEvent(e))}function kC(t,e=globalThis?.document){const n=Qr(t);x.useEffect(()=>{const o=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[n,e])}var CC="DismissableLayer",yd="dismissableLayer.update",EC="dismissableLayer.pointerDownOutside",jC="dismissableLayer.focusOutside",Hm,_v=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yd=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:f,...h}=t,m=x.useContext(_v),[y,v]=x.useState(null),w=y?.ownerDocument??globalThis?.document,[,k]=x.useState({}),_=Ve(e,D=>v(D)),b=Array.from(m.layers),[C]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),E=b.indexOf(C),N=y?b.indexOf(y):-1,j=m.layersWithOutsidePointerEventsDisabled.size>0,P=N>=E,z=RC(D=>{const L=D.target,q=[...m.branches].some(W=>W.contains(L));!P||q||(a?.(D),c?.(D),D.defaultPrevented||f?.())},w),F=PC(D=>{const L=D.target;[...m.branches].some(W=>W.contains(L))||(l?.(D),c?.(D),D.defaultPrevented||f?.())},w);return kC(D=>{N===m.layers.size-1&&(o?.(D),!D.defaultPrevented&&f&&(D.preventDefault(),f()))},w),x.useEffect(()=>{if(y)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Hm=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),qm(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Hm)}},[y,w,n,m]),x.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),qm())},[y,m]),x.useEffect(()=>{const D=()=>k({});return document.addEventListener(yd,D),()=>document.removeEventListener(yd,D)},[]),u.jsx(Oe.div,{...h,ref:_,style:{pointerEvents:j?P?"auto":"none":void 0,...t.style},onFocusCapture:Pe(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Pe(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Pe(t.onPointerDownCapture,z.onPointerDownCapture)})});Yd.displayName=CC;var NC="DismissableLayerBranch",TC=x.forwardRef((t,e)=>{const n=x.useContext(_v),o=x.useRef(null),a=Ve(e,o);return x.useEffect(()=>{const l=o.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),u.jsx(Oe.div,{...t,ref:a})});TC.displayName=NC;function RC(t,e=globalThis?.document){const n=Qr(t),o=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const l=f=>{if(f.target&&!o.current){let h=function(){Sv(EC,n,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=h,e.addEventListener("click",a.current,{once:!0})):h()}else e.removeEventListener("click",a.current);o.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>o.current=!0}}function PC(t,e=globalThis?.document){const n=Qr(t),o=x.useRef(!1);return x.useEffect(()=>{const a=l=>{l.target&&!o.current&&Sv(jC,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function qm(){const t=new CustomEvent(yd);document.dispatchEvent(t)}function Sv(t,e,n,{discrete:o}){const a=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),o?SC(a,l):a.dispatchEvent(l)}var $u="focusScope.autoFocusOnMount",Uu="focusScope.autoFocusOnUnmount",Km={bubbles:!1,cancelable:!0},AC="FocusScope",Jd=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...c}=t,[f,h]=x.useState(null),m=Qr(a),y=Qr(l),v=x.useRef(null),w=Ve(e,b=>h(b)),k=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(o){let b=function(j){if(k.paused||!f)return;const P=j.target;f.contains(P)?v.current=P:jn(v.current,{select:!0})},C=function(j){if(k.paused||!f)return;const P=j.relatedTarget;P!==null&&(f.contains(P)||jn(v.current,{select:!0}))},E=function(j){if(document.activeElement===document.body)for(const z of j)z.removedNodes.length>0&&jn(f)};document.addEventListener("focusin",b),document.addEventListener("focusout",C);const N=new MutationObserver(E);return f&&N.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",C),N.disconnect()}}},[o,f,k.paused]),x.useEffect(()=>{if(f){Ym.add(k);const b=document.activeElement;if(!f.contains(b)){const E=new CustomEvent($u,Km);f.addEventListener($u,m),f.dispatchEvent(E),E.defaultPrevented||(OC($C(kv(f)),{select:!0}),document.activeElement===b&&jn(f))}return()=>{f.removeEventListener($u,m),setTimeout(()=>{const E=new CustomEvent(Uu,Km);f.addEventListener(Uu,y),f.dispatchEvent(E),E.defaultPrevented||jn(b??document.body,{select:!0}),f.removeEventListener(Uu,y),Ym.remove(k)},0)}}},[f,m,y,k]);const _=x.useCallback(b=>{if(!n&&!o||k.paused)return;const C=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,E=document.activeElement;if(C&&E){const N=b.currentTarget,[j,P]=IC(N);j&&P?!b.shiftKey&&E===P?(b.preventDefault(),n&&jn(j,{select:!0})):b.shiftKey&&E===j&&(b.preventDefault(),n&&jn(P,{select:!0})):E===N&&b.preventDefault()}},[n,o,k.paused]);return u.jsx(Oe.div,{tabIndex:-1,...c,ref:w,onKeyDown:_})});Jd.displayName=AC;function OC(t,{select:e=!1}={}){const n=document.activeElement;for(const o of t)if(jn(o,{select:e}),document.activeElement!==n)return}function IC(t){const e=kv(t),n=Gm(e,t),o=Gm(e.reverse(),t);return[n,o]}function kv(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Gm(t,e){for(const n of t)if(!DC(n,{upTo:e}))return n}function DC(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function MC(t){return t instanceof HTMLInputElement&&"select"in t}function jn(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&MC(t)&&e&&t.select()}}var Ym=LC();function LC(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=Jm(t,e),t.unshift(e)},remove(e){t=Jm(t,e),t[0]?.resume()}}}function Jm(t,e){const n=[...t],o=n.indexOf(e);return o!==-1&&n.splice(o,1),n}function $C(t){return t.filter(e=>e.tagName!=="A")}var UC="Portal",Qd=x.forwardRef((t,e)=>{const{container:n,...o}=t,[a,l]=x.useState(!1);mt(()=>l(!0),[]);const c=n||a&&globalThis?.document?.body;return c?dS.createPortal(u.jsx(Oe.div,{...o,ref:e}),c):null});Qd.displayName=UC;function zC(t,e){return x.useReducer((n,o)=>e[n][o]??n,t)}var lo=t=>{const{present:e,children:n}=t,o=FC(e),a=typeof n=="function"?n({present:o.isPresent}):x.Children.only(n),l=Ve(o.ref,BC(a));return typeof n=="function"||o.isPresent?x.cloneElement(a,{ref:l}):null};lo.displayName="Presence";function FC(t){const[e,n]=x.useState(),o=x.useRef(null),a=x.useRef(t),l=x.useRef("none"),c=t?"mounted":"unmounted",[f,h]=zC(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const m=qi(o.current);l.current=f==="mounted"?m:"none"},[f]),mt(()=>{const m=o.current,y=a.current;if(y!==t){const w=l.current,k=qi(m);t?h("MOUNT"):k==="none"||m?.display==="none"?h("UNMOUNT"):h(y&&w!==k?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,h]),mt(()=>{if(e){let m;const y=e.ownerDocument.defaultView??window,v=k=>{const b=qi(o.current).includes(CSS.escape(k.animationName));if(k.target===e&&b&&(h("ANIMATION_END"),!a.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",m=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},w=k=>{k.target===e&&(l.current=qi(o.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{y.clearTimeout(m),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:x.useCallback(m=>{o.current=m?getComputedStyle(m):null,n(m)},[])}}function qi(t){return t?.animationName||"none"}function BC(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var zu=0;function Cv(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Qm()),document.body.insertAdjacentElement("beforeend",t[1]??Qm()),zu++,()=>{zu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),zu--}},[])}function Qm(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var sl="right-scroll-bar-position",ol="width-before-scroll-bar",VC="with-scroll-bars-hidden",WC="--removed-body-scroll-bar-size";function Fu(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function HC(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(o){var a=n.value;a!==o&&(n.value=o,n.callback(o,a))}}}})[0];return n.callback=e,n.facade}var qC=typeof window<"u"?x.useLayoutEffect:x.useEffect,Xm=new WeakMap;function KC(t,e){var n=HC(null,function(o){return t.forEach(function(a){return Fu(a,o)})});return qC(function(){var o=Xm.get(n);if(o){var a=new Set(o),l=new Set(t),c=n.current;a.forEach(function(f){l.has(f)||Fu(f,null)}),l.forEach(function(f){a.has(f)||Fu(f,c)})}Xm.set(n,t)},[t]),n}function GC(t){return t}function YC(t,e){e===void 0&&(e=GC);var n=[],o=!1,a={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var c=e(l,o);return n.push(c),function(){n=n.filter(function(f){return f!==c})}},assignSyncMedium:function(l){for(o=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){o=!0;var c=[];if(n.length){var f=n;n=[],f.forEach(l),c=n}var h=function(){var y=c;c=[],y.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),n={push:function(y){c.push(y),m()},filter:function(y){return c=c.filter(y),n}}}};return a}function JC(t){t===void 0&&(t={});var e=YC(null);return e.options=Tr({async:!0,ssr:!1},t),e}var Ev=function(t){var e=t.sideCar,n=io(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return x.createElement(o,Tr({},n))};Ev.isSideCarExport=!0;function QC(t,e){return t.useMedium(e),Ev}var jv=JC(),Bu=function(){},kl=x.forwardRef(function(t,e){var n=x.useRef(null),o=x.useState({onScrollCapture:Bu,onWheelCapture:Bu,onTouchMoveCapture:Bu}),a=o[0],l=o[1],c=t.forwardProps,f=t.children,h=t.className,m=t.removeScrollBar,y=t.enabled,v=t.shards,w=t.sideCar,k=t.noRelative,_=t.noIsolation,b=t.inert,C=t.allowPinchZoom,E=t.as,N=E===void 0?"div":E,j=t.gapMode,P=io(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=w,F=KC([n,e]),D=Tr(Tr({},P),a);return x.createElement(x.Fragment,null,y&&x.createElement(z,{sideCar:jv,removeScrollBar:m,shards:v,noRelative:k,noIsolation:_,inert:b,setCallbacks:l,allowPinchZoom:!!C,lockRef:n,gapMode:j}),c?x.cloneElement(x.Children.only(f),Tr(Tr({},D),{ref:F})):x.createElement(N,Tr({},D,{className:h,ref:F}),f))});kl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kl.classNames={fullWidth:ol,zeroRight:sl};var XC=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ZC(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=XC();return e&&t.setAttribute("nonce",e),t}function eE(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function tE(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var rE=function(){var t=0,e=null;return{add:function(n){t==0&&(e=ZC())&&(eE(e,n),tE(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},nE=function(){var t=rE();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Nv=function(){var t=nE(),e=function(n){var o=n.styles,a=n.dynamic;return t(o,a),null};return e},sE={left:0,top:0,right:0,gap:0},Vu=function(t){return parseInt(t||"",10)||0},oE=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],o=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[Vu(n),Vu(o),Vu(a)]},aE=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sE;var e=oE(t),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-n+e[2]-e[0])}},iE=Nv(),eo="data-scroll-locked",lE=function(t,e,n,o){var a=t.left,l=t.top,c=t.right,f=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(VC,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(f,"px ").concat(o,`;
  }
  body[`).concat(eo,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sl,` {
    right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(ol,` {
    margin-right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(sl," .").concat(sl,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(ol," .").concat(ol,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(eo,`] {
    `).concat(WC,": ").concat(f,`px;
  }
`)},Zm=function(){var t=parseInt(document.body.getAttribute(eo)||"0",10);return isFinite(t)?t:0},cE=function(){x.useEffect(function(){return document.body.setAttribute(eo,(Zm()+1).toString()),function(){var t=Zm()-1;t<=0?document.body.removeAttribute(eo):document.body.setAttribute(eo,t.toString())}},[])},uE=function(t){var e=t.noRelative,n=t.noImportant,o=t.gapMode,a=o===void 0?"margin":o;cE();var l=x.useMemo(function(){return aE(a)},[a]);return x.createElement(iE,{styles:lE(l,!e,a,n?"":"!important")})},wd=!1;if(typeof window<"u")try{var Ki=Object.defineProperty({},"passive",{get:function(){return wd=!0,!0}});window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{wd=!1}var Hs=wd?{passive:!1}:!1,dE=function(t){return t.tagName==="TEXTAREA"},Tv=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!dE(t)&&n[e]==="visible")},fE=function(t){return Tv(t,"overflowY")},hE=function(t){return Tv(t,"overflowX")},eg=function(t,e){var n=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var a=Rv(t,o);if(a){var l=Pv(t,o),c=l[1],f=l[2];if(c>f)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},pE=function(t){var e=t.scrollTop,n=t.scrollHeight,o=t.clientHeight;return[e,n,o]},mE=function(t){var e=t.scrollLeft,n=t.scrollWidth,o=t.clientWidth;return[e,n,o]},Rv=function(t,e){return t==="v"?fE(e):hE(e)},Pv=function(t,e){return t==="v"?pE(e):mE(e)},gE=function(t,e){return t==="h"&&e==="rtl"?-1:1},vE=function(t,e,n,o,a){var l=gE(t,window.getComputedStyle(e).direction),c=l*o,f=n.target,h=e.contains(f),m=!1,y=c>0,v=0,w=0;do{if(!f)break;var k=Pv(t,f),_=k[0],b=k[1],C=k[2],E=b-C-l*_;(_||E)&&Rv(t,f)&&(v+=E,w+=_);var N=f.parentNode;f=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!h&&f!==document.body||h&&(e.contains(f)||e===f));return(y&&Math.abs(v)<1||!y&&Math.abs(w)<1)&&(m=!0),m},Gi=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},tg=function(t){return[t.deltaX,t.deltaY]},rg=function(t){return t&&"current"in t?t.current:t},yE=function(t,e){return t[0]===e[0]&&t[1]===e[1]},wE=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},xE=0,qs=[];function bE(t){var e=x.useRef([]),n=x.useRef([0,0]),o=x.useRef(),a=x.useState(xE++)[0],l=x.useState(Nv)[0],c=x.useRef(t);x.useEffect(function(){c.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var b=NS([t.lockRef.current],(t.shards||[]).map(rg),!0).filter(Boolean);return b.forEach(function(C){return C.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var f=x.useCallback(function(b,C){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!c.current.allowPinchZoom;var E=Gi(b),N=n.current,j="deltaX"in b?b.deltaX:N[0]-E[0],P="deltaY"in b?b.deltaY:N[1]-E[1],z,F=b.target,D=Math.abs(j)>Math.abs(P)?"h":"v";if("touches"in b&&D==="h"&&F.type==="range")return!1;var L=window.getSelection(),q=L&&L.anchorNode,W=q?q===F||q.contains(F):!1;if(W)return!1;var Z=eg(D,F);if(!Z)return!0;if(Z?z=D:(z=D==="v"?"h":"v",Z=eg(D,F)),!Z)return!1;if(!o.current&&"changedTouches"in b&&(j||P)&&(o.current=z),!z)return!0;var ne=o.current||z;return vE(ne,C,b,ne==="h"?j:P)},[]),h=x.useCallback(function(b){var C=b;if(!(!qs.length||qs[qs.length-1]!==l)){var E="deltaY"in C?tg(C):Gi(C),N=e.current.filter(function(z){return z.name===C.type&&(z.target===C.target||C.target===z.shadowParent)&&yE(z.delta,E)})[0];if(N&&N.should){C.cancelable&&C.preventDefault();return}if(!N){var j=(c.current.shards||[]).map(rg).filter(Boolean).filter(function(z){return z.contains(C.target)}),P=j.length>0?f(C,j[0]):!c.current.noIsolation;P&&C.cancelable&&C.preventDefault()}}},[]),m=x.useCallback(function(b,C,E,N){var j={name:b,delta:C,target:E,should:N,shadowParent:_E(E)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(P){return P!==j})},1)},[]),y=x.useCallback(function(b){n.current=Gi(b),o.current=void 0},[]),v=x.useCallback(function(b){m(b.type,tg(b),b.target,f(b,t.lockRef.current))},[]),w=x.useCallback(function(b){m(b.type,Gi(b),b.target,f(b,t.lockRef.current))},[]);x.useEffect(function(){return qs.push(l),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",h,Hs),document.addEventListener("touchmove",h,Hs),document.addEventListener("touchstart",y,Hs),function(){qs=qs.filter(function(b){return b!==l}),document.removeEventListener("wheel",h,Hs),document.removeEventListener("touchmove",h,Hs),document.removeEventListener("touchstart",y,Hs)}},[]);var k=t.removeScrollBar,_=t.inert;return x.createElement(x.Fragment,null,_?x.createElement(l,{styles:wE(a)}):null,k?x.createElement(uE,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function _E(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const SE=QC(jv,bE);var Xd=x.forwardRef(function(t,e){return x.createElement(kl,Tr({},t,{ref:e,sideCar:SE}))});Xd.classNames=kl.classNames;var kE=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ks=new WeakMap,Yi=new WeakMap,Ji={},Wu=0,Av=function(t){return t&&(t.host||Av(t.parentNode))},CE=function(t,e){return e.map(function(n){if(t.contains(n))return n;var o=Av(n);return o&&t.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},EE=function(t,e,n,o){var a=CE(e,Array.isArray(t)?t:[t]);Ji[n]||(Ji[n]=new WeakMap);var l=Ji[n],c=[],f=new Set,h=new Set(a),m=function(v){!v||f.has(v)||(f.add(v),m(v.parentNode))};a.forEach(m);var y=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(w){if(f.has(w))y(w);else try{var k=w.getAttribute(o),_=k!==null&&k!=="false",b=(Ks.get(w)||0)+1,C=(l.get(w)||0)+1;Ks.set(w,b),l.set(w,C),c.push(w),b===1&&_&&Yi.set(w,!0),C===1&&w.setAttribute(n,"true"),_||w.setAttribute(o,"true")}catch(E){console.error("aria-hidden: cannot operate on ",w,E)}})};return y(e),f.clear(),Wu++,function(){c.forEach(function(v){var w=Ks.get(v)-1,k=l.get(v)-1;Ks.set(v,w),l.set(v,k),w||(Yi.has(v)||v.removeAttribute(o),Yi.delete(v)),k||v.removeAttribute(n)}),Wu--,Wu||(Ks=new WeakMap,Ks=new WeakMap,Yi=new WeakMap,Ji={})}},Ov=function(t,e,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),a=kE(t);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live], script"))),EE(o,a,n,"aria-hidden")):function(){return null}};function jE(t){const e=NE(t),n=x.forwardRef((o,a)=>{const{children:l,...c}=o,f=x.Children.toArray(l),h=f.find(RE);if(h){const m=h.props.children,y=f.map(v=>v===h?x.Children.count(m)>1?x.Children.only(null):x.isValidElement(m)?m.props.children:null:v);return u.jsx(e,{...c,ref:a,children:x.isValidElement(m)?x.cloneElement(m,void 0,y):null})}return u.jsx(e,{...c,ref:a,children:l})});return n.displayName=`${t}.Slot`,n}function NE(t){const e=x.forwardRef((n,o)=>{const{children:a,...l}=n;if(x.isValidElement(a)){const c=AE(a),f=PE(l,a.props);return a.type!==x.Fragment&&(f.ref=o?so(o,c):c),x.cloneElement(a,f)}return x.Children.count(a)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var TE=Symbol("radix.slottable");function RE(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===TE}function PE(t,e){const n={...e};for(const o in e){const a=t[o],l=e[o];/^on[A-Z]/.test(o)?a&&l?n[o]=(...f)=>{const h=l(...f);return a(...f),h}:a&&(n[o]=a):o==="style"?n[o]={...a,...l}:o==="className"&&(n[o]=[a,l].filter(Boolean).join(" "))}return{...t,...n}}function AE(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Cl="Dialog",[Iv]=In(Cl),[OE,Sr]=Iv(Cl),Dv=t=>{const{__scopeDialog:e,children:n,open:o,defaultOpen:a,onOpenChange:l,modal:c=!0}=t,f=x.useRef(null),h=x.useRef(null),[m,y]=ls({prop:o,defaultProp:a??!1,onChange:l,caller:Cl});return u.jsx(OE,{scope:e,triggerRef:f,contentRef:h,contentId:Rn(),titleId:Rn(),descriptionId:Rn(),open:m,onOpenChange:y,onOpenToggle:x.useCallback(()=>y(v=>!v),[y]),modal:c,children:n})};Dv.displayName=Cl;var Mv="DialogTrigger",IE=x.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,a=Sr(Mv,n),l=Ve(e,a.triggerRef);return u.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":tf(a.open),...o,ref:l,onClick:Pe(t.onClick,a.onOpenToggle)})});IE.displayName=Mv;var Zd="DialogPortal",[DE,Lv]=Iv(Zd,{forceMount:void 0}),$v=t=>{const{__scopeDialog:e,forceMount:n,children:o,container:a}=t,l=Sr(Zd,e);return u.jsx(DE,{scope:e,forceMount:n,children:x.Children.map(o,c=>u.jsx(lo,{present:n||l.open,children:u.jsx(Qd,{asChild:!0,container:a,children:c})}))})};$v.displayName=Zd;var hl="DialogOverlay",Uv=x.forwardRef((t,e)=>{const n=Lv(hl,t.__scopeDialog),{forceMount:o=n.forceMount,...a}=t,l=Sr(hl,t.__scopeDialog);return l.modal?u.jsx(lo,{present:o||l.open,children:u.jsx(LE,{...a,ref:e})}):null});Uv.displayName=hl;var ME=jE("DialogOverlay.RemoveScroll"),LE=x.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,a=Sr(hl,n);return u.jsx(Xd,{as:ME,allowPinchZoom:!0,shards:[a.contentRef],children:u.jsx(Oe.div,{"data-state":tf(a.open),...o,ref:e,style:{pointerEvents:"auto",...o.style}})})}),cs="DialogContent",zv=x.forwardRef((t,e)=>{const n=Lv(cs,t.__scopeDialog),{forceMount:o=n.forceMount,...a}=t,l=Sr(cs,t.__scopeDialog);return u.jsx(lo,{present:o||l.open,children:l.modal?u.jsx($E,{...a,ref:e}):u.jsx(UE,{...a,ref:e})})});zv.displayName=cs;var $E=x.forwardRef((t,e)=>{const n=Sr(cs,t.__scopeDialog),o=x.useRef(null),a=Ve(e,n.contentRef,o);return x.useEffect(()=>{const l=o.current;if(l)return Ov(l)},[]),u.jsx(Fv,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(t.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Pe(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0;(c.button===2||f)&&l.preventDefault()}),onFocusOutside:Pe(t.onFocusOutside,l=>l.preventDefault())})}),UE=x.forwardRef((t,e)=>{const n=Sr(cs,t.__scopeDialog),o=x.useRef(!1),a=x.useRef(!1);return u.jsx(Fv,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(o.current||n.triggerRef.current?.focus(),l.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(o.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=l.target;n.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),Fv=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:l,...c}=t,f=Sr(cs,n),h=x.useRef(null),m=Ve(e,h);return Cv(),u.jsxs(u.Fragment,{children:[u.jsx(Jd,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:l,children:u.jsx(Yd,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":tf(f.open),...c,ref:m,onDismiss:()=>f.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(FE,{titleId:f.titleId}),u.jsx(VE,{contentRef:h,descriptionId:f.descriptionId})]})]})}),ef="DialogTitle",Bv=x.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,a=Sr(ef,n);return u.jsx(Oe.h2,{id:a.titleId,...o,ref:e})});Bv.displayName=ef;var Vv="DialogDescription",Wv=x.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,a=Sr(Vv,n);return u.jsx(Oe.p,{id:a.descriptionId,...o,ref:e})});Wv.displayName=Vv;var Hv="DialogClose",zE=x.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,a=Sr(Hv,n);return u.jsx(Oe.button,{type:"button",...o,ref:e,onClick:Pe(t.onClick,()=>a.onOpenChange(!1))})});zE.displayName=Hv;function tf(t){return t?"open":"closed"}var qv="DialogTitleWarning",[xR,Kv]=cC(qv,{contentName:cs,titleName:ef,docsSlug:"dialog"}),FE=({titleId:t})=>{const e=Kv(qv),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},BE="DialogDescriptionWarning",VE=({contentRef:t,descriptionId:e})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Kv(BE).contentName}}.`;return x.useEffect(()=>{const a=t.current?.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(o))},[o,t,e]),null},WE=Dv,HE=$v,qE=Uv,KE=zv,GE=Bv,YE=Wv;function JE(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const Gv=oe.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Sa=()=>{const t=oe.useContext(Gv);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};JE(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function QE(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function XE(){return rf(/^Mac/)}function ZE(){return rf(/^iPhone/)}function ng(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function ej(){return rf(/^iPad/)||XE()&&navigator.maxTouchPoints>1}function Yv(){return ZE()||ej()}function rf(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const tj=24,rj=typeof window<"u"?x.useLayoutEffect:x.useEffect;function sg(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}const Hu=typeof document<"u"&&window.visualViewport;function og(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function Jv(t){for(og(t)&&(t=t.parentElement);t&&!og(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const nj=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Qi=0,qu;function sj(t={}){let{isDisabled:e}=t;rj(()=>{if(!e)return Qi++,Qi===1&&Yv()&&(qu=oj()),()=>{Qi--,Qi===0&&qu?.()}},[e])}function oj(){let t,e=0,n=v=>{t=Jv(v.target),!(t===document.documentElement&&t===document.body)&&(e=v.changedTouches[0].pageY)},o=v=>{if(!t||t===document.documentElement||t===document.body){v.preventDefault();return}let w=v.changedTouches[0].pageY,k=t.scrollTop,_=t.scrollHeight-t.clientHeight;_!==0&&((k<=0&&w>e||k>=_&&w<e)&&v.preventDefault(),e=w)},a=v=>{let w=v.target;xd(w)&&w!==document.activeElement&&(v.preventDefault(),w.style.transform="translateY(-2000px)",w.focus(),requestAnimationFrame(()=>{w.style.transform=""}))},l=v=>{let w=v.target;xd(w)&&(w.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{w.style.transform="",Hu&&(Hu.height<window.innerHeight?requestAnimationFrame(()=>{ag(w)}):Hu.addEventListener("resize",()=>ag(w),{once:!0}))}))},c=()=>{window.scrollTo(0,0)},f=window.pageXOffset,h=window.pageYOffset,m=sg(aj(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let y=sg(aa(document,"touchstart",n,{passive:!1,capture:!0}),aa(document,"touchmove",o,{passive:!1,capture:!0}),aa(document,"touchend",a,{passive:!1,capture:!0}),aa(document,"focus",l,!0),aa(window,"scroll",c));return()=>{m(),y(),window.scrollTo(f,h)}}function aj(t,e,n){let o=t.style[e];return t.style[e]=n,()=>{t.style[e]=o}}function aa(t,e,n,o){return t.addEventListener(e,n,o),()=>{t.removeEventListener(e,n,o)}}function ag(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let n=Jv(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let o=n.getBoundingClientRect().top,a=t.getBoundingClientRect().top,l=t.getBoundingClientRect().bottom;const c=n.getBoundingClientRect().bottom+tj;l>c&&(n.scrollTop+=a-o)}t=n.parentElement}}function xd(t){return t instanceof HTMLInputElement&&!nj.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function ij(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function lj(...t){return e=>t.forEach(n=>ij(n,e))}function Qv(...t){return x.useCallback(lj(...t),t)}const Xv=new WeakMap;function pt(t,e,n=!1){if(!t||!(t instanceof HTMLElement))return;let o={};Object.entries(e).forEach(([a,l])=>{if(a.startsWith("--")){t.style.setProperty(a,l);return}o[a]=t.style[a],t.style[a]=l}),!n&&Xv.set(t,o)}function cj(t,e){if(!t||!(t instanceof HTMLElement))return;let n=Xv.get(t);n&&(t.style[e]=n[e])}const ct=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function Xi(t,e){if(!t)return null;const n=window.getComputedStyle(t),o=n.transform||n.webkitTransform||n.mozTransform;let a=o.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[ct(e)?13:12]):(a=o.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[ct(e)?5:4]):null)}function uj(t){return 8*(Math.log(t+1)-2)}function Ku(t,e){if(!t)return()=>{};const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function dj(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}const tt={DURATION:.5,EASE:[.32,.72,0,1]},Zv=.4,fj=.25,hj=100,ey=8,rs=16,bd=26,Gu="vaul-dragging";function ty(t){const e=oe.useRef(t);return oe.useEffect(()=>{e.current=t}),oe.useMemo(()=>(...n)=>e.current==null?void 0:e.current.call(e,...n),[])}function pj({defaultProp:t,onChange:e}){const n=oe.useState(t),[o]=n,a=oe.useRef(o),l=ty(e);return oe.useEffect(()=>{a.current!==o&&(l(o),a.current=o)},[o,a,l]),n}function ry({prop:t,defaultProp:e,onChange:n=()=>{}}){const[o,a]=pj({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:o,f=ty(n),h=oe.useCallback(m=>{if(l){const v=typeof m=="function"?m(t):m;v!==t&&f(v)}else a(m)},[l,t,a,f]);return[c,h]}function mj({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:n,drawerRef:o,overlayRef:a,fadeFromIndex:l,onSnapPointChange:c,direction:f="bottom",container:h,snapToSequentialPoint:m}){const[y,v]=ry({prop:t,defaultProp:n?.[0],onChange:e}),[w,k]=oe.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);oe.useEffect(()=>{function D(){k({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const _=oe.useMemo(()=>y===n?.[n.length-1]||null,[n,y]),b=oe.useMemo(()=>{var D;return(D=n?.findIndex(L=>L===y))!=null?D:null},[n,y]),C=n&&n.length>0&&(l||l===0)&&!Number.isNaN(l)&&n[l]===y||!n,E=oe.useMemo(()=>{const D=h?{width:h.getBoundingClientRect().width,height:h.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var L;return(L=n?.map(q=>{const W=typeof q=="string";let Z=0;if(W&&(Z=parseInt(q,10)),ct(f)){const K=W?Z:w?q*D.height:0;return w?f==="bottom"?D.height-K:-D.height+K:K}const ne=W?Z:w?q*D.width:0;return w?f==="right"?D.width-ne:-D.width+ne:ne}))!=null?L:[]},[n,w,h]),N=oe.useMemo(()=>b!==null?E?.[b]:null,[E,b]),j=oe.useCallback(D=>{var L;const q=(L=E?.findIndex(W=>W===D))!=null?L:null;c(q),pt(o.current,{transition:`transform ${tt.DURATION}s cubic-bezier(${tt.EASE.join(",")})`,transform:ct(f)?`translate3d(0, ${D}px, 0)`:`translate3d(${D}px, 0, 0)`}),E&&q!==E.length-1&&l!==void 0&&q!==l&&q<l?pt(a.current,{transition:`opacity ${tt.DURATION}s cubic-bezier(${tt.EASE.join(",")})`,opacity:"0"}):pt(a.current,{transition:`opacity ${tt.DURATION}s cubic-bezier(${tt.EASE.join(",")})`,opacity:"1"}),v(n?.[Math.max(q,0)])},[o.current,n,E,l,a,v]);oe.useEffect(()=>{if(y||t){var D;const L=(D=n?.findIndex(q=>q===t||q===y))!=null?D:-1;E&&L!==-1&&typeof E[L]=="number"&&j(E[L])}},[y,t,n,E,j]);function P({draggedDistance:D,closeDrawer:L,velocity:q,dismissible:W}){if(l===void 0)return;const Z=f==="bottom"||f==="right"?(N??0)-D:(N??0)+D,ne=b===l-1,K=b===0,ie=D>0;if(ne&&pt(a.current,{transition:`opacity ${tt.DURATION}s cubic-bezier(${tt.EASE.join(",")})`}),!m&&q>2&&!ie){W?L():j(E[0]);return}if(!m&&q>2&&ie&&E&&n){j(E[n.length-1]);return}const ce=E?.reduce((ee,R)=>typeof ee!="number"||typeof R!="number"?ee:Math.abs(R-Z)<Math.abs(ee-Z)?R:ee),Q=ct(f)?window.innerHeight:window.innerWidth;if(q>Zv&&Math.abs(D)<Q*.4){const ee=ie?1:-1;if(ee>0&&_&&n){j(E[n.length-1]);return}if(K&&ee<0&&W&&L(),b===null)return;j(E[b+ee]);return}j(ce)}function z({draggedDistance:D}){if(N===null)return;const L=f==="bottom"||f==="right"?N-D:N+D;(f==="bottom"||f==="right")&&L<E[E.length-1]||(f==="top"||f==="left")&&L>E[E.length-1]||pt(o.current,{transform:ct(f)?`translate3d(0, ${L}px, 0)`:`translate3d(${L}px, 0, 0)`})}function F(D,L){if(!n||typeof b!="number"||!E||l===void 0)return null;const q=b===l-1;if(b>=l&&L)return 0;if(q&&!L)return 1;if(!C&&!q)return null;const Z=q?b+1:b-1,ne=q?E[Z]-E[Z-1]:E[Z+1]-E[Z],K=D/Math.abs(ne);return q?1-K:K}return{isLastSnapPoint:_,activeSnapPoint:y,shouldFade:C,getPercentageDragged:F,setActiveSnapPoint:v,activeSnapPointIndex:b,onRelease:P,onDrag:z,snapPointsOffset:E}}const gj=()=>()=>{};function vj(){const{direction:t,isOpen:e,shouldScaleBackground:n,setBackgroundColorOnScale:o,noBodyStyles:a}=Sa(),l=oe.useRef(null),c=x.useMemo(()=>document.body.style.backgroundColor,[]);function f(){return(window.innerWidth-bd)/window.innerWidth}oe.useEffect(()=>{if(e&&n){l.current&&clearTimeout(l.current);const h=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!h)return;dj(o&&!a?Ku(document.body,{background:"black"}):gj,Ku(h,{transformOrigin:ct(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${tt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${tt.EASE.join(",")})`}));const m=Ku(h,{borderRadius:`${ey}px`,overflow:"hidden",...ct(t)?{transform:`scale(${f()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${f()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{m(),l.current=window.setTimeout(()=>{c?document.body.style.background=c:document.body.style.removeProperty("background")},tt.DURATION*1e3)}}},[e,n,c])}let ia=null;function yj({isOpen:t,modal:e,nested:n,hasBeenOpened:o,preventScrollRestoration:a,noBodyStyles:l}){const[c,f]=oe.useState(()=>typeof window<"u"?window.location.href:""),h=oe.useRef(0),m=oe.useCallback(()=>{if(ng()&&ia===null&&t&&!l){ia={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:v,innerHeight:w}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-h.current}px`,left:`${-v}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const k=w-window.innerHeight;k&&h.current>=w&&(document.body.style.top=`${-(h.current+k)}px`)}),300)}},[t]),y=oe.useCallback(()=>{if(ng()&&ia!==null&&!l){const v=-parseInt(document.body.style.top,10),w=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ia),window.requestAnimationFrame(()=>{if(a&&c!==window.location.href){f(window.location.href);return}window.scrollTo(w,v)}),ia=null}},[c]);return oe.useEffect(()=>{function v(){h.current=window.scrollY}return v(),window.addEventListener("scroll",v),()=>{window.removeEventListener("scroll",v)}},[]),oe.useEffect(()=>{if(e)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||y()}},[e,y]),oe.useEffect(()=>{n||!o||(t?(!window.matchMedia("(display-mode: standalone)").matches&&m(),e||window.setTimeout(()=>{y()},500)):y())},[t,o,c,e,n,m,y]),{restorePositionSetting:y}}function wj({open:t,onOpenChange:e,children:n,onDrag:o,onRelease:a,snapPoints:l,shouldScaleBackground:c=!1,setBackgroundColorOnScale:f=!0,closeThreshold:h=fj,scrollLockTimeout:m=hj,dismissible:y=!0,handleOnly:v=!1,fadeFromIndex:w=l&&l.length-1,activeSnapPoint:k,setActiveSnapPoint:_,fixed:b,modal:C=!0,onClose:E,nested:N,noBodyStyles:j=!1,direction:P="bottom",defaultOpen:z=!1,disablePreventScroll:F=!0,snapToSequentialPoint:D=!1,preventScrollRestoration:L=!1,repositionInputs:q=!0,onAnimationEnd:W,container:Z,autoFocus:ne=!1}){var K,ie;const[ce=!1,Q]=ry({defaultProp:z,prop:t,onChange:Ce=>{e?.(Ce),!Ce&&!N&&wo(),setTimeout(()=>{W?.(Ce)},tt.DURATION*1e3),Ce&&!C&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Ce||(document.body.style.pointerEvents="auto")}}),[ee,R]=oe.useState(!1),[V,G]=oe.useState(!1),[O,M]=oe.useState(!1),te=oe.useRef(null),ae=oe.useRef(null),se=oe.useRef(null),ve=oe.useRef(null),H=oe.useRef(null),le=oe.useRef(!1),ye=oe.useRef(null),be=oe.useRef(0),Re=oe.useRef(!1),Fe=oe.useRef(!z),at=oe.useRef(0),_e=oe.useRef(null),Mr=oe.useRef(((K=_e.current)==null?void 0:K.getBoundingClientRect().height)||0),Lr=oe.useRef(((ie=_e.current)==null?void 0:ie.getBoundingClientRect().width)||0),or=oe.useRef(0),ja=oe.useCallback(Ce=>{l&&Ce===tn.length-1&&(ae.current=new Date)},[]),{activeSnapPoint:go,activeSnapPointIndex:Jt,setActiveSnapPoint:$r,onRelease:vo,snapPointsOffset:tn,onDrag:Na,shouldFade:yo,getPercentageDragged:Ta}=mj({snapPoints:l,activeSnapPointProp:k,setActiveSnapPointProp:_,drawerRef:_e,fadeFromIndex:w,overlayRef:te,onSnapPointChange:ja,direction:P,container:Z,snapToSequentialPoint:D});sj({isDisabled:!ce||V||!C||O||!ee||!q||!F});const{restorePositionSetting:wo}=yj({isOpen:ce,modal:C,nested:N??!1,hasBeenOpened:ee,preventScrollRestoration:L,noBodyStyles:j});function Ur(){return(window.innerWidth-bd)/window.innerWidth}function Ra(Ce){var Le,$e;!y&&!l||_e.current&&!_e.current.contains(Ce.target)||(Mr.current=((Le=_e.current)==null?void 0:Le.getBoundingClientRect().height)||0,Lr.current=(($e=_e.current)==null?void 0:$e.getBoundingClientRect().width)||0,G(!0),se.current=new Date,Yv()&&window.addEventListener("touchend",()=>le.current=!1,{once:!0}),Ce.target.setPointerCapture(Ce.pointerId),be.current=ct(P)?Ce.pageY:Ce.pageX)}function rn(Ce,Le){var $e;let Ie=Ce;const Je=($e=window.getSelection())==null?void 0:$e.toString(),xt=_e.current?Xi(_e.current,P):null,gt=new Date;if(Ie.tagName==="SELECT"||Ie.hasAttribute("data-vaul-no-drag")||Ie.closest("[data-vaul-no-drag]"))return!1;if(P==="right"||P==="left")return!0;if(ae.current&&gt.getTime()-ae.current.getTime()<500)return!1;if(xt!==null&&(P==="bottom"?xt>0:xt<0))return!0;if(Je&&Je.length>0)return!1;if(H.current&&gt.getTime()-H.current.getTime()<m&&xt===0||Le)return H.current=gt,!1;for(;Ie;){if(Ie.scrollHeight>Ie.clientHeight){if(Ie.scrollTop!==0)return H.current=new Date,!1;if(Ie.getAttribute("role")==="dialog")return!0}Ie=Ie.parentNode}return!0}function Ln(Ce){if(_e.current&&V){const Le=P==="bottom"||P==="right"?1:-1,$e=(be.current-(ct(P)?Ce.pageY:Ce.pageX))*Le,Ie=$e>0,Je=l&&!y&&!Ie;if(Je&&Jt===0)return;const xt=Math.abs($e),gt=document.querySelector("[data-vaul-drawer-wrapper]"),ar=P==="bottom"||P==="top"?Mr.current:Lr.current;let It=xt/ar;const ir=Ta(xt,Ie);if(ir!==null&&(It=ir),Je&&It>=1||!le.current&&!rn(Ce.target,Ie))return;if(_e.current.classList.add(Gu),le.current=!0,pt(_e.current,{transition:"none"}),pt(te.current,{transition:"none"}),l&&Na({draggedDistance:$e}),Ie&&!l){const Ct=uj($e),nn=Math.min(Ct*-1,0)*Le;pt(_e.current,{transform:ct(P)?`translate3d(0, ${nn}px, 0)`:`translate3d(${nn}px, 0, 0)`});return}const lr=1-It;if((yo||w&&Jt===w-1)&&(o?.(Ce,It),pt(te.current,{opacity:`${lr}`,transition:"none"},!0)),gt&&te.current&&c){const Ct=Math.min(Ur()+It*(1-Ur()),1),nn=8-It*8,sn=Math.max(0,14-It*14);pt(gt,{borderRadius:`${nn}px`,transform:ct(P)?`scale(${Ct}) translate3d(0, ${sn}px, 0)`:`scale(${Ct}) translate3d(${sn}px, 0, 0)`,transition:"none"},!0)}if(!l){const Ct=xt*Le;pt(_e.current,{transform:ct(P)?`translate3d(0, ${Ct}px, 0)`:`translate3d(${Ct}px, 0, 0)`})}}}oe.useEffect(()=>{window.requestAnimationFrame(()=>{Fe.current=!0})},[]),oe.useEffect(()=>{var Ce;function Le(){if(!_e.current||!q)return;const $e=document.activeElement;if(xd($e)||Re.current){var Ie;const Je=((Ie=window.visualViewport)==null?void 0:Ie.height)||0,xt=window.innerHeight;let gt=xt-Je;const ar=_e.current.getBoundingClientRect().height||0,It=ar>xt*.8;or.current||(or.current=ar);const ir=_e.current.getBoundingClientRect().top;if(Math.abs(at.current-gt)>60&&(Re.current=!Re.current),l&&l.length>0&&tn&&Jt){const lr=tn[Jt]||0;gt+=lr}if(at.current=gt,ar>Je||Re.current){const lr=_e.current.getBoundingClientRect().height;let Ct=lr;lr>Je&&(Ct=Je-(It?ir:bd)),b?_e.current.style.height=`${lr-Math.max(gt,0)}px`:_e.current.style.height=`${Math.max(Ct,Je-ir)}px`}else QE()||(_e.current.style.height=`${or.current}px`);l&&l.length>0&&!Re.current?_e.current.style.bottom="0px":_e.current.style.bottom=`${Math.max(gt,0)}px`}}return(Ce=window.visualViewport)==null||Ce.addEventListener("resize",Le),()=>{var $e;return($e=window.visualViewport)==null?void 0:$e.removeEventListener("resize",Le)}},[Jt,l,tn]);function $n(Ce){Pa(),E?.(),Ce||Q(!1),setTimeout(()=>{l&&$r(l[0])},tt.DURATION*1e3)}function xo(){if(!_e.current)return;const Ce=document.querySelector("[data-vaul-drawer-wrapper]"),Le=Xi(_e.current,P);pt(_e.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${tt.DURATION}s cubic-bezier(${tt.EASE.join(",")})`}),pt(te.current,{transition:`opacity ${tt.DURATION}s cubic-bezier(${tt.EASE.join(",")})`,opacity:"1"}),c&&Le&&Le>0&&ce&&pt(Ce,{borderRadius:`${ey}px`,overflow:"hidden",...ct(P)?{transform:`scale(${Ur()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ur()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${tt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${tt.EASE.join(",")})`},!0)}function Pa(){!V||!_e.current||(_e.current.classList.remove(Gu),le.current=!1,G(!1),ve.current=new Date)}function Ll(Ce){if(!V||!_e.current)return;_e.current.classList.remove(Gu),le.current=!1,G(!1),ve.current=new Date;const Le=Xi(_e.current,P);if(!Ce||!rn(Ce.target,!1)||!Le||Number.isNaN(Le)||se.current===null)return;const $e=ve.current.getTime()-se.current.getTime(),Ie=be.current-(ct(P)?Ce.pageY:Ce.pageX),Je=Math.abs(Ie)/$e;if(Je>.05&&(M(!0),setTimeout(()=>{M(!1)},200)),l){vo({draggedDistance:Ie*(P==="bottom"||P==="right"?1:-1),closeDrawer:$n,velocity:Je,dismissible:y}),a?.(Ce,!0);return}if(P==="bottom"||P==="right"?Ie>0:Ie<0){xo(),a?.(Ce,!0);return}if(Je>Zv){$n(),a?.(Ce,!1);return}var xt;const gt=Math.min((xt=_e.current.getBoundingClientRect().height)!=null?xt:0,window.innerHeight);var ar;const It=Math.min((ar=_e.current.getBoundingClientRect().width)!=null?ar:0,window.innerWidth),ir=P==="left"||P==="right";if(Math.abs(Le)>=(ir?It:gt)*h){$n(),a?.(Ce,!1);return}a?.(Ce,!0),xo()}oe.useEffect(()=>(ce&&(pt(document.documentElement,{scrollBehavior:"auto"}),ae.current=new Date),()=>{cj(document.documentElement,"scrollBehavior")}),[ce]);function bo(Ce){const Le=Ce?(window.innerWidth-rs)/window.innerWidth:1,$e=Ce?-rs:0;ye.current&&window.clearTimeout(ye.current),pt(_e.current,{transition:`transform ${tt.DURATION}s cubic-bezier(${tt.EASE.join(",")})`,transform:ct(P)?`scale(${Le}) translate3d(0, ${$e}px, 0)`:`scale(${Le}) translate3d(${$e}px, 0, 0)`}),!Ce&&_e.current&&(ye.current=setTimeout(()=>{const Ie=Xi(_e.current,P);pt(_e.current,{transition:"none",transform:ct(P)?`translate3d(0, ${Ie}px, 0)`:`translate3d(${Ie}px, 0, 0)`})},500))}function _o(Ce,Le){if(Le<0)return;const $e=(window.innerWidth-rs)/window.innerWidth,Ie=$e+Le*(1-$e),Je=-rs+Le*rs;pt(_e.current,{transform:ct(P)?`scale(${Ie}) translate3d(0, ${Je}px, 0)`:`scale(${Ie}) translate3d(${Je}px, 0, 0)`,transition:"none"})}function So(Ce,Le){const $e=ct(P)?window.innerHeight:window.innerWidth,Ie=Le?($e-rs)/$e:1,Je=Le?-rs:0;Le&&pt(_e.current,{transition:`transform ${tt.DURATION}s cubic-bezier(${tt.EASE.join(",")})`,transform:ct(P)?`scale(${Ie}) translate3d(0, ${Je}px, 0)`:`scale(${Ie}) translate3d(${Je}px, 0, 0)`})}return oe.useEffect(()=>{C||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[C]),oe.createElement(WE,{defaultOpen:z,onOpenChange:Ce=>{!y&&!Ce||(Ce?R(!0):$n(!0),Q(Ce))},open:ce},oe.createElement(Gv.Provider,{value:{activeSnapPoint:go,snapPoints:l,setActiveSnapPoint:$r,drawerRef:_e,overlayRef:te,onOpenChange:e,onPress:Ra,onRelease:Ll,onDrag:Ln,dismissible:y,shouldAnimate:Fe,handleOnly:v,isOpen:ce,isDragging:V,shouldFade:yo,closeDrawer:$n,onNestedDrag:_o,onNestedOpenChange:bo,onNestedRelease:So,keyboardIsOpen:Re,modal:C,snapPointsOffset:tn,activeSnapPointIndex:Jt,direction:P,shouldScaleBackground:c,setBackgroundColorOnScale:f,noBodyStyles:j,container:Z,autoFocus:ne}},n))}const ny=oe.forwardRef(function({...t},e){const{overlayRef:n,snapPoints:o,onRelease:a,shouldFade:l,isOpen:c,modal:f,shouldAnimate:h}=Sa(),m=Qv(e,n),y=o&&o.length>0;if(!f)return null;const v=oe.useCallback(w=>a(w),[a]);return oe.createElement(qE,{onMouseUp:v,ref:m,"data-vaul-overlay":"","data-vaul-snap-points":c&&y?"true":"false","data-vaul-snap-points-overlay":c&&l?"true":"false","data-vaul-animate":h?.current?"true":"false",...t})});ny.displayName="Drawer.Overlay";const sy=oe.forwardRef(function({onPointerDownOutside:t,style:e,onOpenAutoFocus:n,...o},a){const{drawerRef:l,onPress:c,onRelease:f,onDrag:h,keyboardIsOpen:m,snapPointsOffset:y,activeSnapPointIndex:v,modal:w,isOpen:k,direction:_,snapPoints:b,container:C,handleOnly:E,shouldAnimate:N,autoFocus:j}=Sa(),[P,z]=oe.useState(!1),F=Qv(a,l),D=oe.useRef(null),L=oe.useRef(null),q=oe.useRef(!1),W=b&&b.length>0;vj();const Z=(K,ie,ce=0)=>{if(q.current)return!0;const Q=Math.abs(K.y),ee=Math.abs(K.x),R=ee>Q,V=["bottom","right"].includes(ie)?1:-1;if(ie==="left"||ie==="right"){if(!(K.x*V<0)&&ee>=0&&ee<=ce)return R}else if(!(K.y*V<0)&&Q>=0&&Q<=ce)return!R;return q.current=!0,!0};oe.useEffect(()=>{W&&window.requestAnimationFrame(()=>{z(!0)})},[]);function ne(K){D.current=null,q.current=!1,f(K)}return oe.createElement(KE,{"data-vaul-drawer-direction":_,"data-vaul-drawer":"","data-vaul-delayed-snap-points":P?"true":"false","data-vaul-snap-points":k&&W?"true":"false","data-vaul-custom-container":C?"true":"false","data-vaul-animate":N?.current?"true":"false",...o,ref:F,style:y&&y.length>0?{"--snap-point-height":`${y[v??0]}px`,...e}:e,onPointerDown:K=>{E||(o.onPointerDown==null||o.onPointerDown.call(o,K),D.current={x:K.pageX,y:K.pageY},c(K))},onOpenAutoFocus:K=>{n?.(K),j||K.preventDefault()},onPointerDownOutside:K=>{if(t?.(K),!w||K.defaultPrevented){K.preventDefault();return}m.current&&(m.current=!1)},onFocusOutside:K=>{if(!w){K.preventDefault();return}},onPointerMove:K=>{if(L.current=K,E||(o.onPointerMove==null||o.onPointerMove.call(o,K),!D.current))return;const ie=K.pageY-D.current.y,ce=K.pageX-D.current.x,Q=K.pointerType==="touch"?10:2;Z({x:ce,y:ie},_,Q)?h(K):(Math.abs(ce)>Q||Math.abs(ie)>Q)&&(D.current=null)},onPointerUp:K=>{o.onPointerUp==null||o.onPointerUp.call(o,K),D.current=null,q.current=!1,f(K)},onPointerOut:K=>{o.onPointerOut==null||o.onPointerOut.call(o,K),ne(L.current)},onContextMenu:K=>{o.onContextMenu==null||o.onContextMenu.call(o,K),L.current&&ne(L.current)}})});sy.displayName="Drawer.Content";const xj=250,bj=120,_j=oe.forwardRef(function({preventCycle:t=!1,children:e,...n},o){const{closeDrawer:a,isDragging:l,snapPoints:c,activeSnapPoint:f,setActiveSnapPoint:h,dismissible:m,handleOnly:y,isOpen:v,onPress:w,onDrag:k}=Sa(),_=oe.useRef(null),b=oe.useRef(!1);function C(){if(b.current){j();return}window.setTimeout(()=>{E()},bj)}function E(){if(l||t||b.current){j();return}if(j(),!c||c.length===0){m||a();return}if(f===c[c.length-1]&&m){a();return}const z=c.findIndex(D=>D===f);if(z===-1)return;const F=c[z+1];h(F)}function N(){_.current=window.setTimeout(()=>{b.current=!0},xj)}function j(){_.current&&window.clearTimeout(_.current),b.current=!1}return oe.createElement("div",{onClick:C,onPointerCancel:j,onPointerDown:P=>{y&&w(P),N()},onPointerMove:P=>{y&&k(P)},ref:o,"data-vaul-drawer-visible":v?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},oe.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},e))});_j.displayName="Drawer.Handle";function Sj(t){const e=Sa(),{container:n=e.container,...o}=t;return oe.createElement(HE,{container:n,...o})}const Ir={Root:wj,Content:sy,Overlay:ny,Portal:Sj,Title:GE,Description:YE};function kj({...t}){return u.jsx(Ir.Root,{"data-slot":"drawer",...t})}function Cj({...t}){return u.jsx(Ir.Portal,{"data-slot":"drawer-portal",...t})}const oy=x.forwardRef(({className:t,...e},n)=>u.jsx(Ir.Overlay,{ref:n,"data-slot":"drawer-overlay",className:Be("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));oy.displayName=Ir.Overlay.displayName;const ay=x.forwardRef(({className:t,children:e,...n},o)=>u.jsxs(Ir.Content,{ref:o,"data-slot":"drawer-content",className:Be("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...n,children:[u.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),e]}));ay.displayName=Ir.Content.displayName;function Ej({className:t,...e}){return u.jsx("div",{"data-slot":"drawer-header",className:Be("flex flex-col gap-1.5 p-4",t),...e})}function jj({className:t,...e}){return u.jsx("div",{"data-slot":"drawer-footer",className:Be("mt-auto flex flex-col gap-2 p-4",t),...e})}const iy=x.forwardRef(({className:t,...e},n)=>u.jsx(Ir.Title,{ref:n,"data-slot":"drawer-title",className:Be("text-foreground font-semibold",t),...e}));iy.displayName=Ir.Title.displayName;const ly=x.forwardRef(({className:t,...e},n)=>u.jsx(Ir.Description,{ref:n,"data-slot":"drawer-description",className:Be("text-muted-foreground text-sm",t),...e}));ly.displayName=Ir.Description.displayName;function Ke({className:t,type:e,...n}){return u.jsx("input",{type:e,"data-slot":"input",className:Be("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}async function Nj(t,e,n){try{const{data:o,error:a}=await de.from("post_likes").select("user_id").eq("post_id",t).eq("user_id",n).maybeSingle();if(a)throw a;let l=e,c=!1;if(o){const{error:h}=await de.from("post_likes").delete().eq("post_id",t).eq("user_id",n);if(h)throw h;l=Math.max(0,e-1),c=!1}else{const{error:h}=await de.from("post_likes").insert([{post_id:t,user_id:n,created_at:new Date().toISOString()}]);if(h)throw h;l=e+1,c=!0}const{error:f}=await de.from("posts").update({likes:l}).eq("id",t);if(f)throw f;return{newLikes:l,isLiked:c}}catch(o){throw console.error("Error handling like:",o),o}}async function Tj(t,e){try{const{data:n,error:o}=await de.from("saved_posts").select("user_id").eq("post_id",t).eq("user_id",e).single();if(o&&o.code!=="PGRST116")throw o;let a=!1;if(n){const{error:l}=await de.from("saved_posts").delete().eq("user_id",e).eq("post_id",t);if(l)throw l;a=!1}else{const{error:l}=await de.from("saved_posts").insert([{post_id:t,user_id:e,saved_at:new Date().toISOString()}]);if(l)throw l;a=!0}return a}catch(n){throw console.error("Error handling save:",n),n}}async function Rj(t,e,n){try{if(!n.trim()){console.warn("Comment content cannot be empty.");return}const{error:o}=await de.from("comments").insert([{id:crypto.randomUUID(),post_id:t,user_id:e,content:n,created_at:new Date().toISOString()}]);if(o)throw o;const{data:a}=await de.from("posts").select("comments").eq("id",t).single(),l=(a?.comments||0)+1,{error:c}=await de.from("posts").update({comments:l}).eq("id",t);if(c)throw c;console.log("Comment added successfully!")}catch(o){throw console.error("Error handling comment:",o),o}}function Pj({postId:t,isOpen:e,onClose:n,onCommentAdded:o}){const[a,l]=x.useState([]),[c,f]=x.useState(""),[h,m]=x.useState(!1);x.useEffect(()=>{e&&(console.log("CommentModal detected isOpen true for postId:",t),y())},[e,t]);const y=async()=>{m(!0);try{const{data:w,error:k}=await de.from("comments").select("id, content, created_at, user_id").eq("post_id",t).order("created_at",{ascending:!1});if(k)throw k;if(w&&w.length>0){const _=Array.from(new Set(w.map(N=>N.user_id))),{data:b,error:C}=await de.from("profiles").select("id, full_name, avatar_url, username").in("id",_);if(C)throw C;const E=w.map(N=>({...N,profiles:b?.find(j=>j.id===N.user_id)}));l(E)}else l([])}catch(w){console.error("Error fetching comments:",w)}finally{m(!1)}},v=async()=>{const{data:{user:w}}=await de.auth.getUser();if(!w){alert("You must be logged in to comment.");return}if(!c.trim()){alert("Comment cannot be empty.");return}m(!0);try{await Rj(t,w.id,c),f(""),await y(),o()}catch(k){console.error("Error adding comment:",k)}finally{m(!1)}};return u.jsx(kj,{open:e,onOpenChange:w=>{console.log("Drawer onOpenChange fired with:",w),w||n()},children:u.jsxs(Cj,{children:[u.jsx(oy,{style:{backgroundColor:"rgba(0,0,0,0.5)",position:"fixed",inset:0,zIndex:100}}),u.jsxs(ay,{className:"fixed bottom-0 left-0 right-0 z-[101] bg-white rounded-t-[10px] flex flex-col max-h-[80vh]",children:[u.jsx("div",{className:"mx-auto w-12 h-1.5 flex-shrink-0 rounded-full bg-zinc-300 my-4"}),u.jsxs(Ej,{children:[u.jsx(iy,{children:"Comments"}),u.jsx(ly,{children:"View and add comments to this post."})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[h&&u.jsx("p",{children:"Loading comments..."}),!h&&a.length===0&&u.jsx("p",{children:"No comments yet. Be the first to comment!"}),a.map(w=>u.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[u.jsx("img",{src:w.profiles?.avatar_url||"/placeholder-avatar.jpg",alt:w.profiles?.full_name||"User",className:"w-8 h-8 rounded-full"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:w.profiles?.full_name||w.profiles?.username||"Anonymous"}),u.jsx("p",{className:"text-sm text-gray-500",children:w.content}),u.jsx("p",{className:"text-xs text-gray-400",children:new Date(w.created_at).toLocaleString()})]})]},w.id))]}),u.jsx(jj,{className:"p-4 border-t bg-white",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ke,{placeholder:"Add a comment...",value:c,onChange:w=>f(w.target.value),onKeyPress:w=>{w.key==="Enter"&&v()}}),u.jsx(Ae,{onClick:v,disabled:h||!c.trim(),children:"Post"})]})})]})]})})}function ka({post:t}){const{postId:e,author:n,content:o,title:a,likes:l,comments:c,created_at:f,category:h}=t,[m,y]=x.useState(l),[v,w]=x.useState(!1),[k,_]=x.useState(!1),[b,C]=x.useState(!1),[E,N]=x.useState(c);x.useEffect(()=>{(async()=>{const{data:{user:q}}=await de.auth.getUser();if(!q)return;const{data:W}=await de.from("post_likes").select("post_id").eq("post_id",e).eq("user_id",q.id).maybeSingle();W&&w(!0);const{data:Z}=await de.from("saved_posts").select("post_id").eq("post_id",e).eq("user_id",q.id).maybeSingle();Z&&_(!0)})()},[e]);const j=async()=>{const{data:{user:L}}=await de.auth.getUser();if(!L)return alert("Login required");const q=v,W=m;w(!q),y(q?Math.max(0,W-1):W+1);try{const{newLikes:Z,isLiked:ne}=await Nj(e,W,L.id);y(Z),w(ne)}catch(Z){w(q),y(W),console.error("Error handling like from PostCard:",Z)}},P=async()=>{const{data:{user:L}}=await de.auth.getUser();if(!L)return alert("Login required");const q=k;_(!q);try{const W=await Tj(e,L.id);_(W)}catch(W){_(q),console.error("Error handling save from PostCard desarialise:",W)}},z=()=>{console.log("Comment button clicked for post:",e),C(!0),console.log("showCommentModal set to:",!0)},F=()=>{console.log("Closing comment modal for post:",e),C(!1),console.log("showCommentModal set to:",!1)},D=()=>{N(L=>L+1),console.log("Comment added, new count desarialise:",E+1)};return u.jsxs(xr,{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs(hs,{children:[u.jsx(ps,{src:n?.avatar_url}),u.jsx(ms,{children:n?.full_name?n.full_name[0]:"?"})]}),u.jsxs("div",{children:[u.jsx("p",{children:n?.full_name||"Anonymous"}),u.jsxs("p",{className:"text-sm opacity-60",children:["@",n?.username||"user","  ",f]})]})]}),u.jsx(Ae,{variant:"ghost",size:"icon",children:u.jsx(xb,{className:"w-5 h-5"})})]}),a&&u.jsx("h3",{className:"mb-3",children:a}),u.jsx("div",{className:"mb-4 whitespace-pre-line italic opacity-80",children:o}),u.jsxs("div",{className:"flex items-center gap-6 pt-4 border-t",children:[u.jsxs("button",{onClick:j,className:"flex items-center gap-2",children:[u.jsx(Jr,{className:"w-5 h-5",fill:v?"var(--theme-primary)":"none",color:v?"var(--theme-primary)":"currentColor"}),u.jsx("span",{children:m})]}),u.jsxs("button",{onClick:z,className:"flex items-center gap-2 opacity-70",children:[" ",u.jsx(is,{className:"w-5 h-5"}),u.jsx("span",{children:E})]}),u.jsx("button",{onClick:P,className:"ml-auto",children:u.jsx(Eg,{className:"w-5 h-5",fill:k?"var(--theme-primary)":"none",color:k?"var(--theme-primary)":"currentColor"})})]}),u.jsx(Pj,{postId:e,isOpen:b,onClose:F,onCommentAdded:D})]})}function ig(){const[t,e]=x.useState([]),[n,o]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{const{data:l,error:c}=await de.from("posts").select(`
            id,
            title,
            content,
            likes,
            comments,
            created_at,
            author:user_id (
              full_name,
              username,
              avatar_url
            )
          `).order("created_at",{ascending:!1});if(c)throw c;const f=(l||[]).map(h=>{const m=Array.isArray(h.author)?h.author[0]:h.author,y=m?.full_name||"Anonymous";return{postId:h.id,title:h.title,content:h.content,likes:h.likes||0,comments:h.comments||0,created_at:new Date(h.created_at).toLocaleDateString(),category:"General",author:{full_name:y,username:m?.username||"user",avatar_url:m?.avatar_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(y)}`}}});e(f)}catch(l){console.error("Error fetching posts:",l),e([])}finally{o(!1)}})()},[]),n?u.jsx("div",{className:"max-w-2xl mx-auto py-12 text-center",children:u.jsx("p",{children:"Loading posts..."})}):u.jsx("div",{className:"max-w-2xl mx-auto space-y-4",children:t.length>0?t.map((a,l)=>u.jsx(ka,{post:a},l)):u.jsxs("div",{className:"text-center py-20 border rounded-3xl",children:[u.jsx(ro,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),u.jsx("h2",{className:"text-xl mb-2",children:"No posts yet"}),u.jsx("p",{children:"Be the first to share something."})]})})}function lg(t){const e=Aj(t),n=x.forwardRef((o,a)=>{const{children:l,...c}=o,f=x.Children.toArray(l),h=f.find(Ij);if(h){const m=h.props.children,y=f.map(v=>v===h?x.Children.count(m)>1?x.Children.only(null):x.isValidElement(m)?m.props.children:null:v);return u.jsx(e,{...c,ref:a,children:x.isValidElement(m)?x.cloneElement(m,void 0,y):null})}return u.jsx(e,{...c,ref:a,children:l})});return n.displayName=`${t}.Slot`,n}function Aj(t){const e=x.forwardRef((n,o)=>{const{children:a,...l}=n;if(x.isValidElement(a)){const c=Mj(a),f=Dj(l,a.props);return a.type!==x.Fragment&&(f.ref=o?so(o,c):c),x.cloneElement(a,f)}return x.Children.count(a)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Oj=Symbol("radix.slottable");function Ij(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Oj}function Dj(t,e){const n={...e};for(const o in e){const a=t[o],l=e[o];/^on[A-Z]/.test(o)?a&&l?n[o]=(...f)=>{const h=l(...f);return a(...f),h}:a&&(n[o]=a):o==="style"?n[o]={...a,...l}:o==="className"&&(n[o]=[a,l].filter(Boolean).join(" "))}return{...t,...n}}function Mj(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function nf(t){const e=t+"CollectionProvider",[n,o]=In(e),[a,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=b=>{const{scope:C,children:E}=b,N=oe.useRef(null),j=oe.useRef(new Map).current;return u.jsx(a,{scope:C,itemMap:j,collectionRef:N,children:E})};c.displayName=e;const f=t+"CollectionSlot",h=lg(f),m=oe.forwardRef((b,C)=>{const{scope:E,children:N}=b,j=l(f,E),P=Ve(C,j.collectionRef);return u.jsx(h,{ref:P,children:N})});m.displayName=f;const y=t+"CollectionItemSlot",v="data-radix-collection-item",w=lg(y),k=oe.forwardRef((b,C)=>{const{scope:E,children:N,...j}=b,P=oe.useRef(null),z=Ve(C,P),F=l(y,E);return oe.useEffect(()=>(F.itemMap.set(P,{ref:P,...j}),()=>void F.itemMap.delete(P))),u.jsx(w,{[v]:"",ref:z,children:N})});k.displayName=y;function _(b){const C=l(t+"CollectionConsumer",b);return oe.useCallback(()=>{const N=C.collectionRef.current;if(!N)return[];const j=Array.from(N.querySelectorAll(`[${v}]`));return Array.from(C.itemMap.values()).sort((F,D)=>j.indexOf(F.ref.current)-j.indexOf(D.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:c,Slot:m,ItemSlot:k},_,o]}var Lj=x.createContext(void 0);function El(t){const e=x.useContext(Lj);return t||e||"ltr"}var Yu="rovingFocusGroup.onEntryFocus",$j={bubbles:!1,cancelable:!0},Ca="RovingFocusGroup",[_d,cy,Uj]=nf(Ca),[zj,uy]=In(Ca,[Uj]),[Fj,Bj]=zj(Ca),dy=x.forwardRef((t,e)=>u.jsx(_d.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(_d.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Vj,{...t,ref:e})})}));dy.displayName=Ca;var Vj=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:a=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...v}=t,w=x.useRef(null),k=Ve(e,w),_=El(l),[b,C]=ls({prop:c,defaultProp:f??null,onChange:h,caller:Ca}),[E,N]=x.useState(!1),j=Qr(m),P=cy(n),z=x.useRef(!1),[F,D]=x.useState(0);return x.useEffect(()=>{const L=w.current;if(L)return L.addEventListener(Yu,j),()=>L.removeEventListener(Yu,j)},[j]),u.jsx(Fj,{scope:n,orientation:o,dir:_,loop:a,currentTabStopId:b,onItemFocus:x.useCallback(L=>C(L),[C]),onItemShiftTab:x.useCallback(()=>N(!0),[]),onFocusableItemAdd:x.useCallback(()=>D(L=>L+1),[]),onFocusableItemRemove:x.useCallback(()=>D(L=>L-1),[]),children:u.jsx(Oe.div,{tabIndex:E||F===0?-1:0,"data-orientation":o,...v,ref:k,style:{outline:"none",...t.style},onMouseDown:Pe(t.onMouseDown,()=>{z.current=!0}),onFocus:Pe(t.onFocus,L=>{const q=!z.current;if(L.target===L.currentTarget&&q&&!E){const W=new CustomEvent(Yu,$j);if(L.currentTarget.dispatchEvent(W),!W.defaultPrevented){const Z=P().filter(Q=>Q.focusable),ne=Z.find(Q=>Q.active),K=Z.find(Q=>Q.id===b),ce=[ne,K,...Z].filter(Boolean).map(Q=>Q.ref.current);py(ce,y)}}z.current=!1}),onBlur:Pe(t.onBlur,()=>N(!1))})})}),fy="RovingFocusGroupItem",hy=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:a=!1,tabStopId:l,children:c,...f}=t,h=Rn(),m=l||h,y=Bj(fy,n),v=y.currentTabStopId===m,w=cy(n),{onFocusableItemAdd:k,onFocusableItemRemove:_,currentTabStopId:b}=y;return x.useEffect(()=>{if(o)return k(),()=>_()},[o,k,_]),u.jsx(_d.ItemSlot,{scope:n,id:m,focusable:o,active:a,children:u.jsx(Oe.span,{tabIndex:v?0:-1,"data-orientation":y.orientation,...f,ref:e,onMouseDown:Pe(t.onMouseDown,C=>{o?y.onItemFocus(m):C.preventDefault()}),onFocus:Pe(t.onFocus,()=>y.onItemFocus(m)),onKeyDown:Pe(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){y.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const E=qj(C,y.orientation,y.dir);if(E!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let j=w().filter(P=>P.focusable).map(P=>P.ref.current);if(E==="last")j.reverse();else if(E==="prev"||E==="next"){E==="prev"&&j.reverse();const P=j.indexOf(C.currentTarget);j=y.loop?Kj(j,P+1):j.slice(P+1)}setTimeout(()=>py(j))}}),children:typeof c=="function"?c({isCurrentTabStop:v,hasTabStop:b!=null}):c})})});hy.displayName=fy;var Wj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Hj(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function qj(t,e,n){const o=Hj(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return Wj[o]}function py(t,e=!1){const n=document.activeElement;for(const o of t)if(o===n||(o.focus({preventScroll:e}),document.activeElement!==n))return}function Kj(t,e){return t.map((n,o)=>t[(e+o)%t.length])}var Gj=dy,Yj=hy,jl="Tabs",[Jj]=In(jl,[uy]),my=uy(),[Qj,sf]=Jj(jl),gy=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:o,onValueChange:a,defaultValue:l,orientation:c="horizontal",dir:f,activationMode:h="automatic",...m}=t,y=El(f),[v,w]=ls({prop:o,onChange:a,defaultProp:l??"",caller:jl});return u.jsx(Qj,{scope:n,baseId:Rn(),value:v,onValueChange:w,orientation:c,dir:y,activationMode:h,children:u.jsx(Oe.div,{dir:y,"data-orientation":c,...m,ref:e})})});gy.displayName=jl;var vy="TabsList",yy=x.forwardRef((t,e)=>{const{__scopeTabs:n,loop:o=!0,...a}=t,l=sf(vy,n),c=my(n);return u.jsx(Gj,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:o,children:u.jsx(Oe.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:e})})});yy.displayName=vy;var wy="TabsTrigger",xy=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:o,disabled:a=!1,...l}=t,c=sf(wy,n),f=my(n),h=Sy(c.baseId,o),m=ky(c.baseId,o),y=o===c.value;return u.jsx(Yj,{asChild:!0,...f,focusable:!a,active:y,children:u.jsx(Oe.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":m,"data-state":y?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:h,...l,ref:e,onMouseDown:Pe(t.onMouseDown,v=>{!a&&v.button===0&&v.ctrlKey===!1?c.onValueChange(o):v.preventDefault()}),onKeyDown:Pe(t.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&c.onValueChange(o)}),onFocus:Pe(t.onFocus,()=>{const v=c.activationMode!=="manual";!y&&!a&&v&&c.onValueChange(o)})})})});xy.displayName=wy;var by="TabsContent",_y=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:o,forceMount:a,children:l,...c}=t,f=sf(by,n),h=Sy(f.baseId,o),m=ky(f.baseId,o),y=o===f.value,v=x.useRef(y);return x.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),u.jsx(lo,{present:a||y,children:({present:w})=>u.jsx(Oe.div,{"data-state":y?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":h,hidden:!w,id:m,tabIndex:0,...c,ref:e,style:{...t.style,animationDuration:v.current?"0s":void 0},children:w&&l})})});_y.displayName=by;function Sy(t,e){return`${t}-trigger-${e}`}function ky(t,e){return`${t}-content-${e}`}var Xj=gy,Zj=yy,eN=xy,tN=_y;function co({className:t,...e}){return u.jsx(Xj,{"data-slot":"tabs",className:Be("flex flex-col gap-2",t),...e})}function uo({className:t,...e}){return u.jsx(Zj,{"data-slot":"tabs-list",className:Be("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function Rt({className:t,...e}){return u.jsx(eN,{"data-slot":"tabs-trigger",className:Be("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Pt({className:t,...e}){return u.jsx(tN,{"data-slot":"tabs-content",className:Be("flex-1 outline-none",t),...e})}const rN=zd("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Rr({className:t,variant:e,asChild:n=!1,...o}){const a=n?Lg:"span";return u.jsx(a,{"data-slot":"badge",className:Be(rN({variant:e}),t),...o})}const of=t=>{const e=new Date;switch(t){case"today":return e.setHours(0,0,0,0),e;case"week":const n=e.getDay(),o=e.getDate()-n+(n===0?-6:1),a=new Date(e.setDate(o));return a.setHours(0,0,0,0),a;case"month":return e.setDate(1),e.setHours(0,0,0,0),e;case"all":return null;default:return null}},nN=async t=>{let e=de.from("posts").select(`
      id,
      title,
      content,
      likes,
      comments,
      created_at,
      category,
      user_id,
      author:user_id (
        full_name,
        username,
        avatar_url
      )
    `).order("likes",{ascending:!1}).order("comments",{ascending:!1}).limit(10);const n=of(t);n&&(e=e.gte("created_at",n.toISOString()));const{data:o,error:a}=await e;return a?(console.error("Error fetching trending posts desarialise:",a),[]):o.map(l=>{const c=Array.isArray(l.author)?l.author[0]:l.author;return{postId:l.id,title:l.title||"Untitled",content:l.content,user_id:l.user_id||"",created_at:l.created_at,likes:l.likes,comments:l.comments,category:l.category||"",author:{full_name:c?.full_name||"Unknown",username:c?.username||"unknown",avatar_url:c?.avatar_url||""}}})},sN=async t=>{const e=of(t);let n=de.from("posts").select(`
      likes,
      user_id,
      author:user_id (
        full_name,
        username,
        avatar_url
      )
      `);e&&(n=n.gte("created_at",e.toISOString()));const{data:o,error:a}=await n;if(a)return console.error("Error fetching posts for trending authors desarialise:",a),[];const l={};return o.forEach(f=>{const h=Array.isArray(f.author)?f.author[0]:f.author;if(f.user_id&&h&&h.full_name&&h.username&&h.avatar_url){const m=f.user_id;l[m]||(l[m]={full_name:h.full_name,username:h.username,avatar_url:h.avatar_url,posts_count:0,total_likes:0}),l[m].posts_count++,l[m].total_likes+=f.likes}}),Object.values(l).sort((f,h)=>h.total_likes-f.total_likes).slice(0,5).map(f=>({...f,followers:"N/A"}))},oN=async t=>{let e=de.from("posts").select("category, id");const n=of(t);n&&(e=e.gte("created_at",n.toISOString()));const{data:o,error:a}=await e;if(a)return console.error("Error fetching trending topics desarialise:",a),[];const l=o,c={};return l.forEach(h=>{h.category&&(c[h.category]=(c[h.category]||0)+1)}),Object.entries(c).sort(([,h],[,m])=>m-h).slice(0,5).map(([h,m])=>({name:h,count:`${m} posts`,trending:"N/A"}))},aN=async(t,e)=>{const{data:n,error:o}=await de.rpc("find_buddy_match",{p_user:t,p_role:e});if(o)throw console.error("Matchmaking error desarialise:",o),o;return n},iN=async(t,e,n)=>{const{error:o}=await de.from("messages").insert({chat_id:t,sender_id:e,content:n});if(o)throw console.error("Send message error desarialise:",o),o},lN=async(t,e,n)=>{const{error:o}=await de.from("buddy_requests").insert({chat_id:t,from_user:e,to_user:n});if(o)throw console.error("Buddy request error desarialise:",o),o},cN=async(t,e,n)=>{const{error:o}=await de.rpc("accept_buddy_request",{p_chat_id:t,p_user_a:e,p_user_b:n});if(o)throw console.error("Accept buddy error desarialise:",o),o},cg=async t=>{const{error:e}=await de.from("matchmaking_queue").delete().eq("user_id",t);if(e)throw console.error("Cancel matchmaking error desarialise:",e),e},uN=async t=>{if(!t)return[];const{data:e,error:n}=await de.from("posts").select(`
      id,
      title,
      content,
      likes,
      comments,
      created_at,
      category,
      user_id,
      author:user_id (
        full_name,
        username,
        avatar_url
      )
    `).or(`title.ilike.%${t}%,content.ilike.%${t}%,category.ilike.%${t}%`);return n?(console.error("Error searching posts desarialise:",n),[]):e.map(o=>{const a=Array.isArray(o.author)?o.author[0]:o.author;return{postId:o.id,title:o.title||"Untitled",content:o.content,user_id:o.user_id||"",created_at:o.created_at,likes:o.likes,comments:o.comments,category:o.category||"",author:{full_name:a?.full_name||"Unknown",username:a?.username||"unknown",avatar_url:a?.avatar_url||""}}})},dN=async t=>{if(!t)return[];const{data:e,error:n}=await de.from("profiles").select(`
      id,
      full_name,
      username,
      avatar_url
    `).or(`full_name.ilike.%${t}%,username.ilike.%${t}%`);return n?(console.error("Error searching users desarialise:",n),[]):e.map(o=>({id:o.id,full_name:o.full_name||"",username:o.username||"",avatar_url:o.avatar_url||""}))};function Cy(){const[t,e]=x.useState("today"),[n,o]=x.useState([]),[a,l]=x.useState([]),[c,f]=x.useState([]),[h,m]=x.useState(!0);return x.useEffect(()=>{async function y(){m(!0);try{const[v,w,k]=await Promise.all([nN(t),sN(t),oN(t)]),_=v.map(b=>({...b,created_at:new Date(b.created_at).toLocaleDateString()}));o(_),l(w),f(k)}catch(v){console.error("Error fetching trending data:",v)}finally{m(!1)}}y()},[t]),u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--theme-accent)"},children:u.jsx(um,{className:"w-6 h-6",style:{color:"var(--theme-primary)"}})}),u.jsx("h1",{style:{color:"var(--theme-text)"},children:"Trending"})]}),u.jsx("p",{style:{color:"var(--theme-text)",opacity:.7},children:"Discover the most popular poems and stories right now"})]}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:[{id:"today",label:"Today",icon:gb},{id:"week",label:"This Week",icon:jg},{id:"month",label:"This Month",icon:null},{id:"all",label:"All Time",icon:null}].map(y=>u.jsxs(Ae,{variant:t===y.id?"default":"outline",size:"sm",onClick:()=>e(y.id),className:"rounded-xl",style:{background:t===y.id?"linear-gradient(to right, var(--theme-primary), var(--theme-secondary))":"transparent",color:t===y.id?"white":"var(--theme-primary)",borderColor:t===y.id?"transparent":"var(--theme-primary)"},children:[y.icon&&u.jsx(y.icon,{className:"w-4 h-4 mr-2"}),y.label]},y.id))}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{style:{color:"var(--theme-text)"},children:"Top Posts"}),u.jsx(Rr,{className:"px-3 py-1",style:{backgroundColor:"var(--theme-accent)",color:"var(--theme-primary)"},children:"Updated hourly"})]}),h?u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-50",children:[u.jsx(Pg,{className:"w-10 h-10 animate-spin mb-4",style:{color:"var(--theme-primary)"}}),u.jsx("p",{style:{color:"var(--theme-text)"},children:"Loading trending content..."})]}):n.length>0?n.map((y,v)=>u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute -left-2 -top-2 w-8 h-8 rounded-full flex items-center justify-center shadow-lg z-10",style:{background:v<3?"linear-gradient(to bottom right, var(--theme-primary), var(--theme-secondary))":"var(--theme-accent)",color:v<3?"white":"var(--theme-primary)"},children:u.jsx("span",{className:"font-bold",children:v+1})}),u.jsx(ka,{post:y})]},y.postId||v)):u.jsx("div",{className:"text-center py-20 opacity-50",children:u.jsx("p",{style:{color:"var(--theme-text)"},children:"No trending posts found for this period."})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"rounded-2xl p-5 shadow-md",style:{backgroundColor:"var(--theme-card-bg)",border:"1px solid var(--theme-primary)33"},children:[u.jsxs("h3",{className:"mb-4 flex items-center gap-2",style:{color:"var(--theme-text)"},children:[u.jsx(Dg,{className:"w-5 h-5",style:{color:"var(--theme-primary)"}}),"Trending Authors"]}),u.jsx("div",{className:"space-y-4",children:h?Array.from({length:3}).map((y,v)=>u.jsxs("div",{className:"flex items-center gap-3 animate-pulse",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex-shrink-0"}),u.jsx("div",{className:"w-10 h-10 rounded-full bg-muted flex-shrink-0"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),u.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]},v)):a.length>0?a.map((y,v)=>u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{background:"linear-gradient(to bottom right, var(--theme-primary), var(--theme-secondary))",color:"white"},children:v+1}),u.jsx("img",{src:y.avatar||"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop",alt:y.name,className:"w-10 h-10 rounded-full object-cover"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"truncate",style:{color:"var(--theme-text)"},children:u.jsx("strong",{children:y.name})}),u.jsxs("p",{className:"text-sm truncate",style:{color:"var(--theme-text)",opacity:.6},children:[y.posts_count," posts"]})]}),u.jsx(Ae,{size:"sm",className:"rounded-lg",style:{backgroundColor:"var(--theme-primary)",color:"white"},children:"Follow"})]},y.username||v)):u.jsx("p",{className:"text-sm text-center py-4 opacity-50",style:{color:"var(--theme-text)"},children:"No trending authors yet."})})]}),u.jsxs("div",{className:"rounded-2xl p-5 shadow-md",style:{backgroundColor:"var(--theme-card-bg)",border:"1px solid var(--theme-primary)33"},children:[u.jsxs("h3",{className:"mb-4 flex items-center gap-2",style:{color:"var(--theme-text)"},children:[u.jsx(um,{className:"w-5 h-5",style:{color:"var(--theme-primary)"}}),"Hot Topics"]}),u.jsx("div",{className:"space-y-3",children:h?Array.from({length:4}).map((y,v)=>u.jsx("div",{className:"h-16 bg-muted rounded-xl animate-pulse"},v)):c.length>0?c.map((y,v)=>u.jsx("button",{className:"w-full text-left p-3 rounded-xl transition-all hover:shadow-sm",style:{backgroundColor:"var(--theme-accent)"},onMouseEnter:w=>{w.currentTarget.style.backgroundColor="var(--theme-primary)22"},onMouseLeave:w=>{w.currentTarget.style.backgroundColor="var(--theme-accent)"},children:u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{style:{color:"var(--theme-text)"},children:u.jsxs("strong",{children:["#",y.name]})}),u.jsx("p",{className:"text-sm",style:{color:"var(--theme-text)",opacity:.6},children:y.count})]}),y.trending!=="N/A"&&u.jsx(Rr,{className:"px-2 py-0.5 flex-shrink-0",style:{backgroundColor:"var(--theme-primary)",color:"white"},children:y.trending})]})},v)):u.jsx("p",{className:"text-sm text-center py-4 opacity-50",style:{color:"var(--theme-text)"},children:"No hot topics yet."})})]})]})]})]})}function fN({onViewChange:t}){const[e,n]=x.useState(""),[o,a]=x.useState([]),[l,c]=x.useState([]),[f,h]=x.useState(!1),[m,y]=x.useState(null);x.useEffect(()=>{const w=setTimeout(async()=>{if(e.trim()===""){a([]),c([]);return}h(!0),y(null);try{const[k,_]=await Promise.all([uN(e),dN(e)]);a(k),c(_)}catch(k){console.error("Error during search:",k),y("Failed to fetch search results.")}finally{h(!1)}},500);return()=>clearTimeout(w)},[e]);const v=o.length>0||l.length>0;return u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"mb-4",style:{color:"var(--theme-text)"},children:"Explore"}),u.jsxs("div",{className:"relative",children:[u.jsx(ua,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 opacity-50",style:{color:"var(--theme-text)"}}),u.jsx(Ke,{type:"text",placeholder:"Search for poems, poets, or topics...",value:e,onChange:w=>n(w.target.value),className:"w-full pl-12 h-14 rounded-2xl border-2 transition-all focus:shadow-lg bg-[var(--theme-card-bg)]",style:{borderColor:"var(--theme-primary)33",color:"var(--theme-text)"}})]})]}),u.jsxs(co,{defaultValue:"all",className:"w-full",children:[u.jsxs(uo,{className:"grid w-full grid-cols-2",children:[u.jsx(Rt,{value:"all",children:"All"}),u.jsx(Rt,{value:"trending",children:"Trending"})]}),u.jsxs(Pt,{value:"all",children:[f&&u.jsx("div",{className:"text-center py-20",children:u.jsx("p",{style:{color:"var(--theme-text)"},children:"Searching..."})}),m&&u.jsx("div",{className:"text-center py-20",children:u.jsx("p",{className:"text-red-500",children:m})}),!f&&!m&&e.trim()!==""&&!v&&u.jsxs("div",{className:"text-center py-20",children:[u.jsx(ua,{className:"w-16 h-16 mx-auto mb-4 opacity-10",style:{color:"var(--theme-text)"}}),u.jsxs("p",{className:"opacity-50",style:{color:"var(--theme-text)"},children:['No results found for "',e,'".']})]}),!f&&!m&&v&&u.jsxs("div",{className:"space-y-8",children:[l.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:"var(--theme-text)"},children:"Users"}),u.jsx("div",{className:"grid gap-4",children:l.map(w=>u.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl shadow-sm",style:{backgroundColor:"var(--theme-card-bg)",border:"1px solid var(--theme-primary)33"},children:[u.jsxs(hs,{className:"w-12 h-12",children:[u.jsx(ps,{src:w.avatar_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(w.full_name||w.username)}`}),u.jsx(ms,{children:w.full_name?w.full_name[0]:w.username?w.username[0]:"?"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-bold",style:{color:"var(--theme-text)"},children:w.full_name}),u.jsxs("p",{className:"text-sm opacity-60",style:{color:"var(--theme-text)"},children:["@",w.username]})]}),u.jsx(Ae,{variant:"outline",size:"sm",className:"ml-auto rounded-lg",style:{borderColor:"var(--theme-primary)",color:"var(--theme-primary)"},onClick:()=>t?.("profile",w.id),children:"View Profile"})]},w.id))})]}),o.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:"var(--theme-text)"},children:"Posts"}),u.jsx("div",{className:"grid gap-4",children:o.map(w=>u.jsx(ka,{post:w},w.postId))})]})]}),!f&&!m&&e.trim()===""&&u.jsxs("div",{className:"text-center py-20",children:[u.jsx(ua,{className:"w-16 h-16 mx-auto mb-4 opacity-10",style:{color:"var(--theme-text)"}}),u.jsx("p",{className:"opacity-50",style:{color:"var(--theme-text)"},children:"Search for something beautiful..."})]})]}),u.jsx(Pt,{value:"trending",children:u.jsx(Cy,{})})]})]})}const hN=zd("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Ju({className:t,variant:e,...n}){return u.jsx("div",{"data-slot":"alert",role:"alert",className:Be(hN({variant:e}),t),...n})}function Qu({className:t,...e}){return u.jsx("div",{"data-slot":"alert-description",className:Be("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function pN(){const{theme:t}=Md(),[e,n]=x.useState(null),[o,a]=x.useState("idle"),[l,c]=x.useState(null),[f,h]=x.useState([]),[m,y]=x.useState(""),[v,w]=x.useState(null),[k,_]=x.useState(!1),[b,C]=x.useState(!1),[E,N]=x.useState(!1),[j,P]=x.useState(null),[z,F]=x.useState(null),D=x.useRef(null),L=x.useRef(null),q=x.useRef(null),W=()=>{q.current?.scrollIntoView({behavior:"smooth"})};x.useEffect(()=>{W()},[f]),x.useEffect(()=>{(async()=>{const{data:{user:V}}=await de.auth.getUser();V&&P(V.id)})()},[]),x.useEffect(()=>{if(!(!j||o!=="waiting"))return L.current=de.channel(`participant_tracker:${j}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_participants",filter:`user_id=eq.${j}`},async R=>{const V=R.new.chat_id;await Z(V)}).subscribe(),()=>{L.current&&de.removeChannel(L.current)}},[j,o]),x.useEffect(()=>{if(!(!j||o!=="connected"||!l))return D.current=de.channel(`active_chat:${l}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`chat_id=eq.${l}`},R=>{const V=R.new;V.sender_id!==j&&h(G=>[...G,{id:V.id,text:V.content,sender:"other",senderId:V.sender_id,timestamp:new Date(V.created_at).getTime()}])}).on("postgres_changes",{event:"INSERT",schema:"public",table:"buddy_requests",filter:`to_user=eq.${j}`},R=>{R.new.chat_id===l&&R.new.status==="pending"&&C(!0)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"buddy_requests",filter:`from_user=eq.${j}`},R=>{R.new.status==="accepted"?(N(!0),h(V=>[...V,{id:`sys_acc_${Date.now()}`,text:" Connection request accepted! Chat saved.",sender:"other",senderId:"system",timestamp:Date.now()}])):R.new.status==="declined"&&(h(V=>[...V,{id:`sys_dec_${Date.now()}`,text:"Request declined.",sender:"other",senderId:"system",timestamp:Date.now()}]),_(!1))}).subscribe(),()=>{D.current&&de.removeChannel(D.current)}},[j,o,l]);const Z=async R=>{const{data:V,error:G}=await de.from("chat_participants").select("user_id").eq("chat_id",R).neq("user_id",j);if(G||!V||V.length===0){console.error("Match found but could not identify partner");return}if(F(V[0].user_id),c(R),a("connected"),j)try{await cg(j)}catch{}h([{id:`welcome_${Date.now()}`,text:e==="seeker"?"You are now connected with a Listener. This is a safe space.":"You are now connected with a Seeker. Please listen with empathy.",sender:"other",senderId:"system",timestamp:Date.now()}])},ne=async R=>{if(!j){w("You must be logged in.");return}w(null),n(R),a("waiting"),h([]),_(!1),N(!1),C(!1);try{const V=await aN(j,R);if(V)await Z(V);else{const{error:G}=await de.from("matchmaking_queue").upsert({user_id:j,role:R});if(G)throw G}}catch(V){console.error("Queue Error:",V),w("Failed to join waiting room."),a("idle")}},K=async()=>{if(!m.trim()||!l||!j)return;const R=m;y("");const V=`temp_${Date.now()}`;h(G=>[...G,{id:V,text:R,sender:"me",senderId:j,timestamp:Date.now()}]);try{await iN(l,j,R)}catch{console.error("Message failed")}},ie=async()=>{if(!(!j||!z||!l)){_(!0);try{await lN(l,j,z)}catch{_(!1),w("Could not send request.")}}},ce=async()=>{if(!(!j||!z||!l))try{await cN(l,j,z),N(!0),C(!1)}catch(R){console.error("Accept Error",R),w("Failed to accept request.")}},Q=async()=>{!j||!l||(C(!1),await de.from("buddy_requests").update({status:"declined"}).eq("chat_id",l).eq("to_user",j))},ee=async()=>{if(o==="waiting"&&j){try{await cg(j)}catch(R){console.error(R)}a("idle"),n(null)}else o==="connected"?(a("ended"),h(R=>[...R,{id:"sys_end",text:"Chat ended. You can now send a connection request or exit.",sender:"other",senderId:"system",timestamp:Date.now()}])):(a("idle"),n(null),c(null),h([]),y(""),_(!1),C(!1),N(!1),F(null))};return o==="idle"?u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"mb-6 md:mb-8",children:[u.jsx("h2",{className:"mb-2",style:{color:"var(--theme-text)"},children:"Talking Buddy"}),u.jsx("p",{className:"text-sm md:text-base",style:{color:"var(--theme-text)",opacity:.7},children:"A safe space to share your thoughts with someone who cares. Connect anonymously for support."})]}),v&&u.jsxs(Ju,{className:"mb-6 md:mb-8 border-red-300 bg-red-50 rounded-xl",children:[u.jsx(pb,{className:"h-4 w-4 text-red-600"}),u.jsx(Qu,{className:"text-red-800 text-sm",children:v})]}),u.jsxs(Ju,{className:"mb-6 md:mb-8 rounded-xl border",style:{borderColor:"var(--theme-primary)",backgroundColor:"var(--theme-accent)"},children:[u.jsx(Jr,{className:"h-4 w-4",style:{color:"var(--theme-primary)"}}),u.jsx(Qu,{className:"text-sm",style:{color:"var(--theme-text)"},children:"If you're experiencing a crisis, please contact a professional helpline. This is peer support, not professional therapy."})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4 md:gap-6",children:[u.jsxs(xr,{className:"p-6 md:p-8 border-2 transition-all backdrop-blur-sm rounded-2xl hover:shadow-lg",style:{borderColor:"var(--theme-primary)",backgroundColor:"var(--theme-card-bg)",opacity:.9},children:[u.jsx("div",{className:"flex items-center justify-center w-14 h-14 md:w-16 md:h-16 rounded-full mb-4 md:mb-6 mx-auto",style:{backgroundColor:"var(--theme-accent)"},children:u.jsx(od,{className:"w-7 h-7 md:w-8 md:h-8",style:{color:"var(--theme-primary)"}})}),u.jsx("h3",{className:"text-center mb-2 md:mb-3",style:{color:"var(--theme-text)"},children:"Be a Listener"}),u.jsx("p",{className:"text-center text-sm md:text-base mb-4 md:mb-6",style:{color:"var(--theme-text)",opacity:.7},children:"Offer support and lend an ear to someone who needs it. Your kindness can make a difference."}),u.jsx(Ae,{onClick:()=>ne("listener"),className:"w-full shadow-md rounded-xl",style:{background:"linear-gradient(to right, var(--theme-primary), var(--theme-secondary))",color:"white"},children:"Start Listening"})]}),u.jsxs(xr,{className:"p-6 md:p-8 border-2 transition-all backdrop-blur-sm rounded-2xl hover:shadow-lg",style:{borderColor:"var(--theme-primary)",backgroundColor:"var(--theme-card-bg)",opacity:.9},children:[u.jsx("div",{className:"flex items-center justify-center w-14 h-14 md:w-16 md:h-16 rounded-full mb-4 md:mb-6 mx-auto",style:{backgroundColor:"var(--theme-accent)"},children:u.jsx(is,{className:"w-7 h-7 md:w-8 md:h-8",style:{color:"var(--theme-primary)"}})}),u.jsx("h3",{className:"text-center mb-2 md:mb-3",style:{color:"var(--theme-text)"},children:"Find a Listener"}),u.jsx("p",{className:"text-center text-sm md:text-base mb-4 md:mb-6",style:{color:"var(--theme-text)",opacity:.7},children:"Feeling low or need to talk? Connect with someone who's here to listen without judgment."}),u.jsx(Ae,{onClick:()=>ne("seeker"),className:"w-full shadow-md rounded-xl",style:{background:"linear-gradient(to right, var(--theme-primary), var(--theme-secondary))",color:"white"},children:"Talk to Someone"})]})]}),u.jsxs("div",{className:"mt-6 md:mt-8 p-4 md:p-6 rounded-2xl border",style:{background:"linear-gradient(to bottom right, var(--theme-accent), var(--theme-accent))",borderColor:"var(--theme-primary)"},children:[u.jsx("h3",{className:"mb-3 md:mb-4",style:{color:"var(--theme-text)"},children:"Guidelines"}),u.jsxs("ul",{className:"space-y-2 text-sm md:text-base",style:{color:"var(--theme-text)",opacity:.7},children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"mt-1",style:{color:"var(--theme-primary)"},children:""}),u.jsx("span",{children:"Be kind, respectful, and non-judgmental"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"mt-1",style:{color:"var(--theme-primary)"},children:""}),u.jsx("span",{children:"Keep conversations anonymous and confidential"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"mt-1",style:{color:"var(--theme-primary)"},children:""}),u.jsx("span",{children:"Listen actively and offer support, not advice"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"mt-1",style:{color:"var(--theme-primary)"},children:""}),u.jsx("span",{children:"Report any concerning behavior or abuse"})]})]})]})]}):o==="waiting"?u.jsx("div",{className:"max-w-4xl mx-auto flex items-center justify-center h-[50vh]",children:u.jsxs(xr,{className:"p-8 text-center border-none shadow-none bg-transparent",children:[u.jsx(Pg,{className:"w-12 h-12 animate-spin mx-auto mb-4",style:{color:"var(--theme-primary)"}}),u.jsxs("h3",{className:"text-xl font-medium mb-2",style:{color:"var(--theme-text)"},children:["Finding a ",e==="listener"?"Seeker":"Listener","..."]}),u.jsx("p",{className:"text-sm mb-6",style:{color:"var(--theme-text)",opacity:.7},children:"Please wait while we pair you with someone."}),u.jsx(Ae,{onClick:()=>ee(),variant:"outline",children:"Cancel"})]})}):u.jsx("div",{className:"max-w-4xl mx-auto md:pt-0 -mt-16 md:mt-0 -mx-4 md:mx-auto h-screen md:h-auto",children:u.jsxs(xr,{className:"border backdrop-blur-sm md:rounded-2xl shadow-lg overflow-hidden h-full md:h-auto flex flex-col",style:{borderColor:"var(--theme-primary)",backgroundColor:"var(--theme-card-bg)",opacity:1},children:[u.jsxs("div",{className:"border-b p-3 md:p-4 flex items-center justify-between flex-shrink-0",style:{borderColor:"var(--theme-primary)",background:"var(--theme-accent)"},children:[u.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[u.jsx("div",{className:`w-2.5 h-2.5 md:w-3 md:h-3 rounded-full ${o==="connected"?"animate-pulse bg-[var(--theme-primary)]":"bg-gray-400"}`}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm md:text-base",style:{color:"var(--theme-text)"},children:o==="ended"?"Chat Ended":e==="listener"?"Supporting Someone":"Talking with a Listener"}),u.jsx("p",{className:"text-xs md:text-sm",style:{color:"var(--theme-text)",opacity:.7},children:o==="ended"?"Decide what's next":"Anonymous conversation"})]})]}),u.jsx(Ae,{onClick:ee,variant:"ghost",size:"icon",className:"h-8 w-8 md:h-10 md:w-10 hover:bg-[var(--theme-accent)]",style:{color:"var(--theme-primary)"},children:u.jsx(bl,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-3 md:space-y-4",style:{backgroundColor:"var(--theme-background)"},children:[f.length===0&&u.jsxs("div",{className:"text-center py-8 md:py-12",children:[u.jsx(is,{className:"w-10 h-10 md:w-12 md:h-12 mx-auto mb-2 md:mb-3",style:{color:"var(--theme-primary)",opacity:.3}}),u.jsx("p",{className:"text-sm md:text-base",style:{color:"var(--theme-text)",opacity:.7},children:"Start the conversation..."})]}),f.map(R=>{const V=R.sender==="me",G=R.senderId==="system",O=t.chatBubbleStyle==="square"?"0.25rem":t.chatBubbleStyle==="bubble"?"1.5rem":t.borderRadius,M=t.chatBubbleStyle==="bubble"?V?"rounded-2xl rounded-br-sm":"rounded-2xl rounded-bl-sm":"";return G?u.jsx("div",{className:"flex justify-center my-2",children:u.jsx("span",{className:"text-xs py-1 px-3 rounded-full bg-[var(--theme-accent)] text-[var(--theme-text)] opacity-70",children:R.text})},R.id):u.jsx("div",{className:`flex ${V?"justify-end":"justify-start"}`,children:u.jsx("div",{className:`max-w-[80%] md:max-w-[70%] px-3 py-2 md:px-4 md:py-3 shadow-sm ${M}`,style:{backgroundColor:V?t.chatMyMessageBg:t.chatOtherMessageBg,color:V?"white":t.textColor,borderRadius:t.chatBubbleStyle==="bubble"?void 0:O,border:V?"none":`1px solid ${t.primaryColor}20`},children:u.jsx("p",{className:"whitespace-pre-wrap text-sm md:text-base",children:R.text})})},R.id)}),u.jsx("div",{ref:q})]}),!E&&b&&u.jsxs(Ju,{className:"mx-4 mb-3 rounded-xl border",style:{borderColor:"var(--theme-primary)",backgroundColor:"var(--theme-accent)"},children:[u.jsx(Jr,{className:"h-4 w-4",style:{color:"var(--theme-primary)"}}),u.jsxs(Qu,{className:"text-sm flex items-center justify-between",style:{color:"var(--theme-text)"},children:[u.jsx("span",{children:"Partner wants to stay connected!"}),u.jsxs("div",{className:"flex gap-2 ml-2",children:[u.jsx(Ae,{onClick:ce,size:"sm",className:"rounded-lg h-7 text-xs text-white hover:opacity-90",style:{backgroundColor:"var(--theme-primary)"},children:"Accept"}),u.jsx(Ae,{onClick:Q,size:"sm",variant:"outline",className:"rounded-lg h-7 text-xs border hover:bg-[var(--theme-accent)]",style:{borderColor:"var(--theme-primary)",color:"var(--theme-primary)",backgroundColor:"transparent"},children:"Decline"})]})]})]}),!E&&k&&u.jsx("div",{className:"px-4 pb-3",children:u.jsx("p",{className:"text-xs text-center",style:{color:"var(--theme-text)",opacity:.7},children:"Friend request sent. Waiting for response..."})}),!E&&!k&&u.jsx("div",{className:"px-4 pb-3",children:u.jsxs(Ae,{onClick:ie,variant:"outline",size:"sm",className:"w-full rounded-xl hover:bg-[var(--theme-accent)]",style:{borderColor:"var(--theme-primary)",color:"var(--theme-primary)",backgroundColor:"transparent"},children:[u.jsx(od,{className:"w-4 h-4 mr-2"}),o==="ended"?"Save Chat & Add Buddy":"Save Chat & Stay Connected"]})}),u.jsx("div",{className:"border-t p-3 md:p-4 flex-shrink-0",style:{borderColor:"var(--theme-primary)",backgroundColor:"var(--theme-accent)"},children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ke,{type:"text",placeholder:o==="ended"?"Chat ended.":"Type your message...",value:m,disabled:o==="ended",onChange:R=>y(R.target.value),onKeyPress:R=>R.key==="Enter"&&K(),className:"flex-1 text-sm md:text-base rounded-xl",style:{borderColor:"var(--theme-primary)",backgroundColor:"var(--theme-card-bg)",color:"var(--theme-text)"}}),u.jsx(Ae,{onClick:K,disabled:o==="ended",className:"h-9 w-9 md:h-10 md:w-10 rounded-xl shadow-md",style:{background:"linear-gradient(to right, var(--theme-primary), var(--theme-secondary))",color:"white"},children:u.jsx(Ag,{className:"w-4 h-4"})})]})})]})})}function mN(){const[t,e]=x.useState([]),[n,o]=x.useState(!0),[a,l]=x.useState(null);x.useEffect(()=>{(async()=>{const{data:{user:h}}=await de.auth.getUser();h?(l(h.id),c(h.id)):o(!1)})()},[]);const c=async f=>{o(!0);try{const{data:h,error:m}=await de.from("chat_participants").select(`
          chats (
            id,
            created_at,
            last_message_at,
            messages (id, content, created_at, sender_id),
            chat_participants (user_id)
          )
        `).eq("user_id",f);if(m)throw m;const w=(h||[]).map(_=>_.chats).filter(_=>_!==null&&_.chat_participants.length>1).map(async _=>{const b=_.chat_participants.find(N=>N.user_id!==f),C=_.messages.length>0?_.messages.sort((N,j)=>new Date(j.created_at).getTime()-new Date(N.created_at).getTime())[0]:null;let E=null;if(b?.user_id){const{data:N,error:j}=await de.from("profiles").select("full_name, username, avatar_url").eq("id",b.user_id).single();j?console.error("Error fetching other participant profile:",j):E=N}return{..._,otherParticipant:E,lastMessage:C}}),k=await Promise.all(w);e(k.sort((_,b)=>{const C=_.lastMessage?new Date(_.lastMessage.created_at).getTime():new Date(_.created_at).getTime();return(b.lastMessage?new Date(b.lastMessage.created_at).getTime():new Date(b.created_at).getTime())-C}))}catch(h){console.error("Error fetching chats:",h)}finally{o(!1)}};return n?u.jsx("div",{className:"max-w-4xl mx-auto py-12 text-center",children:u.jsx("p",{style:{color:"var(--theme-text)",opacity:.6},children:"Loading chats..."})}):u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"mb-6 md:mb-8",children:[u.jsx("h2",{className:"mb-2",style:{color:"var(--theme-text)"},children:"My Chats"}),u.jsx("p",{className:"text-sm md:text-base",style:{color:"var(--theme-text)",opacity:.7},children:"Continue conversations with your support buddies"})]}),t.length>0?u.jsx("div",{className:"space-y-4",children:t.map(f=>u.jsxs(xr,{className:"p-4 md:p-6 flex items-center gap-4 rounded-2xl shadow-md cursor-pointer hover:shadow-lg transition-shadow",style:{backgroundColor:"var(--theme-card-bg)",border:"1px solid var(--theme-primary)33"},children:[u.jsxs(hs,{className:"w-12 h-12",children:[u.jsx(ps,{src:f.otherParticipant?.avatar_url}),u.jsx(ms,{children:f.otherParticipant?.full_name[0]})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-bold",style:{color:"var(--theme-text)"},children:f.otherParticipant?.full_name}),u.jsx("p",{className:"text-sm opacity-70",style:{color:"var(--theme-text)"},children:f.lastMessage?.content||"No messages yet."})]}),u.jsx("span",{className:"text-xs opacity-50",style:{color:"var(--theme-text)"},children:f.lastMessage?new Date(f.lastMessage.created_at).toLocaleDateString():new Date(f.created_at).toLocaleDateString()})]},f.id))}):u.jsxs(xr,{className:"p-12 text-center backdrop-blur-sm rounded-2xl border",style:{backgroundColor:"var(--theme-card-bg)",opacity:.9,borderColor:"var(--theme-primary)"},children:[u.jsx(is,{className:"w-12 h-12 mx-auto mb-4",style:{color:"var(--theme-primary)",opacity:.3}}),u.jsx("h3",{className:"mb-2",style:{color:"var(--theme-text)"},children:"No chats yet"}),u.jsx("p",{className:"text-sm md:text-base",style:{color:"var(--theme-text)",opacity:.7},children:"When you connect with someone through Talking Buddy and both agree to stay connected, your conversation will appear here."})]})]})}var gN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vN=gN.reduce((t,e)=>{const n=Ud(`Primitive.${e}`),o=x.forwardRef((a,l)=>{const{asChild:c,...f}=a,h=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(h,{...f,ref:l})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{}),yN="Label",Ey=x.forwardRef((t,e)=>u.jsx(vN.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Ey.displayName=yN;var wN=Ey;function nr({className:t,...e}){return u.jsx(wN,{"data-slot":"label",className:Be("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function pl(t,[e,n]){return Math.min(n,Math.max(e,t))}const xN=["top","right","bottom","left"],An=Math.min,qt=Math.max,ml=Math.round,Zi=Math.floor,Ar=t=>({x:t,y:t}),bN={left:"right",right:"left",bottom:"top",top:"bottom"},_N={start:"end",end:"start"};function Sd(t,e,n){return qt(t,An(e,n))}function Xr(t,e){return typeof t=="function"?t(e):t}function Zr(t){return t.split("-")[0]}function fo(t){return t.split("-")[1]}function af(t){return t==="x"?"y":"x"}function lf(t){return t==="y"?"height":"width"}const SN=new Set(["top","bottom"]);function Pr(t){return SN.has(Zr(t))?"y":"x"}function cf(t){return af(Pr(t))}function kN(t,e,n){n===void 0&&(n=!1);const o=fo(t),a=cf(t),l=lf(a);let c=a==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=gl(c)),[c,gl(c)]}function CN(t){const e=gl(t);return[kd(t),e,kd(e)]}function kd(t){return t.replace(/start|end/g,e=>_N[e])}const ug=["left","right"],dg=["right","left"],EN=["top","bottom"],jN=["bottom","top"];function NN(t,e,n){switch(t){case"top":case"bottom":return n?e?dg:ug:e?ug:dg;case"left":case"right":return e?EN:jN;default:return[]}}function TN(t,e,n,o){const a=fo(t);let l=NN(Zr(t),n==="start",o);return a&&(l=l.map(c=>c+"-"+a),e&&(l=l.concat(l.map(kd)))),l}function gl(t){return t.replace(/left|right|bottom|top/g,e=>bN[e])}function RN(t){return{top:0,right:0,bottom:0,left:0,...t}}function jy(t){return typeof t!="number"?RN(t):{top:t,right:t,bottom:t,left:t}}function vl(t){const{x:e,y:n,width:o,height:a}=t;return{width:o,height:a,top:n,left:e,right:e+o,bottom:n+a,x:e,y:n}}function fg(t,e,n){let{reference:o,floating:a}=t;const l=Pr(e),c=cf(e),f=lf(c),h=Zr(e),m=l==="y",y=o.x+o.width/2-a.width/2,v=o.y+o.height/2-a.height/2,w=o[f]/2-a[f]/2;let k;switch(h){case"top":k={x:y,y:o.y-a.height};break;case"bottom":k={x:y,y:o.y+o.height};break;case"right":k={x:o.x+o.width,y:v};break;case"left":k={x:o.x-a.width,y:v};break;default:k={x:o.x,y:o.y}}switch(fo(e)){case"start":k[c]-=w*(n&&m?-1:1);break;case"end":k[c]+=w*(n&&m?-1:1);break}return k}const PN=async(t,e,n)=>{const{placement:o="bottom",strategy:a="absolute",middleware:l=[],platform:c}=n,f=l.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:a}),{x:y,y:v}=fg(m,o,h),w=o,k={},_=0;for(let b=0;b<f.length;b++){const{name:C,fn:E}=f[b],{x:N,y:j,data:P,reset:z}=await E({x:y,y:v,initialPlacement:o,placement:w,strategy:a,middlewareData:k,rects:m,platform:c,elements:{reference:t,floating:e}});y=N??y,v=j??v,k={...k,[C]:{...k[C],...P}},z&&_<=50&&(_++,typeof z=="object"&&(z.placement&&(w=z.placement),z.rects&&(m=z.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:a}):z.rects),{x:y,y:v}=fg(m,w,h)),b=-1)}return{x:y,y:v,placement:w,strategy:a,middlewareData:k}};async function wa(t,e){var n;e===void 0&&(e={});const{x:o,y:a,platform:l,rects:c,elements:f,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:w=!1,padding:k=0}=Xr(e,t),_=jy(k),C=f[w?v==="floating"?"reference":"floating":v],E=vl(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(C)))==null||n?C:C.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:m,rootBoundary:y,strategy:h})),N=v==="floating"?{x:o,y:a,width:c.floating.width,height:c.floating.height}:c.reference,j=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),P=await(l.isElement==null?void 0:l.isElement(j))?await(l.getScale==null?void 0:l.getScale(j))||{x:1,y:1}:{x:1,y:1},z=vl(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:N,offsetParent:j,strategy:h}):N);return{top:(E.top-z.top+_.top)/P.y,bottom:(z.bottom-E.bottom+_.bottom)/P.y,left:(E.left-z.left+_.left)/P.x,right:(z.right-E.right+_.right)/P.x}}const AN=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:a,rects:l,platform:c,elements:f,middlewareData:h}=e,{element:m,padding:y=0}=Xr(t,e)||{};if(m==null)return{};const v=jy(y),w={x:n,y:o},k=cf(a),_=lf(k),b=await c.getDimensions(m),C=k==="y",E=C?"top":"left",N=C?"bottom":"right",j=C?"clientHeight":"clientWidth",P=l.reference[_]+l.reference[k]-w[k]-l.floating[_],z=w[k]-l.reference[k],F=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let D=F?F[j]:0;(!D||!await(c.isElement==null?void 0:c.isElement(F)))&&(D=f.floating[j]||l.floating[_]);const L=P/2-z/2,q=D/2-b[_]/2-1,W=An(v[E],q),Z=An(v[N],q),ne=W,K=D-b[_]-Z,ie=D/2-b[_]/2+L,ce=Sd(ne,ie,K),Q=!h.arrow&&fo(a)!=null&&ie!==ce&&l.reference[_]/2-(ie<ne?W:Z)-b[_]/2<0,ee=Q?ie<ne?ie-ne:ie-K:0;return{[k]:w[k]+ee,data:{[k]:ce,centerOffset:ie-ce-ee,...Q&&{alignmentOffset:ee}},reset:Q}}}),ON=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:a,middlewareData:l,rects:c,initialPlacement:f,platform:h,elements:m}=e,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:w,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:b=!0,...C}=Xr(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const E=Zr(a),N=Pr(f),j=Zr(f)===f,P=await(h.isRTL==null?void 0:h.isRTL(m.floating)),z=w||(j||!b?[gl(f)]:CN(f)),F=_!=="none";!w&&F&&z.push(...TN(f,b,_,P));const D=[f,...z],L=await wa(e,C),q=[];let W=((o=l.flip)==null?void 0:o.overflows)||[];if(y&&q.push(L[E]),v){const ie=kN(a,c,P);q.push(L[ie[0]],L[ie[1]])}if(W=[...W,{placement:a,overflows:q}],!q.every(ie=>ie<=0)){var Z,ne;const ie=(((Z=l.flip)==null?void 0:Z.index)||0)+1,ce=D[ie];if(ce&&(!(v==="alignment"?N!==Pr(ce):!1)||W.every(R=>Pr(R.placement)===N?R.overflows[0]>0:!0)))return{data:{index:ie,overflows:W},reset:{placement:ce}};let Q=(ne=W.filter(ee=>ee.overflows[0]<=0).sort((ee,R)=>ee.overflows[1]-R.overflows[1])[0])==null?void 0:ne.placement;if(!Q)switch(k){case"bestFit":{var K;const ee=(K=W.filter(R=>{if(F){const V=Pr(R.placement);return V===N||V==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(V=>V>0).reduce((V,G)=>V+G,0)]).sort((R,V)=>R[1]-V[1])[0])==null?void 0:K[0];ee&&(Q=ee);break}case"initialPlacement":Q=f;break}if(a!==Q)return{reset:{placement:Q}}}return{}}}};function hg(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function pg(t){return xN.some(e=>t[e]>=0)}const IN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...a}=Xr(t,e);switch(o){case"referenceHidden":{const l=await wa(e,{...a,elementContext:"reference"}),c=hg(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:pg(c)}}}case"escaped":{const l=await wa(e,{...a,altBoundary:!0}),c=hg(l,n.floating);return{data:{escapedOffsets:c,escaped:pg(c)}}}default:return{}}}}},Ny=new Set(["left","top"]);async function DN(t,e){const{placement:n,platform:o,elements:a}=t,l=await(o.isRTL==null?void 0:o.isRTL(a.floating)),c=Zr(n),f=fo(n),h=Pr(n)==="y",m=Ny.has(c)?-1:1,y=l&&h?-1:1,v=Xr(e,t);let{mainAxis:w,crossAxis:k,alignmentAxis:_}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return f&&typeof _=="number"&&(k=f==="end"?_*-1:_),h?{x:k*y,y:w*m}:{x:w*m,y:k*y}}const MN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:a,y:l,placement:c,middlewareData:f}=e,h=await DN(e,t);return c===((n=f.offset)==null?void 0:n.placement)&&(o=f.arrow)!=null&&o.alignmentOffset?{}:{x:a+h.x,y:l+h.y,data:{...h,placement:c}}}}},LN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:f={fn:C=>{let{x:E,y:N}=C;return{x:E,y:N}}},...h}=Xr(t,e),m={x:n,y:o},y=await wa(e,h),v=Pr(Zr(a)),w=af(v);let k=m[w],_=m[v];if(l){const C=w==="y"?"top":"left",E=w==="y"?"bottom":"right",N=k+y[C],j=k-y[E];k=Sd(N,k,j)}if(c){const C=v==="y"?"top":"left",E=v==="y"?"bottom":"right",N=_+y[C],j=_-y[E];_=Sd(N,_,j)}const b=f.fn({...e,[w]:k,[v]:_});return{...b,data:{x:b.x-n,y:b.y-o,enabled:{[w]:l,[v]:c}}}}}},$N=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:a,rects:l,middlewareData:c}=e,{offset:f=0,mainAxis:h=!0,crossAxis:m=!0}=Xr(t,e),y={x:n,y:o},v=Pr(a),w=af(v);let k=y[w],_=y[v];const b=Xr(f,e),C=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(h){const j=w==="y"?"height":"width",P=l.reference[w]-l.floating[j]+C.mainAxis,z=l.reference[w]+l.reference[j]-C.mainAxis;k<P?k=P:k>z&&(k=z)}if(m){var E,N;const j=w==="y"?"width":"height",P=Ny.has(Zr(a)),z=l.reference[v]-l.floating[j]+(P&&((E=c.offset)==null?void 0:E[v])||0)+(P?0:C.crossAxis),F=l.reference[v]+l.reference[j]+(P?0:((N=c.offset)==null?void 0:N[v])||0)-(P?C.crossAxis:0);_<z?_=z:_>F&&(_=F)}return{[w]:k,[v]:_}}}},UN=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:a,rects:l,platform:c,elements:f}=e,{apply:h=()=>{},...m}=Xr(t,e),y=await wa(e,m),v=Zr(a),w=fo(a),k=Pr(a)==="y",{width:_,height:b}=l.floating;let C,E;v==="top"||v==="bottom"?(C=v,E=w===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(E=v,C=w==="end"?"top":"bottom");const N=b-y.top-y.bottom,j=_-y.left-y.right,P=An(b-y[C],N),z=An(_-y[E],j),F=!e.middlewareData.shift;let D=P,L=z;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(L=j),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(D=N),F&&!w){const W=qt(y.left,0),Z=qt(y.right,0),ne=qt(y.top,0),K=qt(y.bottom,0);k?L=_-2*(W!==0||Z!==0?W+Z:qt(y.left,y.right)):D=b-2*(ne!==0||K!==0?ne+K:qt(y.top,y.bottom))}await h({...e,availableWidth:L,availableHeight:D});const q=await c.getDimensions(f.floating);return _!==q.width||b!==q.height?{reset:{rects:!0}}:{}}}};function Nl(){return typeof window<"u"}function ho(t){return Ty(t)?(t.nodeName||"").toLowerCase():"#document"}function Yt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Dr(t){var e;return(e=(Ty(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ty(t){return Nl()?t instanceof Node||t instanceof Yt(t).Node:!1}function br(t){return Nl()?t instanceof Element||t instanceof Yt(t).Element:!1}function Or(t){return Nl()?t instanceof HTMLElement||t instanceof Yt(t).HTMLElement:!1}function mg(t){return!Nl()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Yt(t).ShadowRoot}const zN=new Set(["inline","contents"]);function Ea(t){const{overflow:e,overflowX:n,overflowY:o,display:a}=_r(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!zN.has(a)}const FN=new Set(["table","td","th"]);function BN(t){return FN.has(ho(t))}const VN=[":popover-open",":modal"];function Tl(t){return VN.some(e=>{try{return t.matches(e)}catch{return!1}})}const WN=["transform","translate","scale","rotate","perspective"],HN=["transform","translate","scale","rotate","perspective","filter"],qN=["paint","layout","strict","content"];function uf(t){const e=df(),n=br(t)?_r(t):t;return WN.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||HN.some(o=>(n.willChange||"").includes(o))||qN.some(o=>(n.contain||"").includes(o))}function KN(t){let e=On(t);for(;Or(e)&&!no(e);){if(uf(e))return e;if(Tl(e))return null;e=On(e)}return null}function df(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GN=new Set(["html","body","#document"]);function no(t){return GN.has(ho(t))}function _r(t){return Yt(t).getComputedStyle(t)}function Rl(t){return br(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function On(t){if(ho(t)==="html")return t;const e=t.assignedSlot||t.parentNode||mg(t)&&t.host||Dr(t);return mg(e)?e.host:e}function Ry(t){const e=On(t);return no(e)?t.ownerDocument?t.ownerDocument.body:t.body:Or(e)&&Ea(e)?e:Ry(e)}function xa(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=Ry(t),l=a===((o=t.ownerDocument)==null?void 0:o.body),c=Yt(a);if(l){const f=Cd(c);return e.concat(c,c.visualViewport||[],Ea(a)?a:[],f&&n?xa(f):[])}return e.concat(a,xa(a,[],n))}function Cd(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Py(t){const e=_r(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const a=Or(t),l=a?t.offsetWidth:n,c=a?t.offsetHeight:o,f=ml(n)!==l||ml(o)!==c;return f&&(n=l,o=c),{width:n,height:o,$:f}}function ff(t){return br(t)?t:t.contextElement}function to(t){const e=ff(t);if(!Or(e))return Ar(1);const n=e.getBoundingClientRect(),{width:o,height:a,$:l}=Py(e);let c=(l?ml(n.width):n.width)/o,f=(l?ml(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const YN=Ar(0);function Ay(t){const e=Yt(t);return!df()||!e.visualViewport?YN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function JN(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Yt(t)?!1:e}function us(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),l=ff(t);let c=Ar(1);e&&(o?br(o)&&(c=to(o)):c=to(t));const f=JN(l,n,o)?Ay(l):Ar(0);let h=(a.left+f.x)/c.x,m=(a.top+f.y)/c.y,y=a.width/c.x,v=a.height/c.y;if(l){const w=Yt(l),k=o&&br(o)?Yt(o):o;let _=w,b=Cd(_);for(;b&&o&&k!==_;){const C=to(b),E=b.getBoundingClientRect(),N=_r(b),j=E.left+(b.clientLeft+parseFloat(N.paddingLeft))*C.x,P=E.top+(b.clientTop+parseFloat(N.paddingTop))*C.y;h*=C.x,m*=C.y,y*=C.x,v*=C.y,h+=j,m+=P,_=Yt(b),b=Cd(_)}}return vl({width:y,height:v,x:h,y:m})}function Pl(t,e){const n=Rl(t).scrollLeft;return e?e.left+n:us(Dr(t)).left+n}function Oy(t,e){const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-Pl(t,n),a=n.top+e.scrollTop;return{x:o,y:a}}function QN(t){let{elements:e,rect:n,offsetParent:o,strategy:a}=t;const l=a==="fixed",c=Dr(o),f=e?Tl(e.floating):!1;if(o===c||f&&l)return n;let h={scrollLeft:0,scrollTop:0},m=Ar(1);const y=Ar(0),v=Or(o);if((v||!v&&!l)&&((ho(o)!=="body"||Ea(c))&&(h=Rl(o)),Or(o))){const k=us(o);m=to(o),y.x=k.x+o.clientLeft,y.y=k.y+o.clientTop}const w=c&&!v&&!l?Oy(c,h):Ar(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-h.scrollLeft*m.x+y.x+w.x,y:n.y*m.y-h.scrollTop*m.y+y.y+w.y}}function XN(t){return Array.from(t.getClientRects())}function ZN(t){const e=Dr(t),n=Rl(t),o=t.ownerDocument.body,a=qt(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),l=qt(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let c=-n.scrollLeft+Pl(t);const f=-n.scrollTop;return _r(o).direction==="rtl"&&(c+=qt(e.clientWidth,o.clientWidth)-a),{width:a,height:l,x:c,y:f}}const gg=25;function e2(t,e){const n=Yt(t),o=Dr(t),a=n.visualViewport;let l=o.clientWidth,c=o.clientHeight,f=0,h=0;if(a){l=a.width,c=a.height;const y=df();(!y||y&&e==="fixed")&&(f=a.offsetLeft,h=a.offsetTop)}const m=Pl(o);if(m<=0){const y=o.ownerDocument,v=y.body,w=getComputedStyle(v),k=y.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,_=Math.abs(o.clientWidth-v.clientWidth-k);_<=gg&&(l-=_)}else m<=gg&&(l+=m);return{width:l,height:c,x:f,y:h}}const t2=new Set(["absolute","fixed"]);function r2(t,e){const n=us(t,!0,e==="fixed"),o=n.top+t.clientTop,a=n.left+t.clientLeft,l=Or(t)?to(t):Ar(1),c=t.clientWidth*l.x,f=t.clientHeight*l.y,h=a*l.x,m=o*l.y;return{width:c,height:f,x:h,y:m}}function vg(t,e,n){let o;if(e==="viewport")o=e2(t,n);else if(e==="document")o=ZN(Dr(t));else if(br(e))o=r2(e,n);else{const a=Ay(t);o={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return vl(o)}function Iy(t,e){const n=On(t);return n===e||!br(n)||no(n)?!1:_r(n).position==="fixed"||Iy(n,e)}function n2(t,e){const n=e.get(t);if(n)return n;let o=xa(t,[],!1).filter(f=>br(f)&&ho(f)!=="body"),a=null;const l=_r(t).position==="fixed";let c=l?On(t):t;for(;br(c)&&!no(c);){const f=_r(c),h=uf(c);!h&&f.position==="fixed"&&(a=null),(l?!h&&!a:!h&&f.position==="static"&&!!a&&t2.has(a.position)||Ea(c)&&!h&&Iy(t,c))?o=o.filter(y=>y!==c):a=f,c=On(c)}return e.set(t,o),o}function s2(t){let{element:e,boundary:n,rootBoundary:o,strategy:a}=t;const c=[...n==="clippingAncestors"?Tl(e)?[]:n2(e,this._c):[].concat(n),o],f=c[0],h=c.reduce((m,y)=>{const v=vg(e,y,a);return m.top=qt(v.top,m.top),m.right=An(v.right,m.right),m.bottom=An(v.bottom,m.bottom),m.left=qt(v.left,m.left),m},vg(e,f,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function o2(t){const{width:e,height:n}=Py(t);return{width:e,height:n}}function a2(t,e,n){const o=Or(e),a=Dr(e),l=n==="fixed",c=us(t,!0,l,e);let f={scrollLeft:0,scrollTop:0};const h=Ar(0);function m(){h.x=Pl(a)}if(o||!o&&!l)if((ho(e)!=="body"||Ea(a))&&(f=Rl(e)),o){const k=us(e,!0,l,e);h.x=k.x+e.clientLeft,h.y=k.y+e.clientTop}else a&&m();l&&!o&&a&&m();const y=a&&!o&&!l?Oy(a,f):Ar(0),v=c.left+f.scrollLeft-h.x-y.x,w=c.top+f.scrollTop-h.y-y.y;return{x:v,y:w,width:c.width,height:c.height}}function Xu(t){return _r(t).position==="static"}function yg(t,e){if(!Or(t)||_r(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Dr(t)===n&&(n=n.ownerDocument.body),n}function Dy(t,e){const n=Yt(t);if(Tl(t))return n;if(!Or(t)){let a=On(t);for(;a&&!no(a);){if(br(a)&&!Xu(a))return a;a=On(a)}return n}let o=yg(t,e);for(;o&&BN(o)&&Xu(o);)o=yg(o,e);return o&&no(o)&&Xu(o)&&!uf(o)?n:o||KN(t)||n}const i2=async function(t){const e=this.getOffsetParent||Dy,n=this.getDimensions,o=await n(t.floating);return{reference:a2(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function l2(t){return _r(t).direction==="rtl"}const c2={convertOffsetParentRelativeRectToViewportRelativeRect:QN,getDocumentElement:Dr,getClippingRect:s2,getOffsetParent:Dy,getElementRects:i2,getClientRects:XN,getDimensions:o2,getScale:to,isElement:br,isRTL:l2};function My(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function u2(t,e){let n=null,o;const a=Dr(t);function l(){var f;clearTimeout(o),(f=n)==null||f.disconnect(),n=null}function c(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),l();const m=t.getBoundingClientRect(),{left:y,top:v,width:w,height:k}=m;if(f||e(),!w||!k)return;const _=Zi(v),b=Zi(a.clientWidth-(y+w)),C=Zi(a.clientHeight-(v+k)),E=Zi(y),j={rootMargin:-_+"px "+-b+"px "+-C+"px "+-E+"px",threshold:qt(0,An(1,h))||1};let P=!0;function z(F){const D=F[0].intersectionRatio;if(D!==h){if(!P)return c();D?c(!1,D):o=setTimeout(()=>{c(!1,1e-7)},1e3)}D===1&&!My(m,t.getBoundingClientRect())&&c(),P=!1}try{n=new IntersectionObserver(z,{...j,root:a.ownerDocument})}catch{n=new IntersectionObserver(z,j)}n.observe(t)}return c(!0),l}function d2(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=o,m=ff(t),y=a||l?[...m?xa(m):[],...xa(e)]:[];y.forEach(E=>{a&&E.addEventListener("scroll",n,{passive:!0}),l&&E.addEventListener("resize",n)});const v=m&&f?u2(m,n):null;let w=-1,k=null;c&&(k=new ResizeObserver(E=>{let[N]=E;N&&N.target===m&&k&&(k.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var j;(j=k)==null||j.observe(e)})),n()}),m&&!h&&k.observe(m),k.observe(e));let _,b=h?us(t):null;h&&C();function C(){const E=us(t);b&&!My(b,E)&&n(),b=E,_=requestAnimationFrame(C)}return n(),()=>{var E;y.forEach(N=>{a&&N.removeEventListener("scroll",n),l&&N.removeEventListener("resize",n)}),v?.(),(E=k)==null||E.disconnect(),k=null,h&&cancelAnimationFrame(_)}}const f2=MN,h2=LN,p2=ON,m2=UN,g2=IN,wg=AN,v2=$N,y2=(t,e,n)=>{const o=new Map,a={platform:c2,...n},l={...a.platform,_c:o};return PN(t,e,{...a,platform:l})};var w2=typeof document<"u",x2=function(){},al=w2?x.useLayoutEffect:x2;function yl(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!yl(t[o],e[o]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,a[o]))return!1;for(o=n;o--!==0;){const l=a[o];if(!(l==="_owner"&&t.$$typeof)&&!yl(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function Ly(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xg(t,e){const n=Ly(t);return Math.round(e*n)/n}function Zu(t){const e=x.useRef(t);return al(()=>{e.current=t}),e}function b2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:a,elements:{reference:l,floating:c}={},transform:f=!0,whileElementsMounted:h,open:m}=t,[y,v]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,k]=x.useState(o);yl(w,o)||k(o);const[_,b]=x.useState(null),[C,E]=x.useState(null),N=x.useCallback(R=>{R!==F.current&&(F.current=R,b(R))},[]),j=x.useCallback(R=>{R!==D.current&&(D.current=R,E(R))},[]),P=l||_,z=c||C,F=x.useRef(null),D=x.useRef(null),L=x.useRef(y),q=h!=null,W=Zu(h),Z=Zu(a),ne=Zu(m),K=x.useCallback(()=>{if(!F.current||!D.current)return;const R={placement:e,strategy:n,middleware:w};Z.current&&(R.platform=Z.current),y2(F.current,D.current,R).then(V=>{const G={...V,isPositioned:ne.current!==!1};ie.current&&!yl(L.current,G)&&(L.current=G,ba.flushSync(()=>{v(G)}))})},[w,e,n,Z,ne]);al(()=>{m===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,v(R=>({...R,isPositioned:!1})))},[m]);const ie=x.useRef(!1);al(()=>(ie.current=!0,()=>{ie.current=!1}),[]),al(()=>{if(P&&(F.current=P),z&&(D.current=z),P&&z){if(W.current)return W.current(P,z,K);K()}},[P,z,K,W,q]);const ce=x.useMemo(()=>({reference:F,floating:D,setReference:N,setFloating:j}),[N,j]),Q=x.useMemo(()=>({reference:P,floating:z}),[P,z]),ee=x.useMemo(()=>{const R={position:n,left:0,top:0};if(!Q.floating)return R;const V=xg(Q.floating,y.x),G=xg(Q.floating,y.y);return f?{...R,transform:"translate("+V+"px, "+G+"px)",...Ly(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:G}},[n,f,Q.floating,y.x,y.y]);return x.useMemo(()=>({...y,update:K,refs:ce,elements:Q,floatingStyles:ee}),[y,K,ce,Q,ee])}const _2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:a}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?wg({element:o.current,padding:a}).fn(n):{}:o?wg({element:o,padding:a}).fn(n):{}}}},S2=(t,e)=>({...f2(t),options:[t,e]}),k2=(t,e)=>({...h2(t),options:[t,e]}),C2=(t,e)=>({...v2(t),options:[t,e]}),E2=(t,e)=>({...p2(t),options:[t,e]}),j2=(t,e)=>({...m2(t),options:[t,e]}),N2=(t,e)=>({...g2(t),options:[t,e]}),T2=(t,e)=>({..._2(t),options:[t,e]});var R2="Arrow",$y=x.forwardRef((t,e)=>{const{children:n,width:o=10,height:a=5,...l}=t;return u.jsx(Oe.svg,{...l,ref:e,width:o,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});$y.displayName=R2;var P2=$y;function hf(t){const[e,n]=x.useState(void 0);return mt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,f;if("borderBoxSize"in l){const h=l.borderBoxSize,m=Array.isArray(h)?h[0]:h;c=m.inlineSize,f=m.blockSize}else c=t.offsetWidth,f=t.offsetHeight;n({width:c,height:f})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else n(void 0)},[t]),e}var pf="Popper",[Uy,zy]=In(pf),[A2,Fy]=Uy(pf),By=t=>{const{__scopePopper:e,children:n}=t,[o,a]=x.useState(null);return u.jsx(A2,{scope:e,anchor:o,onAnchorChange:a,children:n})};By.displayName=pf;var Vy="PopperAnchor",Wy=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:o,...a}=t,l=Fy(Vy,n),c=x.useRef(null),f=Ve(e,c),h=x.useRef(null);return x.useEffect(()=>{const m=h.current;h.current=o?.current||c.current,m!==h.current&&l.onAnchorChange(h.current)}),o?null:u.jsx(Oe.div,{...a,ref:f})});Wy.displayName=Vy;var mf="PopperContent",[O2,I2]=Uy(mf),Hy=x.forwardRef((t,e)=>{const{__scopePopper:n,side:o="bottom",sideOffset:a=0,align:l="center",alignOffset:c=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:w=!1,updatePositionStrategy:k="optimized",onPlaced:_,...b}=t,C=Fy(mf,n),[E,N]=x.useState(null),j=Ve(e,H=>N(H)),[P,z]=x.useState(null),F=hf(P),D=F?.width??0,L=F?.height??0,q=o+(l!=="center"?"-"+l:""),W=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},Z=Array.isArray(m)?m:[m],ne=Z.length>0,K={padding:W,boundary:Z.filter(M2),altBoundary:ne},{refs:ie,floatingStyles:ce,placement:Q,isPositioned:ee,middlewareData:R}=b2({strategy:"fixed",placement:q,whileElementsMounted:(...H)=>d2(...H,{animationFrame:k==="always"}),elements:{reference:C.anchor},middleware:[S2({mainAxis:a+L,alignmentAxis:c}),h&&k2({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?C2():void 0,...K}),h&&E2({...K}),j2({...K,apply:({elements:H,rects:le,availableWidth:ye,availableHeight:be})=>{const{width:Re,height:Fe}=le.reference,at=H.floating.style;at.setProperty("--radix-popper-available-width",`${ye}px`),at.setProperty("--radix-popper-available-height",`${be}px`),at.setProperty("--radix-popper-anchor-width",`${Re}px`),at.setProperty("--radix-popper-anchor-height",`${Fe}px`)}}),P&&T2({element:P,padding:f}),L2({arrowWidth:D,arrowHeight:L}),w&&N2({strategy:"referenceHidden",...K})]}),[V,G]=Gy(Q),O=Qr(_);mt(()=>{ee&&O?.()},[ee,O]);const M=R.arrow?.x,te=R.arrow?.y,ae=R.arrow?.centerOffset!==0,[se,ve]=x.useState();return mt(()=>{E&&ve(window.getComputedStyle(E).zIndex)},[E]),u.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:ee?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(O2,{scope:n,placedSide:V,onArrowChange:z,arrowX:M,arrowY:te,shouldHideArrow:ae,children:u.jsx(Oe.div,{"data-side":V,"data-align":G,...b,ref:j,style:{...b.style,animation:ee?void 0:"none"}})})})});Hy.displayName=mf;var qy="PopperArrow",D2={top:"bottom",right:"left",bottom:"top",left:"right"},Ky=x.forwardRef(function(e,n){const{__scopePopper:o,...a}=e,l=I2(qy,o),c=D2[l.placedSide];return u.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:u.jsx(P2,{...a,ref:n,style:{...a.style,display:"block"}})})});Ky.displayName=qy;function M2(t){return t!==null}var L2=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:o,middlewareData:a}=e,c=a.arrow?.centerOffset!==0,f=c?0:t.arrowWidth,h=c?0:t.arrowHeight,[m,y]=Gy(n),v={start:"0%",center:"50%",end:"100%"}[y],w=(a.arrow?.x??0)+f/2,k=(a.arrow?.y??0)+h/2;let _="",b="";return m==="bottom"?(_=c?v:`${w}px`,b=`${-h}px`):m==="top"?(_=c?v:`${w}px`,b=`${o.floating.height+h}px`):m==="right"?(_=`${-h}px`,b=c?v:`${k}px`):m==="left"&&(_=`${o.floating.width+h}px`,b=c?v:`${k}px`),{data:{x:_,y:b}}}});function Gy(t){const[e,n="center"]=t.split("-");return[e,n]}var $2=By,U2=Wy,z2=Hy,F2=Ky;function B2(t){const e=V2(t),n=x.forwardRef((o,a)=>{const{children:l,...c}=o,f=x.Children.toArray(l),h=f.find(H2);if(h){const m=h.props.children,y=f.map(v=>v===h?x.Children.count(m)>1?x.Children.only(null):x.isValidElement(m)?m.props.children:null:v);return u.jsx(e,{...c,ref:a,children:x.isValidElement(m)?x.cloneElement(m,void 0,y):null})}return u.jsx(e,{...c,ref:a,children:l})});return n.displayName=`${t}.Slot`,n}function V2(t){const e=x.forwardRef((n,o)=>{const{children:a,...l}=n;if(x.isValidElement(a)){const c=K2(a),f=q2(l,a.props);return a.type!==x.Fragment&&(f.ref=o?so(o,c):c),x.cloneElement(a,f)}return x.Children.count(a)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var W2=Symbol("radix.slottable");function H2(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===W2}function q2(t,e){const n={...e};for(const o in e){const a=t[o],l=e[o];/^on[A-Z]/.test(o)?a&&l?n[o]=(...f)=>{const h=l(...f);return a(...f),h}:a&&(n[o]=a):o==="style"?n[o]={...a,...l}:o==="className"&&(n[o]=[a,l].filter(Boolean).join(" "))}return{...t,...n}}function K2(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function gf(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Yy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),G2="VisuallyHidden",Y2=x.forwardRef((t,e)=>u.jsx(Oe.span,{...t,ref:e,style:{...Yy,...t.style}}));Y2.displayName=G2;var J2=[" ","Enter","ArrowUp","ArrowDown"],Q2=[" ","Enter"],ds="Select",[Al,Ol,X2]=nf(ds),[po]=In(ds,[X2,zy]),Il=zy(),[Z2,Dn]=po(ds),[eT,tT]=po(ds),Jy=t=>{const{__scopeSelect:e,children:n,open:o,defaultOpen:a,onOpenChange:l,value:c,defaultValue:f,onValueChange:h,dir:m,name:y,autoComplete:v,disabled:w,required:k,form:_}=t,b=Il(e),[C,E]=x.useState(null),[N,j]=x.useState(null),[P,z]=x.useState(!1),F=El(m),[D,L]=ls({prop:o,defaultProp:a??!1,onChange:l,caller:ds}),[q,W]=ls({prop:c,defaultProp:f,onChange:h,caller:ds}),Z=x.useRef(null),ne=C?_||!!C.closest("form"):!0,[K,ie]=x.useState(new Set),ce=Array.from(K).map(Q=>Q.props.value).join(";");return u.jsx($2,{...b,children:u.jsxs(Z2,{required:k,scope:e,trigger:C,onTriggerChange:E,valueNode:N,onValueNodeChange:j,valueNodeHasChildren:P,onValueNodeHasChildrenChange:z,contentId:Rn(),value:q,onValueChange:W,open:D,onOpenChange:L,dir:F,triggerPointerDownPosRef:Z,disabled:w,children:[u.jsx(Al.Provider,{scope:e,children:u.jsx(eT,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(Q=>{ie(ee=>new Set(ee).add(Q))},[]),onNativeOptionRemove:x.useCallback(Q=>{ie(ee=>{const R=new Set(ee);return R.delete(Q),R})},[]),children:n})}),ne?u.jsxs(yw,{"aria-hidden":!0,required:k,tabIndex:-1,name:y,autoComplete:v,value:q,onChange:Q=>W(Q.target.value),disabled:w,form:_,children:[q===void 0?u.jsx("option",{value:""}):null,Array.from(K)]},ce):null]})})};Jy.displayName=ds;var Qy="SelectTrigger",Xy=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:o=!1,...a}=t,l=Il(n),c=Dn(Qy,n),f=c.disabled||o,h=Ve(e,c.onTriggerChange),m=Ol(n),y=x.useRef("touch"),[v,w,k]=xw(b=>{const C=m().filter(j=>!j.disabled),E=C.find(j=>j.value===c.value),N=bw(C,b,E);N!==void 0&&c.onValueChange(N.value)}),_=b=>{f||(c.onOpenChange(!0),k()),b&&(c.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return u.jsx(U2,{asChild:!0,...l,children:u.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":ww(c.value)?"":void 0,...a,ref:h,onClick:Pe(a.onClick,b=>{b.currentTarget.focus(),y.current!=="mouse"&&_(b)}),onPointerDown:Pe(a.onPointerDown,b=>{y.current=b.pointerType;const C=b.target;C.hasPointerCapture(b.pointerId)&&C.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(_(b),b.preventDefault())}),onKeyDown:Pe(a.onKeyDown,b=>{const C=v.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&w(b.key),!(C&&b.key===" ")&&J2.includes(b.key)&&(_(),b.preventDefault())})})})});Xy.displayName=Qy;var Zy="SelectValue",ew=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:o,style:a,children:l,placeholder:c="",...f}=t,h=Dn(Zy,n),{onValueNodeHasChildrenChange:m}=h,y=l!==void 0,v=Ve(e,h.onValueNodeChange);return mt(()=>{m(y)},[m,y]),u.jsx(Oe.span,{...f,ref:v,style:{pointerEvents:"none"},children:ww(h.value)?u.jsx(u.Fragment,{children:c}):l})});ew.displayName=Zy;var rT="SelectIcon",tw=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:o,...a}=t;return u.jsx(Oe.span,{"aria-hidden":!0,...a,ref:e,children:o||""})});tw.displayName=rT;var nT="SelectPortal",rw=t=>u.jsx(Qd,{asChild:!0,...t});rw.displayName=nT;var fs="SelectContent",nw=x.forwardRef((t,e)=>{const n=Dn(fs,t.__scopeSelect),[o,a]=x.useState();if(mt(()=>{a(new DocumentFragment)},[]),!n.open){const l=o;return l?ba.createPortal(u.jsx(sw,{scope:t.__scopeSelect,children:u.jsx(Al.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),l):null}return u.jsx(ow,{...t,ref:e})});nw.displayName=fs;var vr=10,[sw,Mn]=po(fs),sT="SelectContentImpl",oT=B2("SelectContent.RemoveScroll"),ow=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:c,side:f,sideOffset:h,align:m,alignOffset:y,arrowPadding:v,collisionBoundary:w,collisionPadding:k,sticky:_,hideWhenDetached:b,avoidCollisions:C,...E}=t,N=Dn(fs,n),[j,P]=x.useState(null),[z,F]=x.useState(null),D=Ve(e,H=>P(H)),[L,q]=x.useState(null),[W,Z]=x.useState(null),ne=Ol(n),[K,ie]=x.useState(!1),ce=x.useRef(!1);x.useEffect(()=>{if(j)return Ov(j)},[j]),Cv();const Q=x.useCallback(H=>{const[le,...ye]=ne().map(Fe=>Fe.ref.current),[be]=ye.slice(-1),Re=document.activeElement;for(const Fe of H)if(Fe===Re||(Fe?.scrollIntoView({block:"nearest"}),Fe===le&&z&&(z.scrollTop=0),Fe===be&&z&&(z.scrollTop=z.scrollHeight),Fe?.focus(),document.activeElement!==Re))return},[ne,z]),ee=x.useCallback(()=>Q([L,j]),[Q,L,j]);x.useEffect(()=>{K&&ee()},[K,ee]);const{onOpenChange:R,triggerPointerDownPosRef:V}=N;x.useEffect(()=>{if(j){let H={x:0,y:0};const le=be=>{H={x:Math.abs(Math.round(be.pageX)-(V.current?.x??0)),y:Math.abs(Math.round(be.pageY)-(V.current?.y??0))}},ye=be=>{H.x<=10&&H.y<=10?be.preventDefault():j.contains(be.target)||R(!1),document.removeEventListener("pointermove",le),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ye,{capture:!0})}}},[j,R,V]),x.useEffect(()=>{const H=()=>R(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[R]);const[G,O]=xw(H=>{const le=ne().filter(Re=>!Re.disabled),ye=le.find(Re=>Re.ref.current===document.activeElement),be=bw(le,H,ye);be&&setTimeout(()=>be.ref.current.focus())}),M=x.useCallback((H,le,ye)=>{const be=!ce.current&&!ye;(N.value!==void 0&&N.value===le||be)&&(q(H),be&&(ce.current=!0))},[N.value]),te=x.useCallback(()=>j?.focus(),[j]),ae=x.useCallback((H,le,ye)=>{const be=!ce.current&&!ye;(N.value!==void 0&&N.value===le||be)&&Z(H)},[N.value]),se=o==="popper"?Ed:aw,ve=se===Ed?{side:f,sideOffset:h,align:m,alignOffset:y,arrowPadding:v,collisionBoundary:w,collisionPadding:k,sticky:_,hideWhenDetached:b,avoidCollisions:C}:{};return u.jsx(sw,{scope:n,content:j,viewport:z,onViewportChange:F,itemRefCallback:M,selectedItem:L,onItemLeave:te,itemTextRefCallback:ae,focusSelectedItem:ee,selectedItemText:W,position:o,isPositioned:K,searchRef:G,children:u.jsx(Xd,{as:oT,allowPinchZoom:!0,children:u.jsx(Jd,{asChild:!0,trapped:N.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:Pe(a,H=>{N.trigger?.focus({preventScroll:!0}),H.preventDefault()}),children:u.jsx(Yd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:u.jsx(se,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:H=>H.preventDefault(),...E,...ve,onPlaced:()=>ie(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Pe(E.onKeyDown,H=>{const le=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!le&&H.key.length===1&&O(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let be=ne().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(H.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const Re=H.target,Fe=be.indexOf(Re);be=be.slice(Fe+1)}setTimeout(()=>Q(be)),H.preventDefault()}})})})})})})});ow.displayName=sT;var aT="SelectItemAlignedPosition",aw=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:o,...a}=t,l=Dn(fs,n),c=Mn(fs,n),[f,h]=x.useState(null),[m,y]=x.useState(null),v=Ve(e,D=>y(D)),w=Ol(n),k=x.useRef(!1),_=x.useRef(!0),{viewport:b,selectedItem:C,selectedItemText:E,focusSelectedItem:N}=c,j=x.useCallback(()=>{if(l.trigger&&l.valueNode&&f&&m&&b&&C&&E){const D=l.trigger.getBoundingClientRect(),L=m.getBoundingClientRect(),q=l.valueNode.getBoundingClientRect(),W=E.getBoundingClientRect();if(l.dir!=="rtl"){const Re=W.left-L.left,Fe=q.left-Re,at=D.left-Fe,_e=D.width+at,Mr=Math.max(_e,L.width),Lr=window.innerWidth-vr,or=pl(Fe,[vr,Math.max(vr,Lr-Mr)]);f.style.minWidth=_e+"px",f.style.left=or+"px"}else{const Re=L.right-W.right,Fe=window.innerWidth-q.right-Re,at=window.innerWidth-D.right-Fe,_e=D.width+at,Mr=Math.max(_e,L.width),Lr=window.innerWidth-vr,or=pl(Fe,[vr,Math.max(vr,Lr-Mr)]);f.style.minWidth=_e+"px",f.style.right=or+"px"}const Z=w(),ne=window.innerHeight-vr*2,K=b.scrollHeight,ie=window.getComputedStyle(m),ce=parseInt(ie.borderTopWidth,10),Q=parseInt(ie.paddingTop,10),ee=parseInt(ie.borderBottomWidth,10),R=parseInt(ie.paddingBottom,10),V=ce+Q+K+R+ee,G=Math.min(C.offsetHeight*5,V),O=window.getComputedStyle(b),M=parseInt(O.paddingTop,10),te=parseInt(O.paddingBottom,10),ae=D.top+D.height/2-vr,se=ne-ae,ve=C.offsetHeight/2,H=C.offsetTop+ve,le=ce+Q+H,ye=V-le;if(le<=ae){const Re=Z.length>0&&C===Z[Z.length-1].ref.current;f.style.bottom="0px";const Fe=m.clientHeight-b.offsetTop-b.offsetHeight,at=Math.max(se,ve+(Re?te:0)+Fe+ee),_e=le+at;f.style.height=_e+"px"}else{const Re=Z.length>0&&C===Z[0].ref.current;f.style.top="0px";const at=Math.max(ae,ce+b.offsetTop+(Re?M:0)+ve)+ye;f.style.height=at+"px",b.scrollTop=le-ae+b.offsetTop}f.style.margin=`${vr}px 0`,f.style.minHeight=G+"px",f.style.maxHeight=ne+"px",o?.(),requestAnimationFrame(()=>k.current=!0)}},[w,l.trigger,l.valueNode,f,m,b,C,E,l.dir,o]);mt(()=>j(),[j]);const[P,z]=x.useState();mt(()=>{m&&z(window.getComputedStyle(m).zIndex)},[m]);const F=x.useCallback(D=>{D&&_.current===!0&&(j(),N?.(),_.current=!1)},[j,N]);return u.jsx(lT,{scope:n,contentWrapper:f,shouldExpandOnScrollRef:k,onScrollButtonChange:F,children:u.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:u.jsx(Oe.div,{...a,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});aw.displayName=aT;var iT="SelectPopperPosition",Ed=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:o="start",collisionPadding:a=vr,...l}=t,c=Il(n);return u.jsx(z2,{...c,...l,ref:e,align:o,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ed.displayName=iT;var[lT,vf]=po(fs,{}),jd="SelectViewport",iw=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:o,...a}=t,l=Mn(jd,n),c=vf(jd,n),f=Ve(e,l.onViewportChange),h=x.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),u.jsx(Al.Slot,{scope:n,children:u.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Pe(a.onScroll,m=>{const y=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:w}=c;if(w?.current&&v){const k=Math.abs(h.current-y.scrollTop);if(k>0){const _=window.innerHeight-vr*2,b=parseFloat(v.style.minHeight),C=parseFloat(v.style.height),E=Math.max(b,C);if(E<_){const N=E+k,j=Math.min(_,N),P=N-j;v.style.height=j+"px",v.style.bottom==="0px"&&(y.scrollTop=P>0?P:0,v.style.justifyContent="flex-end")}}}h.current=y.scrollTop})})})]})});iw.displayName=jd;var lw="SelectGroup",[cT,uT]=po(lw),dT=x.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t,a=Rn();return u.jsx(cT,{scope:n,id:a,children:u.jsx(Oe.div,{role:"group","aria-labelledby":a,...o,ref:e})})});dT.displayName=lw;var cw="SelectLabel",fT=x.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t,a=uT(cw,n);return u.jsx(Oe.div,{id:a.id,...o,ref:e})});fT.displayName=cw;var wl="SelectItem",[hT,uw]=po(wl),dw=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:o,disabled:a=!1,textValue:l,...c}=t,f=Dn(wl,n),h=Mn(wl,n),m=f.value===o,[y,v]=x.useState(l??""),[w,k]=x.useState(!1),_=Ve(e,N=>h.itemRefCallback?.(N,o,a)),b=Rn(),C=x.useRef("touch"),E=()=>{a||(f.onValueChange(o),f.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(hT,{scope:n,value:o,disabled:a,textId:b,isSelected:m,onItemTextChange:x.useCallback(N=>{v(j=>j||(N?.textContent??"").trim())},[]),children:u.jsx(Al.ItemSlot,{scope:n,value:o,disabled:a,textValue:y,children:u.jsx(Oe.div,{role:"option","aria-labelledby":b,"data-highlighted":w?"":void 0,"aria-selected":m&&w,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:_,onFocus:Pe(c.onFocus,()=>k(!0)),onBlur:Pe(c.onBlur,()=>k(!1)),onClick:Pe(c.onClick,()=>{C.current!=="mouse"&&E()}),onPointerUp:Pe(c.onPointerUp,()=>{C.current==="mouse"&&E()}),onPointerDown:Pe(c.onPointerDown,N=>{C.current=N.pointerType}),onPointerMove:Pe(c.onPointerMove,N=>{C.current=N.pointerType,a?h.onItemLeave?.():C.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(c.onPointerLeave,N=>{N.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Pe(c.onKeyDown,N=>{h.searchRef?.current!==""&&N.key===" "||(Q2.includes(N.key)&&E(),N.key===" "&&N.preventDefault())})})})})});dw.displayName=wl;var ca="SelectItemText",fw=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:o,style:a,...l}=t,c=Dn(ca,n),f=Mn(ca,n),h=uw(ca,n),m=tT(ca,n),[y,v]=x.useState(null),w=Ve(e,E=>v(E),h.onItemTextChange,E=>f.itemTextRefCallback?.(E,h.value,h.disabled)),k=y?.textContent,_=x.useMemo(()=>u.jsx("option",{value:h.value,disabled:h.disabled,children:k},h.value),[h.disabled,h.value,k]),{onNativeOptionAdd:b,onNativeOptionRemove:C}=m;return mt(()=>(b(_),()=>C(_)),[b,C,_]),u.jsxs(u.Fragment,{children:[u.jsx(Oe.span,{id:h.textId,...l,ref:w}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?ba.createPortal(l.children,c.valueNode):null]})});fw.displayName=ca;var hw="SelectItemIndicator",pw=x.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t;return uw(hw,n).isSelected?u.jsx(Oe.span,{"aria-hidden":!0,...o,ref:e}):null});pw.displayName=hw;var Nd="SelectScrollUpButton",mw=x.forwardRef((t,e)=>{const n=Mn(Nd,t.__scopeSelect),o=vf(Nd,t.__scopeSelect),[a,l]=x.useState(!1),c=Ve(e,o.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let f=function(){const m=h.scrollTop>0;l(m)};const h=n.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),a?u.jsx(vw,{...t,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=n;f&&h&&(f.scrollTop=f.scrollTop-h.offsetHeight)}}):null});mw.displayName=Nd;var Td="SelectScrollDownButton",gw=x.forwardRef((t,e)=>{const n=Mn(Td,t.__scopeSelect),o=vf(Td,t.__scopeSelect),[a,l]=x.useState(!1),c=Ve(e,o.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let f=function(){const m=h.scrollHeight-h.clientHeight,y=Math.ceil(h.scrollTop)<m;l(y)};const h=n.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),a?u.jsx(vw,{...t,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=n;f&&h&&(f.scrollTop=f.scrollTop+h.offsetHeight)}}):null});gw.displayName=Td;var vw=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:o,...a}=t,l=Mn("SelectScrollButton",n),c=x.useRef(null),f=Ol(n),h=x.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return x.useEffect(()=>()=>h(),[h]),mt(()=>{f().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),u.jsx(Oe.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Pe(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(o,50))}),onPointerMove:Pe(a.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(o,50))}),onPointerLeave:Pe(a.onPointerLeave,()=>{h()})})}),pT="SelectSeparator",mT=x.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t;return u.jsx(Oe.div,{"aria-hidden":!0,...o,ref:e})});mT.displayName=pT;var Rd="SelectArrow",gT=x.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t,a=Il(n),l=Dn(Rd,n),c=Mn(Rd,n);return l.open&&c.position==="popper"?u.jsx(F2,{...a,...o,ref:e}):null});gT.displayName=Rd;var vT="SelectBubbleInput",yw=x.forwardRef(({__scopeSelect:t,value:e,...n},o)=>{const a=x.useRef(null),l=Ve(o,a),c=gf(e);return x.useEffect(()=>{const f=a.current;if(!f)return;const h=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==e&&y){const v=new Event("change",{bubbles:!0});y.call(f,e),f.dispatchEvent(v)}},[c,e]),u.jsx(Oe.select,{...n,style:{...Yy,...n.style},ref:l,defaultValue:e})});yw.displayName=vT;function ww(t){return t===""||t===void 0}function xw(t){const e=Qr(t),n=x.useRef(""),o=x.useRef(0),a=x.useCallback(c=>{const f=n.current+c;e(f),(function h(m){n.current=m,window.clearTimeout(o.current),m!==""&&(o.current=window.setTimeout(()=>h(""),1e3))})(f)},[e]),l=x.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,a,l]}function bw(t,e,n){const a=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let c=yT(t,Math.max(l,0));a.length===1&&(c=c.filter(m=>m!==n));const h=c.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==n?h:void 0}function yT(t,e){return t.map((n,o)=>t[(e+o)%t.length])}var wT=Jy,xT=Xy,bT=ew,_T=tw,ST=rw,kT=nw,CT=iw,ET=dw,jT=fw,NT=pw,TT=mw,RT=gw;function el({...t}){return u.jsx(wT,{"data-slot":"select",...t})}function tl({...t}){return u.jsx(bT,{"data-slot":"select-value",...t})}function rl({className:t,size:e="default",children:n,...o}){return u.jsxs(xT,{"data-slot":"select-trigger","data-size":e,className:Be("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...o,children:[n,u.jsx(_T,{asChild:!0,children:u.jsx(Tg,{className:"size-4 opacity-50"})})]})}function nl({className:t,children:e,position:n="popper",...o}){return u.jsx(ST,{children:u.jsxs(kT,{"data-slot":"select-content",className:Be("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...o,children:[u.jsx(PT,{}),u.jsx(CT,{className:Be("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),u.jsx(AT,{})]})})}function En({className:t,children:e,...n}){return u.jsxs(ET,{"data-slot":"select-item",className:Be("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[u.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:u.jsx(NT,{children:u.jsx(Ng,{className:"size-4"})})}),u.jsx(jT,{children:e})]})}function PT({className:t,...e}){return u.jsx(TT,{"data-slot":"select-scroll-up-button",className:Be("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(fb,{className:"size-4"})})}function AT({className:t,...e}){return u.jsx(RT,{"data-slot":"select-scroll-down-button",className:Be("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Tg,{className:"size-4"})})}var _w=["PageUp","PageDown"],Sw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],kw={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},mo="Slider",[Pd,OT,IT]=nf(mo),[Cw]=In(mo,[IT]),[DT,Dl]=Cw(mo),Ew=x.forwardRef((t,e)=>{const{name:n,min:o=0,max:a=100,step:l=1,orientation:c="horizontal",disabled:f=!1,minStepsBetweenThumbs:h=0,defaultValue:m=[o],value:y,onValueChange:v=()=>{},onValueCommit:w=()=>{},inverted:k=!1,form:_,...b}=t,C=x.useRef(new Set),E=x.useRef(0),j=c==="horizontal"?MT:LT,[P=[],z]=ls({prop:y,defaultProp:m,onChange:Z=>{[...C.current][E.current]?.focus(),v(Z)}}),F=x.useRef(P);function D(Z){const ne=BT(P,Z);W(Z,ne)}function L(Z){W(Z,E.current)}function q(){const Z=F.current[E.current];P[E.current]!==Z&&w(P)}function W(Z,ne,{commit:K}={commit:!1}){const ie=qT(l),ce=KT(Math.round((Z-o)/l)*l+o,ie),Q=pl(ce,[o,a]);z((ee=[])=>{const R=zT(ee,Q,ne);if(HT(R,h*l)){E.current=R.indexOf(Q);const V=String(R)!==String(ee);return V&&K&&w(R),V?R:ee}else return ee})}return u.jsx(DT,{scope:t.__scopeSlider,name:n,disabled:f,min:o,max:a,valueIndexToChangeRef:E,thumbs:C.current,values:P,orientation:c,form:_,children:u.jsx(Pd.Provider,{scope:t.__scopeSlider,children:u.jsx(Pd.Slot,{scope:t.__scopeSlider,children:u.jsx(j,{"aria-disabled":f,"data-disabled":f?"":void 0,...b,ref:e,onPointerDown:Pe(b.onPointerDown,()=>{f||(F.current=P)}),min:o,max:a,inverted:k,onSlideStart:f?void 0:D,onSlideMove:f?void 0:L,onSlideEnd:f?void 0:q,onHomeKeyDown:()=>!f&&W(o,0,{commit:!0}),onEndKeyDown:()=>!f&&W(a,P.length-1,{commit:!0}),onStepKeyDown:({event:Z,direction:ne})=>{if(!f){const ce=_w.includes(Z.key)||Z.shiftKey&&Sw.includes(Z.key)?10:1,Q=E.current,ee=P[Q],R=l*ce*ne;W(ee+R,Q,{commit:!0})}}})})})})});Ew.displayName=mo;var[jw,Nw]=Cw(mo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),MT=x.forwardRef((t,e)=>{const{min:n,max:o,dir:a,inverted:l,onSlideStart:c,onSlideMove:f,onSlideEnd:h,onStepKeyDown:m,...y}=t,[v,w]=x.useState(null),k=Ve(e,j=>w(j)),_=x.useRef(void 0),b=El(a),C=b==="ltr",E=C&&!l||!C&&l;function N(j){const P=_.current||v.getBoundingClientRect(),z=[0,P.width],D=yf(z,E?[n,o]:[o,n]);return _.current=P,D(j-P.left)}return u.jsx(jw,{scope:t.__scopeSlider,startEdge:E?"left":"right",endEdge:E?"right":"left",direction:E?1:-1,size:"width",children:u.jsx(Tw,{dir:b,"data-orientation":"horizontal",...y,ref:k,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const P=N(j.clientX);c?.(P)},onSlideMove:j=>{const P=N(j.clientX);f?.(P)},onSlideEnd:()=>{_.current=void 0,h?.()},onStepKeyDown:j=>{const z=kw[E?"from-left":"from-right"].includes(j.key);m?.({event:j,direction:z?-1:1})}})})}),LT=x.forwardRef((t,e)=>{const{min:n,max:o,inverted:a,onSlideStart:l,onSlideMove:c,onSlideEnd:f,onStepKeyDown:h,...m}=t,y=x.useRef(null),v=Ve(e,y),w=x.useRef(void 0),k=!a;function _(b){const C=w.current||y.current.getBoundingClientRect(),E=[0,C.height],j=yf(E,k?[o,n]:[n,o]);return w.current=C,j(b-C.top)}return u.jsx(jw,{scope:t.__scopeSlider,startEdge:k?"bottom":"top",endEdge:k?"top":"bottom",size:"height",direction:k?1:-1,children:u.jsx(Tw,{"data-orientation":"vertical",...m,ref:v,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const C=_(b.clientY);l?.(C)},onSlideMove:b=>{const C=_(b.clientY);c?.(C)},onSlideEnd:()=>{w.current=void 0,f?.()},onStepKeyDown:b=>{const E=kw[k?"from-bottom":"from-top"].includes(b.key);h?.({event:b,direction:E?-1:1})}})})}),Tw=x.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onHomeKeyDown:c,onEndKeyDown:f,onStepKeyDown:h,...m}=t,y=Dl(mo,n);return u.jsx(Oe.span,{...m,ref:e,onKeyDown:Pe(t.onKeyDown,v=>{v.key==="Home"?(c(v),v.preventDefault()):v.key==="End"?(f(v),v.preventDefault()):_w.concat(Sw).includes(v.key)&&(h(v),v.preventDefault())}),onPointerDown:Pe(t.onPointerDown,v=>{const w=v.target;w.setPointerCapture(v.pointerId),v.preventDefault(),y.thumbs.has(w)?w.focus():o(v)}),onPointerMove:Pe(t.onPointerMove,v=>{v.target.hasPointerCapture(v.pointerId)&&a(v)}),onPointerUp:Pe(t.onPointerUp,v=>{const w=v.target;w.hasPointerCapture(v.pointerId)&&(w.releasePointerCapture(v.pointerId),l(v))})})}),Rw="SliderTrack",Pw=x.forwardRef((t,e)=>{const{__scopeSlider:n,...o}=t,a=Dl(Rw,n);return u.jsx(Oe.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...o,ref:e})});Pw.displayName=Rw;var Ad="SliderRange",Aw=x.forwardRef((t,e)=>{const{__scopeSlider:n,...o}=t,a=Dl(Ad,n),l=Nw(Ad,n),c=x.useRef(null),f=Ve(e,c),h=a.values.length,m=a.values.map(w=>Dw(w,a.min,a.max)),y=h>1?Math.min(...m):0,v=100-Math.max(...m);return u.jsx(Oe.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...o,ref:f,style:{...t.style,[l.startEdge]:y+"%",[l.endEdge]:v+"%"}})});Aw.displayName=Ad;var Od="SliderThumb",Ow=x.forwardRef((t,e)=>{const n=OT(t.__scopeSlider),[o,a]=x.useState(null),l=Ve(e,f=>a(f)),c=x.useMemo(()=>o?n().findIndex(f=>f.ref.current===o):-1,[n,o]);return u.jsx($T,{...t,ref:l,index:c})}),$T=x.forwardRef((t,e)=>{const{__scopeSlider:n,index:o,name:a,...l}=t,c=Dl(Od,n),f=Nw(Od,n),[h,m]=x.useState(null),y=Ve(e,N=>m(N)),v=h?c.form||!!h.closest("form"):!0,w=hf(h),k=c.values[o],_=k===void 0?0:Dw(k,c.min,c.max),b=FT(o,c.values.length),C=w?.[f.size],E=C?VT(C,_,f.direction):0;return x.useEffect(()=>{if(h)return c.thumbs.add(h),()=>{c.thumbs.delete(h)}},[h,c.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[f.startEdge]:`calc(${_}% + ${E}px)`},children:[u.jsx(Pd.ItemSlot,{scope:t.__scopeSlider,children:u.jsx(Oe.span,{role:"slider","aria-label":t["aria-label"]||b,"aria-valuemin":c.min,"aria-valuenow":k,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...l,ref:y,style:k===void 0?{display:"none"}:t.style,onFocus:Pe(t.onFocus,()=>{c.valueIndexToChangeRef.current=o})})}),v&&u.jsx(Iw,{name:a??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:k},o)]})});Ow.displayName=Od;var UT="RadioBubbleInput",Iw=x.forwardRef(({__scopeSlider:t,value:e,...n},o)=>{const a=x.useRef(null),l=Ve(a,o),c=gf(e);return x.useEffect(()=>{const f=a.current;if(!f)return;const h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==e&&y){const v=new Event("input",{bubbles:!0});y.call(f,e),f.dispatchEvent(v)}},[c,e]),u.jsx(Oe.input,{style:{display:"none"},...n,ref:l,defaultValue:e})});Iw.displayName=UT;function zT(t=[],e,n){const o=[...t];return o[n]=e,o.sort((a,l)=>a-l)}function Dw(t,e,n){const l=100/(n-e)*(t-e);return pl(l,[0,100])}function FT(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function BT(t,e){if(t.length===1)return 0;const n=t.map(a=>Math.abs(a-e)),o=Math.min(...n);return n.indexOf(o)}function VT(t,e,n){const o=t/2,l=yf([0,50],[0,o]);return(o-l(e)*n)*n}function WT(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function HT(t,e){if(e>0){const n=WT(t);return Math.min(...n)>=e}return!0}function yf(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const o=(e[1]-e[0])/(t[1]-t[0]);return e[0]+o*(n-t[0])}}function qT(t){return(String(t).split(".")[1]||"").length}function KT(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var GT=Ew,YT=Pw,JT=Aw,QT=Ow;function XT({className:t,defaultValue:e,value:n,min:o=0,max:a=100,...l}){const c=x.useMemo(()=>Array.isArray(n)?n:Array.isArray(e)?e:[o,a],[n,e,o,a]);return u.jsxs(GT,{"data-slot":"slider",defaultValue:e,value:n,min:o,max:a,className:Be("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...l,children:[u.jsx(YT,{"data-slot":"slider-track",className:Be("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:u.jsx(JT,{"data-slot":"slider-range",className:Be("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:c.length},(f,h)=>u.jsx(QT,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},h))]})}function ZT({onClose:t}){const{theme:e,updateTheme:n,resetTheme:o}=Md(),[a,l]=x.useState("colors"),c=[{value:"system-ui",label:"System Default"},{value:"Georgia, serif",label:"Georgia (Serif)"},{value:"'Times New Roman', serif",label:"Times New Roman"},{value:"Arial, sans-serif",label:"Arial"},{value:"'Courier New', monospace",label:"Courier New"},{value:"'Comic Sans MS', cursive",label:"Comic Sans"},{value:"'Palatino Linotype', serif",label:"Palatino"},{value:"Verdana, sans-serif",label:"Verdana"}],f=[{name:"Warm Poetry",colors:{primaryColor:"#d4756f",secondaryColor:"#c9a28f",accentColor:"#fce4da",backgroundColor:"#fef9f5",textColor:"#2d2424"}},{name:"Ocean Breeze",colors:{primaryColor:"#4a90a4",secondaryColor:"#7bc8d9",accentColor:"#e0f4f7",backgroundColor:"#f0f9fa",textColor:"#1a3a42"}},{name:"Forest Dream",colors:{primaryColor:"#5a8f69",secondaryColor:"#88b896",accentColor:"#d4e8d8",backgroundColor:"#f4f8f5",textColor:"#2a3f2e"}},{name:"Lavender Field",colors:{primaryColor:"#9b7eb8",secondaryColor:"#c4a7d8",accentColor:"#f0e6f7",backgroundColor:"#f9f5fc",textColor:"#3d2a4a"}},{name:"Sunset Glow",colors:{primaryColor:"#e07856",secondaryColor:"#f4a261",accentColor:"#fce4d6",backgroundColor:"#fff8f2",textColor:"#3a2418"}},{name:"Midnight Blue",colors:{primaryColor:"#4a5899",secondaryColor:"#7582c4",accentColor:"#e3e6f5",backgroundColor:"#f2f3f9",textColor:"#1e2440"}}],h=[{value:"0rem",label:"Square"},{value:"0.5rem",label:"Slightly Rounded"},{value:"1rem",label:"Rounded"},{value:"1.5rem",label:"Very Rounded"},{value:"2rem",label:"Extra Rounded"}],m=v=>parseInt(v),y=v=>`${v}px`;return u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs(xr,{className:"border backdrop-blur-md rounded-2xl shadow-lg overflow-hidden",style:{borderColor:"var(--theme-primary)",backgroundColor:"var(--theme-card-bg)",opacity:.95},children:[u.jsxs("div",{className:"border-b border-[var(--theme-primary)]/20 p-4 flex items-center justify-between bg-gradient-to-r from-[var(--theme-accent)]/30 to-[var(--theme-accent)]/10",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(il,{className:"w-6 h-6 text-[var(--theme-primary)]"}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-[var(--theme-text)]",children:"Theme Customizer"}),u.jsx("p",{className:"text-sm text-[var(--theme-text)]/60",children:"Personalize your experience"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Ae,{onClick:o,variant:"outline",size:"sm",className:"border-[var(--theme-primary)]/30 text-[var(--theme-primary)] hover:bg-[var(--theme-accent)] rounded-xl",children:[u.jsx(Hb,{className:"w-4 h-4 mr-2"}),"Reset"]}),t&&u.jsx(Ae,{onClick:t,variant:"ghost",size:"icon",className:"hover:bg-[var(--theme-accent)]",children:u.jsx(bl,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"p-4 md:p-6",children:u.jsxs(co,{value:a,onValueChange:l,children:[u.jsxs(uo,{className:"grid w-full grid-cols-2 md:grid-cols-4 bg-[var(--theme-accent)]/50 mb-6 gap-1 md:gap-0",children:[u.jsxs(Rt,{value:"colors",className:"text-xs md:text-sm",children:[u.jsx(il,{className:"w-4 h-4 mr-1 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Colors"}),u.jsx("span",{className:"md:hidden",children:"Color"})]}),u.jsxs(Rt,{value:"typography",className:"text-xs md:text-sm",children:[u.jsx(sd,{className:"w-4 h-4 mr-1 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Typography"}),u.jsx("span",{className:"md:hidden",children:"Type"})]}),u.jsxs(Rt,{value:"layout",className:"text-xs md:text-sm",children:[u.jsx(zb,{className:"w-4 h-4 mr-1 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Layout"}),u.jsx("span",{className:"md:hidden",children:"Style"})]}),u.jsxs(Rt,{value:"chat",className:"text-xs md:text-sm",children:[u.jsx(Db,{className:"w-4 h-4 mr-1 md:mr-2"}),"Chat"]})]}),u.jsxs(Pt,{value:"colors",className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-[var(--theme-text)] mb-4",children:"Preset Themes"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:f.map(v=>u.jsxs("button",{onClick:()=>n(v.colors),className:"p-4 rounded-xl border-2 border-[var(--theme-primary)]/20 hover:border-[var(--theme-primary)] transition-all text-left",children:[u.jsxs("div",{className:"flex gap-1 mb-2",children:[u.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:v.colors.primaryColor}}),u.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:v.colors.secondaryColor}}),u.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:v.colors.accentColor}})]}),u.jsx("p",{className:"text-sm text-[var(--theme-text)]",children:v.name})]},v.name))})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-[var(--theme-text)] mb-2",children:"Custom Colors"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(nr,{htmlFor:"primaryColor",children:"Primary Color"}),u.jsxs("div",{className:"flex gap-2 mt-1",children:[u.jsx(Ke,{id:"primaryColor",type:"color",value:e.primaryColor,onChange:v=>n({primaryColor:v.target.value}),className:"w-16 h-10 p-1 rounded-lg"}),u.jsx(Ke,{type:"text",value:e.primaryColor,onChange:v=>n({primaryColor:v.target.value}),className:"flex-1 rounded-lg"})]})]}),u.jsxs("div",{children:[u.jsx(nr,{htmlFor:"secondaryColor",children:"Secondary Color"}),u.jsxs("div",{className:"flex gap-2 mt-1",children:[u.jsx(Ke,{id:"secondaryColor",type:"color",value:e.secondaryColor,onChange:v=>n({secondaryColor:v.target.value}),className:"w-16 h-10 p-1 rounded-lg"}),u.jsx(Ke,{type:"text",value:e.secondaryColor,onChange:v=>n({secondaryColor:v.target.value}),className:"flex-1 rounded-lg"})]})]}),u.jsxs("div",{children:[u.jsx(nr,{htmlFor:"accentColor",children:"Accent Color"}),u.jsxs("div",{className:"flex gap-2 mt-1",children:[u.jsx(Ke,{id:"accentColor",type:"color",value:e.accentColor,onChange:v=>n({accentColor:v.target.value}),className:"w-16 h-10 p-1 rounded-lg"}),u.jsx(Ke,{type:"text",value:e.accentColor,onChange:v=>n({accentColor:v.target.value}),className:"flex-1 rounded-lg"})]})]}),u.jsxs("div",{children:[u.jsx(nr,{htmlFor:"backgroundColor",children:"Background Color"}),u.jsxs("div",{className:"flex gap-2 mt-1",children:[u.jsx(Ke,{id:"backgroundColor",type:"color",value:e.backgroundColor,onChange:v=>n({backgroundColor:v.target.value}),className:"w-16 h-10 p-1 rounded-lg"}),u.jsx(Ke,{type:"text",value:e.backgroundColor,onChange:v=>n({backgroundColor:v.target.value}),className:"flex-1 rounded-lg"})]})]}),u.jsxs("div",{children:[u.jsx(nr,{htmlFor:"textColor",children:"Text Color"}),u.jsxs("div",{className:"flex gap-2 mt-1",children:[u.jsx(Ke,{id:"textColor",type:"color",value:e.textColor,onChange:v=>n({textColor:v.target.value}),className:"w-16 h-10 p-1 rounded-lg"}),u.jsx(Ke,{type:"text",value:e.textColor,onChange:v=>n({textColor:v.target.value}),className:"flex-1 rounded-lg"})]})]})]})]})]}),u.jsxs(Pt,{value:"typography",className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(nr,{htmlFor:"fontFamily",children:"Font Family"}),u.jsxs(el,{value:e.fontFamily,onValueChange:v=>n({fontFamily:v}),children:[u.jsx(rl,{className:"mt-1 rounded-lg",children:u.jsx(tl,{})}),u.jsx(nl,{children:c.map(v=>u.jsx(En,{value:v.value,children:u.jsx("span",{style:{fontFamily:v.value},children:v.label})},v.value))})]})]}),u.jsxs("div",{children:[u.jsxs(nr,{htmlFor:"fontSize",children:["Font Size: ",e.fontSize]}),u.jsx(XT,{id:"fontSize",min:12,max:20,step:1,value:[m(e.fontSize)],onValueChange:v=>n({fontSize:y(v[0])}),className:"mt-2"}),u.jsxs("div",{className:"flex justify-between text-xs text-[var(--theme-text)]/60 mt-1",children:[u.jsx("span",{children:"Small"}),u.jsx("span",{children:"Large"})]})]}),u.jsx("div",{className:"p-4 rounded-xl bg-[var(--theme-accent)]/30 border border-[var(--theme-primary)]/10",children:u.jsx("p",{className:"text-[var(--theme-text)]",style:{fontFamily:e.fontFamily,fontSize:e.fontSize},children:"The quick brown fox jumps over the lazy dog. This is a preview of your selected font family and size."})})]}),u.jsxs(Pt,{value:"layout",className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(nr,{htmlFor:"borderRadius",children:"Border Radius"}),u.jsxs(el,{value:e.borderRadius,onValueChange:v=>n({borderRadius:v}),children:[u.jsx(rl,{className:"mt-1 rounded-lg",children:u.jsx(tl,{})}),u.jsx(nl,{children:h.map(v=>u.jsx(En,{value:v.value,children:v.label},v.value))})]})]}),u.jsxs("div",{children:[u.jsx(nr,{htmlFor:"cardStyle",children:"Card Style"}),u.jsxs(el,{value:e.cardStyle,onValueChange:v=>n({cardStyle:v}),children:[u.jsx(rl,{className:"mt-1 rounded-lg",children:u.jsx(tl,{})}),u.jsxs(nl,{children:[u.jsx(En,{value:"glass",children:"Glass (Frosted)"}),u.jsx(En,{value:"solid",children:"Solid"}),u.jsx(En,{value:"minimal",children:"Minimal"})]})]})]}),u.jsx("div",{className:"grid grid-cols-3 gap-3",children:u.jsx("div",{className:`p-4 rounded-xl border ${e.cardStyle==="glass"?"bg-white/80 backdrop-blur-sm border-[var(--theme-primary)]/20":e.cardStyle==="solid"?"bg-white border-[var(--theme-primary)]/20":"bg-transparent border border-[var(--theme-primary)]/30"}`,style:{borderRadius:e.borderRadius},children:u.jsx("p",{className:"text-sm text-[var(--theme-text)]",children:"Card Preview"})})})]}),u.jsxs(Pt,{value:"chat",className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(nr,{htmlFor:"chatBubbleStyle",children:"Chat Bubble Style"}),u.jsxs(el,{value:e.chatBubbleStyle,onValueChange:v=>n({chatBubbleStyle:v}),children:[u.jsx(rl,{className:"mt-1 rounded-lg",children:u.jsx(tl,{})}),u.jsxs(nl,{children:[u.jsx(En,{value:"rounded",children:"Rounded"}),u.jsx(En,{value:"square",children:"Square"}),u.jsx(En,{value:"bubble",children:"Speech Bubble"})]})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(nr,{htmlFor:"chatMyMessageBg",children:"My Message Color"}),u.jsxs("div",{className:"flex gap-2 mt-1",children:[u.jsx(Ke,{id:"chatMyMessageBg",type:"color",value:e.chatMyMessageBg,onChange:v=>n({chatMyMessageBg:v.target.value}),className:"w-16 h-10 p-1 rounded-lg"}),u.jsx(Ke,{type:"text",value:e.chatMyMessageBg,onChange:v=>n({chatMyMessageBg:v.target.value}),className:"flex-1 rounded-lg"})]})]}),u.jsxs("div",{children:[u.jsx(nr,{htmlFor:"chatOtherMessageBg",children:"Other Message Color"}),u.jsxs("div",{className:"flex gap-2 mt-1",children:[u.jsx(Ke,{id:"chatOtherMessageBg",type:"color",value:e.chatOtherMessageBg,onChange:v=>n({chatOtherMessageBg:v.target.value}),className:"w-16 h-10 p-1 rounded-lg"}),u.jsx(Ke,{type:"text",value:e.chatOtherMessageBg,onChange:v=>n({chatOtherMessageBg:v.target.value}),className:"flex-1 rounded-lg"})]})]})]}),u.jsxs("div",{className:"space-y-3 p-4 rounded-xl bg-[var(--theme-accent)]/30 border border-[var(--theme-primary)]/10",children:[u.jsx("p",{className:"text-sm text-[var(--theme-text)]/60 mb-3",children:"Chat Preview:"}),u.jsx("div",{className:"flex justify-end",children:u.jsx("div",{className:`px-4 py-2 max-w-[70%] text-white ${e.chatBubbleStyle==="bubble"?"rounded-2xl rounded-br-sm":""}`,style:{backgroundColor:e.chatMyMessageBg,borderRadius:e.chatBubbleStyle==="square"?"0.25rem":e.chatBubbleStyle==="bubble"?"1.5rem":e.borderRadius},children:"My message"})}),u.jsx("div",{className:"flex justify-start",children:u.jsx("div",{className:`px-4 py-2 max-w-[70%] ${e.chatBubbleStyle==="bubble"?"rounded-2xl rounded-bl-sm":""}`,style:{backgroundColor:e.chatOtherMessageBg,color:e.textColor,borderRadius:e.chatBubbleStyle==="square"?"0.25rem":e.chatBubbleStyle==="bubble"?"1.5rem":e.borderRadius,border:`1px solid ${e.primaryColor}20`},children:"Their message"})})]})]})]})})]})})}function bg({className:t,...e}){return u.jsx("textarea",{"data-slot":"textarea",className:Be("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function eR(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let Id=1;class tR{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:o,...a}=e,l=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Id++,c=this.toasts.find(h=>h.id===l),f=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(h=>h.id===l?(this.publish({...h,...e,id:l,title:o}),{...h,...e,id:l,dismissible:f,title:o}):h):this.addToast({title:o,...a,dismissible:f,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(o=>o({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let o;n.loading!==void 0&&(o=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let l=o!==void 0,c;const f=a.then(async m=>{if(c=["resolve",m],oe.isValidElement(m))l=!1,this.create({id:o,type:"default",message:m});else if(nR(m)&&!m.ok){l=!1;const v=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,w=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,_=typeof v=="object"&&!oe.isValidElement(v)?v:{message:v};this.create({id:o,type:"error",description:w,..._})}else if(m instanceof Error){l=!1;const v=typeof n.error=="function"?await n.error(m):n.error,w=typeof n.description=="function"?await n.description(m):n.description,_=typeof v=="object"&&!oe.isValidElement(v)?v:{message:v};this.create({id:o,type:"error",description:w,..._})}else if(n.success!==void 0){l=!1;const v=typeof n.success=="function"?await n.success(m):n.success,w=typeof n.description=="function"?await n.description(m):n.description,_=typeof v=="object"&&!oe.isValidElement(v)?v:{message:v};this.create({id:o,type:"success",description:w,..._})}}).catch(async m=>{if(c=["reject",m],n.error!==void 0){l=!1;const y=typeof n.error=="function"?await n.error(m):n.error,v=typeof n.description=="function"?await n.description(m):n.description,k=typeof y=="object"&&!oe.isValidElement(y)?y:{message:y};this.create({id:o,type:"error",description:v,...k})}}).finally(()=>{l&&(this.dismiss(o),o=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((m,y)=>f.then(()=>c[0]==="reject"?y(c[1]):m(c[1])).catch(y));return typeof o!="string"&&typeof o!="number"?{unwrap:h}:Object.assign(o,{unwrap:h})},this.custom=(e,n)=>{const o=n?.id||Id++;return this.create({jsx:e(o),id:o,...n}),o},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const sr=new tR,rR=(t,e)=>{const n=e?.id||Id++;return sr.addToast({title:t,...e,id:n}),n},nR=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",sR=rR,oR=()=>sr.toasts,aR=()=>sr.getActiveToasts(),Xs=Object.assign(sR,{success:sr.success,info:sr.info,warning:sr.warning,error:sr.error,custom:sr.custom,message:sr.message,promise:sr.promise,dismiss:sr.dismiss,loading:sr.loading},{getHistory:oR,getToasts:aR});eR("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");var Ml="Checkbox",[iR]=In(Ml),[lR,wf]=iR(Ml);function cR(t){const{__scopeCheckbox:e,checked:n,children:o,defaultChecked:a,disabled:l,form:c,name:f,onCheckedChange:h,required:m,value:y="on",internal_do_not_use_render:v}=t,[w,k]=ls({prop:n,defaultProp:a??!1,onChange:h,caller:Ml}),[_,b]=x.useState(null),[C,E]=x.useState(null),N=x.useRef(!1),j=_?!!c||!!_.closest("form"):!0,P={checked:w,disabled:l,setChecked:k,control:_,setControl:b,name:f,form:c,value:y,hasConsumerStoppedPropagationRef:N,required:m,defaultChecked:Pn(a)?!1:a,isFormControl:j,bubbleInput:C,setBubbleInput:E};return u.jsx(lR,{scope:e,...P,children:uR(v)?v(P):o})}var Mw="CheckboxTrigger",Lw=x.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...o},a)=>{const{control:l,value:c,disabled:f,checked:h,required:m,setControl:y,setChecked:v,hasConsumerStoppedPropagationRef:w,isFormControl:k,bubbleInput:_}=wf(Mw,t),b=Ve(a,y),C=x.useRef(h);return x.useEffect(()=>{const E=l?.form;if(E){const N=()=>v(C.current);return E.addEventListener("reset",N),()=>E.removeEventListener("reset",N)}},[l,v]),u.jsx(Oe.button,{type:"button",role:"checkbox","aria-checked":Pn(h)?"mixed":h,"aria-required":m,"data-state":Vw(h),"data-disabled":f?"":void 0,disabled:f,value:c,...o,ref:b,onKeyDown:Pe(e,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:Pe(n,E=>{v(N=>Pn(N)?!0:!N),_&&k&&(w.current=E.isPropagationStopped(),w.current||E.stopPropagation())})})});Lw.displayName=Mw;var $w=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:o,checked:a,defaultChecked:l,required:c,disabled:f,value:h,onCheckedChange:m,form:y,...v}=t;return u.jsx(cR,{__scopeCheckbox:n,checked:a,defaultChecked:l,disabled:f,required:c,onCheckedChange:m,name:o,form:y,value:h,internal_do_not_use_render:({isFormControl:w})=>u.jsxs(u.Fragment,{children:[u.jsx(Lw,{...v,ref:e,__scopeCheckbox:n}),w&&u.jsx(Bw,{__scopeCheckbox:n})]})})});$w.displayName=Ml;var Uw="CheckboxIndicator",zw=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:o,...a}=t,l=wf(Uw,n);return u.jsx(lo,{present:o||Pn(l.checked)||l.checked===!0,children:u.jsx(Oe.span,{"data-state":Vw(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});zw.displayName=Uw;var Fw="CheckboxBubbleInput",Bw=x.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:o,hasConsumerStoppedPropagationRef:a,checked:l,defaultChecked:c,required:f,disabled:h,name:m,value:y,form:v,bubbleInput:w,setBubbleInput:k}=wf(Fw,t),_=Ve(n,k),b=gf(l),C=hf(o);x.useEffect(()=>{const N=w;if(!N)return;const j=window.HTMLInputElement.prototype,z=Object.getOwnPropertyDescriptor(j,"checked").set,F=!a.current;if(b!==l&&z){const D=new Event("click",{bubbles:F});N.indeterminate=Pn(l),z.call(N,Pn(l)?!1:l),N.dispatchEvent(D)}},[w,b,l,a]);const E=x.useRef(Pn(l)?!1:l);return u.jsx(Oe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??E.current,required:f,disabled:h,name:m,value:y,form:v,...e,tabIndex:-1,ref:_,style:{...e.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Bw.displayName=Fw;function uR(t){return typeof t=="function"}function Pn(t){return t==="indeterminate"}function Vw(t){return Pn(t)?"indeterminate":t?"checked":"unchecked"}function dR({className:t,...e}){return u.jsx($w,{"data-slot":"checkbox",className:Be("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:u.jsx(zw,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:u.jsx(Ng,{className:"size-3.5"})})})}function fR({onViewChange:t,userId:e}){const{refreshAvatar:n}=xf(),[o,a]=x.useState([]),[l,c]=x.useState(!0),[f,h]=x.useState(null),[m,y]=x.useState(!1),[v,w]=x.useState(""),[k,_]=x.useState(""),[b,C]=x.useState(""),[E,N]=x.useState(""),[j,P]=x.useState(""),[z,F]=x.useState(null),[D,L]=x.useState(null),[q,W]=x.useState(!1),[Z,ne]=x.useState([]),[K,ie]=x.useState(""),[ce,Q]=x.useState(""),[ee,R]=x.useState(""),V=async()=>{try{if(e){const{data:M,error:te}=await de.from("profiles").select("*").eq("id",e).maybeSingle();if(te)throw te;M?(h(M),w(M.full_name||""),_(M.bio||""),C(M.location||""),N(M.avatar_url||""),P(M.cover_url||""),W(M.is_motivator||!1),ne(M.interests||[]),Q(M.motivator_title||""),R(M.motivator_bio||"")):(h({}),w(""),_(""),C(""),N(""),P(""),W(!1),ne([]),Q(""),R(""));const{data:ae,error:se}=await de.from("posts").select("*").eq("user_id",e).order("created_at",{ascending:!1}),ve=(ae||[]).map(H=>({postId:H.id,author:{full_name:M?.full_name||M?.username||"User",username:M?.username||"user",avatar_url:M?.avatar_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(M?.full_name||M?.username||"user")}&background=random`},title:H.title,content:H.content,likes:H.likes||0,comments:H.comments||0,created_at:H.created_at?new Date(H.created_at).toLocaleDateString():"Just now",category:H.category||"General"}));a(ve)}}catch(M){console.error("Error fetching profile data:",M)}finally{c(!1)}};x.useEffect(()=>{V()},[e]);const G=async()=>{c(!0);try{const{data:{user:M}}=await de.auth.getUser();if(!M)throw new Error("No authenticated user");let te=E,ae=j;if(z){const le=z.name.split(".").pop(),ye=`${M.id}/avatar-${Date.now()}.${le}`,{error:be}=await de.storage.from("avatars").upload(ye,z,{cacheControl:"3600",upsert:!0});if(be)throw be;const{data:{publicUrl:Re}}=de.storage.from("avatars").getPublicUrl(ye);te=Re}else if(E===""&&f?.avatar_url){const le=f.avatar_url.split("/").pop();if(le){const{error:ye}=await de.storage.from("avatars").remove([`${M.id}/${le}`]);ye&&console.error("Error deleting previous avatar:",ye)}}if(D){const le=D.name.split(".").pop(),ye=`${M.id}/cover-${Date.now()}.${le}`,{error:be}=await de.storage.from("covers").upload(ye,D,{cacheControl:"3600",upsert:!0});if(be)throw be;const{data:{publicUrl:Re}}=de.storage.from("covers").getPublicUrl(ye);ae=Re}else if(j===""&&f?.cover_url){const le=f.cover_url.split("/").pop();if(le){const{error:ye}=await de.storage.from("covers").remove([`${M.id}/${le}`]);ye&&console.error("Error deleting previous cover:",ye)}}const se={full_name:v,bio:k,location:b,avatar_url:te,cover_url:ae,is_motivator:q,motivator_title:ce,motivator_bio:ee,interests:Z,updated_at:new Date().toISOString()};console.log("Attempting to update profile for user ID:",M.id),console.log("Data being sent:",se);const{data:ve,error:H}=await de.from("profiles").update(se).eq("id",M.id).select();if(H)throw console.error("Supabase update error:",H),H.details&&console.error("Error details:",H.details),H.hint&&console.error("Error hint:",H.hint),H;console.log("Supabase update successful, received data:",ve),F(null),L(null),Xs.success("Profile updated successfully!"),y(!1),await V(),await n()}catch(M){console.error("Final error during profile update:",M),Xs.error(M.message||"Failed to update profile")}finally{c(!1)}},O=x.useMemo(()=>({name:f?.full_name||f?.username||"User",username:`@${f?.username||"user"}`,avatar:f?.avatar_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(f?.full_name||f?.username||"user")}&background=random`,coverImage:f?.cover_url||"https://images.unsplash.com/photo-1519681393784-d120267933ba?w=1200&h=400&fit=crop",avatar_url:f?.avatar_url||"",cover_url:f?.cover_url||"",bio:f?.bio||"No bio yet.",location:f?.location||"Unknown",joinDate:f?.created_at?new Date(f.created_at).toLocaleDateString():"January 2024",isMotivator:f?.is_motivator||!1,motivatorTitle:f?.motivator_title||"",motivatorBio:f?.motivator_bio||"",stats:{posts:o.length,followers:0,following:0},interests:f?.interests||[]}),[f,o]);return l&&!f?u.jsx("div",{className:"max-w-4xl mx-auto py-12 text-center",children:u.jsx("p",{style:{color:"var(--theme-text)",opacity:.6},children:"Loading profile..."})}):u.jsxs("div",{className:"max-w-4xl mx-auto pb-12",children:[u.jsx("div",{className:"w-full h-48 md:h-64 rounded-3xl overflow-hidden mb-6 shadow-lg relative group",style:{backgroundImage:`url(${D?URL.createObjectURL(D):O.coverImage})`,backgroundSize:"cover",backgroundPosition:"center"},children:m&&u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity gap-3",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("label",{htmlFor:"cover-upload",className:"cursor-pointer bg-white px-6 py-2.5 rounded-2xl text-sm font-bold flex items-center shadow-xl hover:bg-gray-100 transition-all",style:{color:"#000000"},children:[u.jsx(a_,{className:"w-4 h-4 mr-2",style:{color:"#000000"}})," UPLOAD COVER"]}),u.jsx("input",{id:"cover-upload",type:"file",accept:"image/*",className:"hidden",onChange:M=>L(M.target.files?.[0]||null)}),(j||D)&&u.jsxs(Ae,{variant:"destructive",size:"default",onClick:()=>{P(""),L(null)},className:"rounded-2xl px-6 font-bold shadow-xl",children:[u.jsx(nd,{className:"w-4 h-4 mr-2"})," DELETE COVER"]})]})})}),u.jsxs("div",{className:"px-4 md:px-0",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mb-6",children:[u.jsxs("div",{className:"flex flex-col items-center md:items-start -mt-16 md:-mt-20 relative gap-3",children:[u.jsx("div",{className:"relative",children:u.jsxs(hs,{className:"w-32 h-32 md:w-40 md:h-40 border-4 shadow-xl",style:{borderColor:"var(--theme-background)"},children:[u.jsx(ps,{src:z?URL.createObjectURL(z):O.avatar,alt:O.name}),u.jsx(ms,{children:O.name.charAt(0)})]})}),m&&u.jsxs("div",{className:"flex gap-2 w-full justify-center md:justify-start",children:[u.jsx(Ae,{asChild:!0,variant:"outline",size:"sm",className:"rounded-xl flex-1 md:flex-none border-dashed",style:{borderColor:"var(--theme-primary)",color:"var(--theme-primary)"},children:u.jsxs("label",{htmlFor:"avatar-upload",className:"cursor-pointer",children:[u.jsx(ib,{className:"w-4 h-4 mr-2"}),"Upload",u.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:M=>F(M.target.files?.[0]||null)})]})}),(E||z)&&u.jsxs(Ae,{variant:"outline",size:"sm",className:"rounded-xl flex-1 md:flex-none text-red-500 border-red-200 hover:bg-red-50 hover:text-red-600",onClick:()=>{N(""),F(null)},children:[u.jsx(nd,{className:"w-4 h-4 mr-2"}),"Delete"]})]}),O.isMotivator&&u.jsxs(Rr,{className:"px-4 py-1 shadow-md",style:{backgroundColor:"var(--theme-primary)",color:"white"},children:[u.jsx(td,{className:"w-3 h-3 mr-1"}),"Motivator"]})]}),u.jsx("div",{className:"flex-1 text-center md:text-left pt-4",children:m?u.jsxs("div",{className:"space-y-4 max-w-md mx-auto md:mx-0 text-left",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold opacity-70 mb-1 block",style:{color:"var(--theme-text)"},children:"Full Name"}),u.jsx(Ke,{value:v,onChange:M=>w(M.target.value),className:"bg-[var(--theme-card-bg)] rounded-xl border-[var(--theme-primary)]/20"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold opacity-70 mb-1 block",style:{color:"var(--theme-text)"},children:"Bio"}),u.jsx(bg,{value:k,onChange:M=>_(M.target.value),className:"bg-[var(--theme-card-bg)] rounded-xl border-[var(--theme-primary)]/20 resize-none h-24"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold opacity-70 mb-1 block",style:{color:"var(--theme-text)"},children:"Location"}),u.jsx(Ke,{value:b,onChange:M=>C(M.target.value),className:"bg-[var(--theme-card-bg)] rounded-xl border-[var(--theme-primary)]/20"})]}),u.jsxs("div",{className:"p-4 rounded-2xl bg-[var(--theme-accent)]/20 border border-[var(--theme-primary)]/10",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[u.jsx(dR,{id:"editIsMotivator",checked:q,onCheckedChange:M=>W(M===!0)}),u.jsx("label",{htmlFor:"editIsMotivator",className:"text-sm font-bold",style:{color:"var(--theme-text)"},children:"I am a Motivator"})]}),q&&u.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-1",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold opacity-70 mb-1 block",style:{color:"var(--theme-text)"},children:"Motivator Title"}),u.jsx(Ke,{value:ce,onChange:M=>Q(M.target.value),className:"bg-[var(--theme-card-bg)] rounded-xl border-[var(--theme-primary)]/20",placeholder:"e.g. Empathetic Listener"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold opacity-70 mb-1 block",style:{color:"var(--theme-text)"},children:"Motivator Bio"}),u.jsx(bg,{value:ee,onChange:M=>R(M.target.value),className:"bg-[var(--theme-card-bg)] rounded-xl border-[var(--theme-primary)]/20 resize-none h-24",placeholder:"How you help others..."})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold opacity-70 mb-1 block",style:{color:"var(--theme-text)"},children:"Interests (Tags)"}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:Z.map((M,te)=>u.jsxs(Rr,{variant:"secondary",className:"px-3 py-1 rounded-full flex items-center gap-1 group",style:{backgroundColor:"var(--theme-accent)",color:"var(--theme-primary)"},children:[M,u.jsx(bl,{className:"w-3 h-3 cursor-pointer hover:text-red-500 transition-colors",onClick:()=>ne(Z.filter(ae=>ae!==M))})]},te))}),u.jsx(Ke,{value:K,onChange:M=>ie(M.target.value),onKeyDown:M=>{M.key==="Enter"&&K.trim()!==""&&(M.preventDefault(),Z.includes(K.trim())||ne([...Z,K.trim()]),ie(""))},className:"bg-[var(--theme-card-bg)] rounded-xl border-[var(--theme-primary)]/20",placeholder:"Type and press Enter to add tags..."})]}),u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsx(Ae,{onClick:G,disabled:l,className:"rounded-xl flex-1 text-white font-bold h-12 shadow-lg",style:{background:"linear-gradient(to right, var(--theme-primary), var(--theme-secondary))"},children:l?"SAVING...":u.jsxs(u.Fragment,{children:[u.jsx(Kb,{className:"w-4 h-4 mr-2"})," SAVE PROFILE"]})}),u.jsx(Ae,{variant:"outline",onClick:()=>y(!1),disabled:l,className:"rounded-xl px-4 h-12",children:"CANCEL"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3 mb-3",children:[u.jsx("h1",{style:{color:"var(--theme-text)"},children:O.name}),u.jsx("span",{className:"opacity-60",style:{color:"var(--theme-text)"},children:O.username})]}),u.jsx("div",{className:"flex gap-2 mb-4 justify-center md:justify-start",children:u.jsxs(Ae,{variant:"outline",onClick:()=>{w(f.full_name||""),_(f.bio||""),C(f.location||""),N(f.avatar_url||""),P(f.cover_url||""),W(f.is_motivator||!1),ne(f.interests||[]),Q(f.motivator_title||""),R(f.motivator_bio||""),y(!0)},className:"rounded-xl shadow-sm",style:{borderColor:"var(--theme-primary)",color:"var(--theme-primary)"},children:[u.jsx(Vb,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})}),u.jsx("p",{className:"mb-4 max-w-2xl",style:{color:"var(--theme-text)",opacity:.8},children:O.bio}),u.jsxs("div",{className:"flex flex-wrap gap-4 text-sm mb-4 justify-center md:justify-start",children:[u.jsxs("div",{className:"flex items-center gap-1",style:{color:"var(--theme-text)",opacity:.7},children:[u.jsx(Ab,{className:"w-4 h-4"}),O.location]}),u.jsxs("div",{className:"flex items-center gap-1",style:{color:"var(--theme-text)",opacity:.7},children:[u.jsx(jg,{className:"w-4 h-4"}),"Joined ",O.joinDate]})]})]})})]}),u.jsxs(co,{defaultValue:"posts",className:"w-full",children:[u.jsxs(uo,{className:"grid w-full grid-cols-3 mb-6 rounded-xl shadow-md",style:{backgroundColor:"var(--theme-accent)"},children:[u.jsxs(Rt,{value:"posts",className:"rounded-xl",children:[u.jsx(ro,{className:"w-4 h-4 mr-2"}),"Posts"]}),u.jsxs(Rt,{value:"saved",className:"rounded-xl",children:[u.jsx(ku,{className:"w-4 h-4 mr-2"}),"Buddies"]}),u.jsxs(Rt,{value:"about",className:"rounded-xl",children:[u.jsx(ku,{className:"w-4 h-4 mr-2"}),"About"]})]}),u.jsx(Pt,{value:"posts",className:"space-y-4",children:o.length>0?o.map((M,te)=>u.jsx(ka,{post:M},te)):u.jsxs("div",{className:"text-center py-12 bg-[var(--theme-accent)]/10 rounded-3xl",children:[u.jsx(ro,{className:"w-12 h-12 mx-auto mb-4 opacity-20",style:{color:"var(--theme-primary)"}}),u.jsx("p",{style:{color:"var(--theme-text)",opacity:.6},children:"No posts yet."})]})}),u.jsx(Pt,{value:"saved",children:u.jsxs("div",{className:"text-center py-12 bg-[var(--theme-accent)]/10 rounded-3xl",children:[u.jsx(ku,{className:"w-12 h-12 mx-auto mb-4 opacity-20",style:{color:"var(--theme-primary)"}}),u.jsx("p",{style:{color:"var(--theme-text)",opacity:.6},children:"No buddies yet."})]})}),u.jsx(Pt,{value:"about",children:u.jsxs("div",{className:"rounded-3xl p-6 shadow-md",style:{backgroundColor:"var(--theme-card-bg)",border:"1px solid var(--theme-primary)33"},children:[u.jsxs("h3",{className:"mb-6 font-bold",style:{color:"var(--theme-text)"},children:["About ",O.name.split(" ")[0]]}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-bold uppercase tracking-wider mb-2",style:{color:"var(--theme-primary)"},children:"Bio"}),u.jsx("p",{className:"leading-relaxed",style:{color:"var(--theme-text)",opacity:.8},children:O.bio})]}),u.jsxs("div",{className:"p-4 rounded-2xl bg-[var(--theme-accent)]/20",children:[u.jsx("h4",{className:"text-sm font-bold uppercase tracking-wider mb-3",style:{color:"var(--theme-primary)"},children:"Motivator Status"}),u.jsx("div",{className:"flex items-center gap-2 mb-4",children:O.isMotivator?u.jsx(Rr,{className:"border-none shadow-sm",style:{backgroundColor:"var(--theme-primary)",color:"white"},children:"Active Motivator"}):u.jsx(Rr,{variant:"outline",className:"opacity-50",style:{color:"var(--theme-text)",borderColor:"var(--theme-text)40"},children:"Standard Member"})}),O.isMotivator&&u.jsxs("div",{className:"space-y-4 border-t border-[var(--theme-primary)]/10 pt-4 mt-2",children:[O.motivatorTitle&&u.jsxs("div",{children:[u.jsx("h5",{className:"text-xs font-bold opacity-60 uppercase mb-1",style:{color:"var(--theme-text)"},children:"Title"}),u.jsx("p",{className:"font-medium",style:{color:"var(--theme-text)"},children:O.motivatorTitle})]}),O.motivatorBio&&u.jsxs("div",{children:[u.jsx("h5",{className:"text-xs font-bold opacity-60 uppercase mb-1",style:{color:"var(--theme-text)"},children:"Specialized Support"}),u.jsx("p",{style:{color:"var(--theme-text)",opacity:.8},children:O.motivatorBio})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-bold uppercase tracking-wider mb-3",style:{color:"var(--theme-primary)"},children:"Interests & Expertise"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:O.interests.length>0?O.interests.map((M,te)=>u.jsx(Rr,{variant:"outline",className:"px-4 py-1.5 rounded-full border-[var(--theme-primary)]/30",style:{color:"var(--theme-primary)"},children:M},te)):u.jsx("p",{className:"text-sm italic opacity-50",style:{color:"var(--theme-text)"},children:"No interests added yet."})})]})]})]})})]})]})]})}function hR(){const[t,e]=x.useState([]),[n,o]=x.useState(!0),[a,l]=x.useState(null);x.useEffect(()=>{(async()=>{o(!0),l(null);try{const{data:b,error:C}=await de.auth.getSession();if(C)throw C;if(b.session){const E=b.session.user.id,{data:N,error:j}=await de.from("notifications").select(`
              id,
              type,
              content,
              post_id,
              is_read,
              created_at,
              sender_id
            `).eq("recipient_id",E).order("created_at",{ascending:!1});if(j)throw j;const P=(N||[]).map(async F=>{let D=null;if(F.sender_id){const{data:L,error:q}=await de.from("profiles").select("full_name, username, avatar_url").eq("id",F.sender_id).single();q?console.error("Error fetching sender profile for notification:",q):D=L}return{id:F.id,type:F.type,sender_id:F.sender_id,sender_profile:D,content:F.content,post_id:F.post_id,created_at:F.created_at,is_read:F.is_read}}),z=await Promise.all(P);e(z)}else e([])}catch(b){console.error("Error fetching notifications:",b),l("Failed to load notifications. Please try again later.")}finally{o(!1)}})()},[]);const c=t.filter(_=>!_.is_read).length,f=async()=>{e(t.map(_=>({..._,is_read:!0})));try{const{error:_}=await de.from("notifications").update({is_read:!0}).eq("recipient_id",(await de.auth.getSession()).data.session?.user.id).eq("is_read",!1);if(_)throw _}catch(_){console.error("Error marking all as read:",_)}},h=async _=>{e(t.map(b=>b.id===_?{...b,is_read:!0}:b));try{const{error:b}=await de.from("notifications").update({is_read:!0}).eq("id",_);if(b)throw b}catch(b){console.error("Error marking notification as read:",b)}},m=_=>{switch(_){case"like":return Jr;case"comment":return is;case"follow":return od;case"mention":return lm;case"buddy_request":case"buddy_accepted":return td;case"milestone":return Ig;default:return Jr}},y=_=>{const b=(E,N)=>E.length>N?E.substring(0,N)+"...":E,C=_.sender_profile?.full_name||_.sender_profile?.username||"Unknown User";switch(_.type){case"like":return u.jsxs(u.Fragment,{children:[u.jsx("strong",{children:C})," liked",_.post_id?" your post":" a post"]});case"comment":return u.jsxs(u.Fragment,{children:[u.jsx("strong",{children:C})," commented on",_.post_id?" your post":" a post"]});case"follow":return u.jsxs(u.Fragment,{children:[u.jsx("strong",{children:C})," started following you"]});case"mention":return u.jsxs(u.Fragment,{children:[u.jsx("strong",{children:C})," ",_.content?b(_.content,50):"mentioned you"]});case"buddy_request":return u.jsxs(u.Fragment,{children:[u.jsx("strong",{children:C})," sent you a Talking Buddy request"]});case"buddy_accepted":return u.jsxs(u.Fragment,{children:[u.jsx("strong",{children:C})," ",_.content?b(_.content,50):"accepted your buddy request"]});case"milestone":return _.content;default:return _.content?b(_.content,50):""}},v=async(_,b)=>{h(_),console.log(`Buddy request ${b?"accepted":"declined"} for notification ID: ${_}`)},w=_=>_==="all"?t:_==="mentions"?t.filter(b=>b.type==="mention"):_==="buddy"?t.filter(b=>b.type==="buddy_request"||b.type==="buddy_accepted"):t,k=({notification:_})=>{const b=m(_.type);return u.jsxs("div",{onClick:()=>h(_.id),className:"flex gap-4 p-4 rounded-2xl transition-all cursor-pointer hover:shadow-md",style:{backgroundColor:_.is_read?"transparent":"var(--theme-accent)",border:`1px solid ${_.is_read?"var(--theme-primary)22":"var(--theme-primary)44"}`},children:[u.jsxs(hs,{className:"w-12 h-12 flex-shrink-0",children:[u.jsx(ps,{src:_.sender_profile?.avatar_url,alt:_.sender_profile?.full_name}),u.jsx(ms,{children:_.sender_profile?.full_name?_.sender_profile.full_name[0]:"?"})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"var(--theme-primary)22"},children:u.jsx(b,{className:"w-4 h-4",style:{color:"var(--theme-primary)"}})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{style:{color:"var(--theme-text)"},children:y(_)}),_.type==="comment"&&_.content&&u.jsxs("p",{className:"text-sm mt-1 italic",style:{color:"var(--theme-text)",opacity:.7},children:['"',_.content,'"']}),_.type==="buddy_request"&&_.content&&u.jsxs("p",{className:"text-sm mt-2 p-3 rounded-xl",style:{backgroundColor:"var(--theme-card-bg)",color:"var(--theme-text)",opacity:.9},children:['"',_.content,'"']})]})]}),u.jsxs("div",{className:"flex items-center justify-between mt-2",children:[u.jsx("span",{className:"text-sm",style:{color:"var(--theme-text)",opacity:.5},children:new Date(_.created_at).toLocaleString()}),_.type==="buddy_request"&&!_.is_read&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ae,{size:"sm",onClick:C=>{C.stopPropagation(),v(_.id,!0)},className:"rounded-lg text-white",style:{background:"linear-gradient(to right, var(--theme-primary), var(--theme-secondary))"},children:"Accept"}),u.jsx(Ae,{size:"sm",variant:"outline",onClick:C=>{C.stopPropagation(),v(_.id,!1)},className:"rounded-lg",style:{borderColor:"var(--theme-primary)",color:"var(--theme-primary)"},children:"Decline"})]})]})]}),!_.is_read&&u.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0 mt-2",style:{backgroundColor:"var(--theme-primary)"}})]})};return n?u.jsx("div",{className:"text-center py-12",style:{color:"var(--theme-text)"},children:"Loading notifications..."}):a?u.jsx("div",{className:"text-center py-12",style:{color:"red"},children:a}):u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h1",{style:{color:"var(--theme-text)"},children:"Notifications"}),c>0&&u.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--theme-text)",opacity:.6},children:["You have ",c," unread notification",c!==1?"s":""]})]}),c>0&&u.jsxs(Ae,{variant:"outline",size:"sm",onClick:f,className:"rounded-xl",style:{borderColor:"var(--theme-primary)",color:"var(--theme-primary)"},children:[u.jsx(cm,{className:"w-4 h-4 mr-2"}),"Mark all read"]})]})}),u.jsxs(co,{defaultValue:"all",className:"w-full",children:[u.jsxs(uo,{className:"grid w-full grid-cols-3 mb-6 rounded-xl shadow-md",style:{backgroundColor:"var(--theme-accent)"},children:[u.jsxs(Rt,{value:"all",className:"rounded-xl",children:["All",c>0&&u.jsx(Rr,{className:"ml-2 px-2 py-0.5",style:{backgroundColor:"var(--theme-primary)",color:"white"},children:c})]}),u.jsx(Rt,{value:"mentions",className:"rounded-xl",children:"Mentions"}),u.jsxs(Rt,{value:"buddy",className:"rounded-xl",children:["Talking Buddy",t.filter(_=>(_.type==="buddy_request"||_.type==="buddy_accepted")&&!_.is_read).length>0&&u.jsx(Rr,{className:"ml-2 px-2 py-0.5",style:{backgroundColor:"var(--theme-primary)",color:"white"},children:t.filter(_=>(_.type==="buddy_request"||_.type==="buddy_accepted")&&!_.is_read).length})]})]}),u.jsx(Pt,{value:"all",className:"space-y-3",children:w("all").length>0?w("all").map(_=>u.jsx(k,{notification:_},_.id)):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"var(--theme-accent)"},children:u.jsx(cm,{className:"w-8 h-8",style:{color:"var(--theme-primary)"}})}),u.jsx("p",{style:{color:"var(--theme-text)",opacity:.6},children:"You're all caught up! No new notifications."})]})}),u.jsx(Pt,{value:"mentions",className:"space-y-3",children:w("mentions").length>0?w("mentions").map(_=>u.jsx(k,{notification:_},_.id)):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"var(--theme-accent)"},children:u.jsx(lm,{className:"w-8 h-8",style:{color:"var(--theme-primary)"}})}),u.jsx("p",{style:{color:"var(--theme-text)",opacity:.6},children:"No mentions yet"})]})}),u.jsx(Pt,{value:"buddy",className:"space-y-3",children:w("buddy").length>0?w("buddy").map(_=>u.jsx(k,{notification:_},_.id)):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"var(--theme-accent)"},children:u.jsx(td,{className:"w-8 h-8",style:{color:"var(--theme-primary)"}})}),u.jsx("p",{style:{color:"var(--theme-text)",opacity:.6},children:"No Talking Buddy notifications"})]})})]})]})}function pR(){const[t,e]=x.useState([]),[n,o]=x.useState(!0);return x.useEffect(()=>{(async()=>{o(!0);const{data:{user:l}}=await de.auth.getUser();if(!l){e([]),o(!1);return}const c=l.id,{data:f}=await de.from("saved_posts").select(`
          post:posts(
            id,
            title,
            content,
            created_at,
            likes,
            comments,
            category,
            user_id,
            author:user_id (
              full_name,
              username,
              avatar_url
            )
          )
        `).eq("user_id",c),h=(f||[]).map(m=>{const y=m.post,v=Array.isArray(y.author)?y.author[0]:y.author;return{postId:y.id,title:y.title||"Untitled",content:y.content,user_id:y.user_id,created_at:y.created_at,likes:y.likes||0,comments:y.comments||0,category:y.category||"",author:{full_name:v?.full_name||"Anonymous",username:v?.username||"user",avatar_url:v?.avatar_url||""}}});e(h),o(!1)})()},[]),n?u.jsx("div",{className:"text-center py-12",children:"Loading library..."}):u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs(co,{defaultValue:"saved",className:"w-full",children:[u.jsx(uo,{className:"grid w-full grid-cols-1 mb-6",children:u.jsxs(Rt,{value:"saved",children:[u.jsx(Eg,{className:"w-4 h-4 mr-2"}),"Saved"]})}),u.jsx(Pt,{value:"saved",children:t.length>0?t.map(a=>u.jsx("div",{className:"mb-4",children:u.jsx(ka,{post:a})},a.postId)):u.jsx("div",{className:"text-center py-12 opacity-60",children:"No saved posts yet"})})]})})}function mR(){const[t,e]=x.useState(""),[n,o]=x.useState(""),[a,l]=x.useState([]),[c,f]=x.useState(!1),h=["Love","Heartbreak","Nature","Urban Life","Healing","Self Discovery","Haiku","Modern Life","Resilience","Daily Life","Inspiration","Motivation","Friendship"],m=w=>{!a.includes(w)&&a.length<3&&l([...a,w])},y=w=>{l(a.filter(k=>k!==w))},v=async w=>{if(!n.trim()){Xs.error("Please write something before publishing.");return}f(!0);try{const{data:{user:k}}=await de.auth.getUser();if(!k){Xs.error("You must be logged in to publish.");return}const{error:_}=await de.from("posts").insert([{title:t.trim()||(w==="haiku"?"Untitled Haiku":"Untitled"),content:n.trim(),categories:a,user_id:k.id,created_at:new Date().toISOString()}]);if(_)throw _;Xs.success("Post published successfully!"),e(""),o(""),l([])}catch(k){console.error("Error publishing post:",k),Xs.error(k.message||"Failed to publish post.")}finally{f(!1)}};return u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--theme-accent)"},children:u.jsx(rd,{className:"w-6 h-6",style:{color:"var(--theme-primary)"}})}),u.jsx("h1",{style:{color:"var(--theme-text)"},children:"Write Your Heart"})]}),u.jsx("p",{style:{color:"var(--theme-text)",opacity:.7},children:"Share your thoughts, poems, and stories with the world"})]}),u.jsxs(co,{defaultValue:"poem",className:"mb-6",children:[u.jsxs(uo,{className:"grid w-full grid-cols-3 mb-6 rounded-xl shadow-md",style:{backgroundColor:"var(--theme-accent)"},children:[u.jsxs(Rt,{value:"poem",className:"rounded-xl",children:[u.jsx(sd,{className:"w-4 h-4 mr-2"}),"Poem"]}),u.jsxs(Rt,{value:"story",className:"rounded-xl",children:[u.jsx(rd,{className:"w-4 h-4 mr-2"}),"Story"]}),u.jsxs(Rt,{value:"haiku",className:"rounded-xl",children:[u.jsx(sd,{className:"w-4 h-4 mr-2"}),"Haiku"]})]}),u.jsx(Pt,{value:"poem",children:u.jsx(ed,{title:t,setTitle:e,content:n,setContent:o,selectedCategories:a,handleRemoveCategory:y,suggestedCategories:h,handleAddCategory:m,handlePublish:()=>v("poem"),isPublishing:c,placeholder:"Let your emotions flow through verses...",titlePlaceholder:"Your Poem's Title"})}),u.jsx(Pt,{value:"story",children:u.jsx(ed,{title:t,setTitle:e,content:n,setContent:o,selectedCategories:a,handleRemoveCategory:y,suggestedCategories:h,handleAddCategory:m,handlePublish:()=>v("story"),isPublishing:c,placeholder:"Tell your story in prose...",titlePlaceholder:"Your Story's Title"})}),u.jsx(Pt,{value:"haiku",children:u.jsx(ed,{title:t,setTitle:e,content:n,setContent:o,selectedCategories:a,handleRemoveCategory:y,suggestedCategories:h,handleAddCategory:m,handlePublish:()=>v("haiku"),isPublishing:c,placeholder:"Three lines, 5-7-5 syllables...",titlePlaceholder:"Your Haiku's Title (optional)"})})]})]})}function ed({title:t,setTitle:e,content:n,setContent:o,selectedCategories:a,handleRemoveCategory:l,suggestedCategories:c,handleAddCategory:f,handlePublish:h,placeholder:m,titlePlaceholder:y,isPublishing:v}){return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"p-6 rounded-2xl shadow-md",style:{backgroundColor:"var(--theme-card-bg)",border:"1px solid var(--theme-primary)33"},children:u.jsx("input",{type:"text",value:t,onChange:w=>e(w.target.value),placeholder:y,className:"w-full text-2xl outline-none bg-transparent",style:{color:"var(--theme-text)",fontFamily:"var(--theme-font-family)"}})}),u.jsxs("div",{className:"p-6 rounded-2xl shadow-md",style:{backgroundColor:"var(--theme-card-bg)",border:"1px solid var(--theme-primary)33"},children:[u.jsx("textarea",{value:n,onChange:w=>o(w.target.value),placeholder:m,rows:12,className:"w-full outline-none resize-none bg-transparent",style:{color:"var(--theme-text)",fontFamily:"var(--theme-font-family)",fontSize:"16px",lineHeight:"1.8"}}),u.jsx("div",{className:"mt-4 flex items-center justify-between",children:u.jsxs("span",{className:"text-sm",style:{color:"var(--theme-text)",opacity:.5},children:[n.length," characters"]})})]}),u.jsxs("div",{className:"p-6 rounded-2xl shadow-md",style:{backgroundColor:"var(--theme-card-bg)",border:"1px solid var(--theme-primary)33"},children:[u.jsx("h3",{className:"mb-3",style:{color:"var(--theme-text)"},children:"Categories (Max 3)"}),a.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:a.map(w=>u.jsxs(Rr,{className:"px-3 py-1 flex items-center gap-2 cursor-pointer",style:{backgroundColor:"var(--theme-primary)",color:"white"},onClick:()=>l(w),children:[w,u.jsx(bl,{className:"w-3 h-3"})]},w))}),u.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(w=>u.jsx("button",{onClick:()=>f(w),disabled:a.includes(w)||a.length>=3,className:"px-3 py-1 rounded-lg text-sm transition-all disabled:opacity-30 disabled:cursor-not-allowed",style:{backgroundColor:a.includes(w)?"var(--theme-primary)33":"var(--theme-accent)",color:"var(--theme-primary)",border:`1px solid ${a.includes(w)?"var(--theme-primary)":"transparent"}`},children:w},w))})]}),u.jsxs("div",{className:"flex gap-3 justify-end",children:[u.jsx(Ae,{variant:"outline",className:"rounded-xl",style:{borderColor:"var(--theme-primary)",color:"var(--theme-primary)"},children:"Save Draft"}),u.jsxs(Ae,{className:"rounded-xl text-white shadow-md",style:{background:"linear-gradient(to right, var(--theme-primary), var(--theme-secondary))"},onClick:h,disabled:v,children:[u.jsx(Ag,{className:"w-4 h-4 mr-2"}),v?"Publishing...":"Publish"]})]})]})}function gR({onLogin:t}){const[e,n]=x.useState(!1),[o,a]=x.useState(""),[l,c]=x.useState(""),[f,h]=x.useState(""),[m,y]=x.useState(""),[v,w]=x.useState(""),k=async _=>{if(_.preventDefault(),w(""),!o||!l||!f){w("Please fill in all fields");return}if(e&&f!==m){w("Passwords don't match");return}if(f.length<6){w("Password must be at least 6 characters");return}try{let b=null;if(e){const{data:C,error:E}=await de.auth.signUp({email:l,password:f,options:{data:{username:o}}});if(E)throw E;b=C.user}else{const{data:C,error:E}=await de.auth.signInWithPassword({email:l,password:f});if(E)throw E;b=C.user}if(b){if(e){const{error:C}=await de.from("profiles").insert([{id:b.id,username:o.toLowerCase(),full_name:o}]);C&&console.error("Error creating profile:",C)}t(b.user_metadata?.username||o,b.id)}else w("An unexpected error occurred.")}catch(b){w(b.message||"Failed to authenticate.")}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"linear-gradient(135deg, #fef9f5 0%, #fce4da 50%, #f5e8e0 100%)"},children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[u.jsx(Jr,{className:"w-8 h-8 text-[#d4756f]"}),u.jsx("h1",{className:"text-[#2d2424] text-3xl",children:"Smile Artist"})]}),u.jsx("p",{className:"text-[#8a7c74]",children:"A space for poetry, writing, and heartfelt connections"})]}),u.jsxs(xr,{className:"p-6 md:p-8 bg-white/90 backdrop-blur-sm border-2 border-[#d4756f]/20 rounded-3xl shadow-xl",children:[u.jsxs("div",{className:"flex gap-2 mb-6",children:[u.jsx(Ae,{onClick:()=>{n(!1),w("")},className:`flex-1 rounded-xl transition-all ${e?"bg-[#fce4da]/30 text-[#8a7c74] hover:bg-[#fce4da]/50":"bg-gradient-to-r from-[#d4756f] to-[#c9a28f] text-white"}`,children:"Login"}),u.jsx(Ae,{onClick:()=>{n(!0),w("")},className:`flex-1 rounded-xl transition-all ${e?"bg-gradient-to-r from-[#d4756f] to-[#c9a28f] text-white":"bg-[#fce4da]/30 text-[#8a7c74] hover:bg-[#fce4da]/50"}`,children:"Sign Up"})]}),u.jsxs("form",{onSubmit:k,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-[#2d2424] mb-1.5",children:"Username"}),u.jsx(Ke,{type:"text",placeholder:"Enter your username",value:o,onChange:_=>a(_.target.value),className:"w-full border-[#d4756f]/20 rounded-xl focus:border-[#d4756f]"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-[#2d2424] mb-1.5",children:"Email"}),u.jsx(Ke,{type:"email",placeholder:"Enter your email",value:l,onChange:_=>c(_.target.value),className:"w-full border-[#d4756f]/20 rounded-xl focus:border-[#d4756f]"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-[#2d2424] mb-1.5",children:"Password"}),u.jsx(Ke,{type:"password",placeholder:"Enter your password",value:f,onChange:_=>h(_.target.value),className:"w-full border-[#d4756f]/20 rounded-xl focus:border-[#d4756f]"})]}),e&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-[#2d2424] mb-1.5",children:"Confirm Password"}),u.jsx(Ke,{type:"password",placeholder:"Confirm your password",value:m,onChange:_=>y(_.target.value),className:"w-full border-[#d4756f]/20 rounded-xl focus:border-[#d4756f]"})]}),v&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-2 rounded-xl text-sm",children:v}),u.jsx(Ae,{type:"submit",className:"w-full bg-gradient-to-r from-[#d4756f] to-[#c9a28f] hover:from-[#c9675f] hover:to-[#b89280] text-white rounded-xl h-11 shadow-md",children:e?"Create Account":"Login"})]}),u.jsxs("div",{className:"mt-6 pt-6 border-t border-[#d4756f]/10",children:[u.jsx("p",{className:"text-xs text-[#8a7c74] mb-3 text-center",children:"What you'll get:"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#2d2424]",children:[u.jsx(ro,{className:"w-4 h-4 text-[#d4756f]"}),u.jsx("span",{children:"Share your poetry and writings"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#2d2424]",children:[u.jsx(Jr,{className:"w-4 h-4 text-[#d4756f]"}),u.jsx("span",{children:"Connect with a support buddy"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#2d2424]",children:[u.jsx(Ig,{className:"w-4 h-4 text-[#d4756f]"}),u.jsx("span",{children:"Customize your experience"})]})]})]})]}),u.jsx("p",{className:"text-center text-xs text-[#8a7c74] mt-4",children:"A safe, supportive space for your creative expression"})]})})}function vR({onLogout:t,username:e,userId:n,onUsernameUpdate:o}){const{theme:a,updateTheme:l,resetTheme:c}=Md(),[f,h]=x.useState(null),[m,y]=x.useState(null),[v,w]=x.useState(e),[k,_]=x.useState(!1),[b,C]=x.useState(!1);x.useEffect(()=>{k||w(e)},[e,k]),x.useEffect(()=>{(async()=>{const{data:{user:ve}}=await de.auth.getUser();if(ve){const{data:H}=await de.from("profiles").select("avatar_url").eq("id",ve.id).maybeSingle();H&&y(H.avatar_url)}})()},[]);const E=async()=>{C(!0);try{const{error:se}=await de.from("profiles").upsert({id:n,username:v.toLowerCase(),updated_at:new Date().toISOString()},{onConflict:"id"});if(se)if(se.code==="23505")alert("Username already taken. Please choose a different one.");else throw se;else alert("Username updated successfully!"),_(!1),o(v)}catch(se){console.error("Error updating username:",se),alert("Failed to update username: "+se.message)}finally{C(!1)}},[N,j]=x.useState(localStorage.getItem("privacy_profileVisibility")||"public"),[P,z]=x.useState(localStorage.getItem("privacy_showEmail")==="true"),[F,D]=x.useState(localStorage.getItem("privacy_allowMessages")!=="false"),[L,q]=x.useState(localStorage.getItem("privacy_showActivity")!=="false"),[W,Z]=x.useState(localStorage.getItem("app_darkMode")==="true"),[ne,K]=x.useState(localStorage.getItem("app_notifications")!=="false"),[ie,ce]=x.useState(localStorage.getItem("app_autoDownload")==="true"),[Q,ee]=x.useState(localStorage.getItem("app_dataUsage")||"normal"),[R,V]=x.useState(localStorage.getItem("app_language")||"english");x.useEffect(()=>{localStorage.setItem("privacy_profileVisibility",N),localStorage.setItem("privacy_showEmail",P.toString()),localStorage.setItem("privacy_allowMessages",F.toString()),localStorage.setItem("privacy_showActivity",L.toString())},[N,P,F,L]),x.useEffect(()=>{localStorage.setItem("app_notifications",ne.toString()),localStorage.setItem("app_autoDownload",ie.toString()),localStorage.setItem("app_dataUsage",Q),localStorage.setItem("app_language",R)},[ne,ie,Q,R]),x.useEffect(()=>{localStorage.setItem("app_darkMode",W.toString());const se=document.documentElement;W?(se.classList.add("dark"),l({backgroundColor:"#1a1515",textColor:"#f5e8e0",accentColor:"#3d2f2f",chatOtherMessageBg:"#2d2424"})):(se.classList.remove("dark"),l({backgroundColor:"#fef9f5",textColor:"#2d2424",accentColor:"#fce4da",chatOtherMessageBg:"#ffffff"}))},[W]);const G=()=>{if(confirm("Are you sure you want to clear all app data? This action cannot be undone.")){const se=localStorage.getItem("smileArtist_user");localStorage.clear(),se&&localStorage.setItem("smileArtist_user",se),alert("App data cleared successfully!")}},O=()=>{confirm("Are you sure you want to delete your account? This action cannot be undone.")&&(localStorage.clear(),t())},M=({title:se,icon:ve,children:H})=>u.jsxs(xr,{className:"mb-4 backdrop-blur-sm border-2 rounded-2xl overflow-hidden",style:{backgroundColor:W?"rgba(45, 36, 36, 0.8)":"rgba(255, 255, 255, 0.8)",borderColor:W?"rgba(212, 117, 111, 0.3)":"rgba(212, 117, 111, 0.2)"},children:[u.jsx("div",{className:"p-4 border-b",style:{backgroundColor:W?"rgba(61, 47, 47, 0.3)":"rgba(252, 228, 218, 0.3)",borderColor:W?"rgba(212, 117, 111, 0.2)":"rgba(212, 117, 111, 0.1)"},children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ve,{className:"w-5 h-5",style:{color:"#d4756f"}}),u.jsx("h3",{style:{color:W?"#f5e8e0":"#2d2424"},children:se})]})}),u.jsx("div",{className:"p-4 space-y-4",children:H})]}),te=({label:se,description:ve,children:H,column:le=!1})=>u.jsxs("div",{className:`flex ${le?"flex-col space-y-2":"items-center justify-between"} py-2`,children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm",style:{color:W?"#f5e8e0":"#2d2424"},children:se}),ve&&u.jsx("p",{className:"text-xs mt-0.5",style:{color:W?"#c9a28f":"#8a7c74"},children:ve})]}),u.jsx("div",{className:le?"w-full":"",children:H})]}),ae=({checked:se,onChange:ve})=>u.jsx("button",{onClick:()=>ve(!se),className:`relative w-12 h-6 rounded-full transition-colors ${se?"bg-[#d4756f]":"bg-[#e0d5ce]"}`,children:u.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ${se?"translate-x-6":"translate-x-0"}`})});return u.jsxs("div",{className:"max-w-4xl mx-auto pb-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"mb-2",style:{color:W?"#f5e8e0":"#2d2424"},children:"Settings"}),u.jsx("p",{className:"text-sm md:text-base",style:{color:W?"#c9a28f":"#8a7c74"},children:"Manage your account, privacy, and app preferences"})]}),u.jsxs(M,{title:"Account",icon:$d,children:[u.jsxs("div",{className:"flex items-center gap-4 py-2",children:[u.jsxs(hs,{className:"w-16 h-16 border-2 border-[var(--theme-primary)]/20 shadow-md",children:[u.jsx(ps,{src:m||`https://ui-avatars.com/api/?name=${encodeURIComponent(e)}&background=random`,alt:e}),u.jsx(ms,{className:"bg-gradient-to-br from-[#d4756f] to-[#c9a28f] text-white text-xl",children:e?.charAt(0).toUpperCase()||"U"})]}),u.jsxs("div",{children:[u.jsx("p",{style:{color:W?"#f5e8e0":"#2d2424"},children:e}),u.jsx("p",{className:"text-xs",style:{color:W?"#c9a28f":"#8a7c74"},children:"Smile Artist Member"})]})]}),u.jsx(te,{label:"Username",description:"Your unique identifier on Smile Artist",column:k,children:k?u.jsxs("div",{className:"space-y-3",children:[u.jsx(Ke,{type:"text",value:v,onChange:se=>w(se.target.value),className:"w-full rounded-xl border-[var(--theme-primary)]/20 focus:border-[var(--theme-primary)] bg-[var(--theme-card-bg)]",disabled:b,autoFocus:!0}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Ae,{variant:"outline",onClick:()=>{_(!1),w(e)},disabled:b,className:"rounded-xl border-[var(--theme-primary)]/20 hover:bg-[var(--theme-primary)]/10",style:{color:W?"#f5e8e0":"#2d2424"},children:"Cancel"}),u.jsx(Ae,{onClick:E,disabled:b||v===e,className:"rounded-xl px-6",style:{background:"linear-gradient(to right, var(--theme-primary), var(--theme-secondary))",color:"white"},children:b?"Saving...":"Save"})]})]}):u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("span",{style:{color:W?"#f5e8e0":"#2d2424"},children:["@",e]}),u.jsx(Ae,{variant:"outline",onClick:()=>_(!0),className:"rounded-xl border-[var(--theme-primary)]/20 hover:bg-[var(--theme-primary)]/10",style:{color:W?"#f5e8e0":"#2d2424"},children:"Edit"})]})})]}),u.jsxs(M,{title:"Privacy & Security",icon:Xb,children:[u.jsx(te,{label:"Profile Visibility",description:"Who can see your profile",children:u.jsxs("select",{value:N,onChange:se=>j(se.target.value),className:"px-3 py-1.5 border rounded-lg text-sm focus:outline-none",style:{backgroundColor:W?"#2d2424":"white",color:W?"#f5e8e0":"#2d2424",borderColor:W?"rgba(212, 117, 111, 0.3)":"rgba(212, 117, 111, 0.2)"},children:[u.jsx("option",{value:"public",children:"Public"}),u.jsx("option",{value:"friends",children:"Friends Only"}),u.jsx("option",{value:"private",children:"Private"})]})}),u.jsx(te,{label:"Show Email",description:"Display email on your profile",children:u.jsx(ae,{checked:P,onChange:z})}),u.jsx(te,{label:"Allow Messages",description:"Let others send you messages",children:u.jsx(ae,{checked:F,onChange:D})}),u.jsx(te,{label:"Show Activity",description:"Display your activity status",children:u.jsx(ae,{checked:L,onChange:q})})]}),u.jsx(M,{title:"Notifications",icon:Ld,children:u.jsx(te,{label:"Push Notifications",description:"Receive notifications for new activity",children:u.jsx(ae,{checked:ne,onChange:K})})}),u.jsx(M,{title:"Appearance",icon:W?Lb:t_,children:u.jsx(te,{label:"Dark Mode",description:"Use dark theme for the app",children:u.jsx(ae,{checked:W,onChange:Z})})}),u.jsxs(M,{title:"Data & Storage",icon:yb,children:[u.jsx(te,{label:"Data Usage",description:"Control how much data the app uses",children:u.jsxs("select",{value:Q,onChange:se=>ee(se.target.value),className:"px-3 py-1.5 border rounded-lg text-sm focus:outline-none",style:{backgroundColor:W?"#2d2424":"white",color:W?"#f5e8e0":"#2d2424",borderColor:W?"rgba(212, 117, 111, 0.3)":"rgba(212, 117, 111, 0.2)"},children:[u.jsx("option",{value:"low",children:"Low"}),u.jsx("option",{value:"normal",children:"Normal"}),u.jsx("option",{value:"high",children:"High Quality"})]})}),u.jsx(te,{label:"Auto-Download Media",description:"Automatically download images and files",children:u.jsx(ae,{checked:ie,onChange:ce})}),u.jsx("div",{className:"pt-2 border-t border-[#d4756f]/10",children:u.jsxs(Ae,{onClick:G,variant:"outline",className:"w-full justify-start text-[#d4756f] border-[#d4756f]/20 hover:bg-[#fce4da]/30 rounded-xl",children:[u.jsx(nd,{className:"w-4 h-4 mr-2"}),"Clear App Data"]})})]}),u.jsx(M,{title:"Language & Region",icon:Sb,children:u.jsx(te,{label:"App Language",description:"Choose your preferred language",children:u.jsxs("select",{value:R,onChange:se=>V(se.target.value),className:"px-3 py-1.5 border rounded-lg text-sm focus:outline-none",style:{backgroundColor:W?"#2d2424":"white",color:W?"#f5e8e0":"#2d2424",borderColor:W?"rgba(212, 117, 111, 0.3)":"rgba(212, 117, 111, 0.2)"},children:[u.jsx("option",{value:"english",children:"English"}),u.jsx("option",{value:"spanish",children:"Espaol"}),u.jsx("option",{value:"french",children:"Franais"}),u.jsx("option",{value:"german",children:"Deutsch"}),u.jsx("option",{value:"hindi",children:""})]})})}),u.jsxs(M,{title:"Account Actions",icon:Nb,children:[u.jsxs(Ae,{onClick:t,variant:"outline",className:"w-full justify-start rounded-xl mb-2",style:{color:W?"#f5e8e0":"#2d2424",borderColor:W?"rgba(212, 117, 111, 0.3)":"rgba(212, 117, 111, 0.2)",backgroundColor:"transparent"},children:[u.jsx(Rb,{className:"w-4 h-4 mr-2"}),"Logout"]}),u.jsxs(Ae,{onClick:O,variant:"outline",className:"w-full justify-start text-red-600 border-red-200 hover:bg-red-50 rounded-xl",children:[u.jsx(c_,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]}),u.jsxs(xr,{className:"mt-6 p-4 backdrop-blur-sm border-2 rounded-2xl text-center",style:{backgroundColor:W?"rgba(45, 36, 36, 0.8)":"rgba(255, 255, 255, 0.8)",borderColor:W?"rgba(212, 117, 111, 0.3)":"rgba(212, 117, 111, 0.2)"},children:[u.jsx("p",{className:"text-xs",style:{color:W?"#c9a28f":"#8a7c74"},children:"Smile Artist v1.0.0"}),u.jsx("p",{className:"text-xs mt-1",style:{color:W?"#c9a28f":"#8a7c74"},children:"A safe space for poetry and connections"})]})]})}const Ww=x.createContext({avatarUrl:null,refreshAvatar:async()=>{}}),xf=()=>x.useContext(Ww);function yR(){const[t,e]=x.useState("home"),[n,o]=x.useState(!1),[a,l]=x.useState(""),[c,f]=x.useState(""),[h,m]=x.useState(null),[y,v]=x.useState(null),w=async N=>{const{data:j}=await de.from("profiles").select("username, avatar_url").eq("id",N).maybeSingle();j&&(l(j.username),m(j.avatar_url))};x.useEffect(()=>{(async()=>{const{data:P,error:z}=await de.auth.getSession();if(P.session){const F=P.session.user;f(F.id),o(!0),w(F.id)}else o(!1),l(""),f("")})();const{data:j}=de.auth.onAuthStateChange(async(P,z)=>{if(z){const F=z.user;f(F.id),o(!0),w(F.id)}else o(!1),l(""),f("")});return()=>{j.subscription.unsubscribe()}},[]);const k=(N,j)=>{l(N),f(j),o(!0)},_=async()=>{const{error:N}=await de.auth.signOut();N?console.error("Error logging out:",N):(o(!1),l(""),f(""),e("home"))},b=(N,j=null)=>{v(N==="profile"?j:null),e(N)};if(!n)return u.jsx(gR,{onLogin:k});const C=()=>{switch(t){case"home":return u.jsx(ig,{});case"search":return u.jsx(fN,{onViewChange:b});case"trending":return u.jsx(Cy,{});case"library":return u.jsx(pR,{});case"buddy":return u.jsx(pN,{});case"chats":return u.jsx(mN,{});case"write":return u.jsx(mR,{});case"customize":return u.jsx(ZT,{});case"profile":return u.jsx(fR,{onViewChange:b,userId:y||c});case"notifications":return u.jsx(hR,{});case"settings":return u.jsx(vR,{onLogout:_,username:a,userId:c,onUsernameUpdate:l});default:return u.jsx(ig,{})}},E=async()=>{c&&await w(c)};return u.jsx(Ww.Provider,{value:{avatarUrl:h,refreshAvatar:E},children:u.jsxs("div",{className:"min-h-screen transition-colors duration-300",style:{background:"linear-gradient(to bottom right, var(--theme-background), var(--theme-accent), var(--theme-accent)) ",fontFamily:"var(--theme-font-family)",fontSize:"var(--theme-font-size)"},children:[u.jsx(kS,{activeView:t,onViewChange:b}),u.jsx(ES,{onViewChange:b,activeView:t}),u.jsx(CS,{activeView:t,onViewChange:b}),u.jsx("main",{className:"md:ml-64 pt-16 pb-20 px-4 md:pt-0 md:pb-8 md:p-8",children:C()})]})})}function wR(){return u.jsx(Gx,{children:u.jsx(yR,{})})}Kx.createRoot(document.getElementById("root")).render(u.jsx(wR,{}));
